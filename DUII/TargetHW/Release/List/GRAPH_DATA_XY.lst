###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.2.52244/W32 for ARM     19/Nov/2015  13:10:37 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  arm                                                      #
#    Endian       =  little                                                   #
#    Source file  =  C:\DUII\TargetHW\GUI\GRAPH_DATA_XY.c                     #
#    Command line =  C:\DUII\TargetHW\GUI\GRAPH_DATA_XY.c -D DEBUG=1 -D       #
#                    SDRAM_TARGET=1 -D USB_IS_HIGH_SPEED -D NOPROFILER -D     #
#                    OS_TRACE=0 -D OS_VIEW_ENABLE=0 -lCN                      #
#                    C:\DUII\TargetHW\Release\List\ -o                        #
#                    C:\DUII\TargetHW\Release\Obj\ --endian=little            #
#                    --cpu=ARM926EJ-S -e --fpu=None --dlib_config             #
#                    "C:\Program Files (x86)\IAR Systems\Embedded Workbench   #
#                    6.0\arm\INC\c\DLib_Config_Normal.h" -I                   #
#                    C:\DUII\TargetHW\Application\SEGGERDEMO\ -I              #
#                    C:\DUII\TargetHW\Application\SEGGERDEMO\Src\ -I          #
#                    C:\DUII\TargetHW\Config\ -I C:\DUII\TargetHW\FS\ -I      #
#                    C:\DUII\TargetHW\GUI\ -I C:\DUII\TargetHW\Inc\ -I        #
#                    C:\DUII\TargetHW\OS\ -I C:\DUII\TargetHW\Setup\ -I       #
#                    \DUII\DUII\ -I \DUII\DUII\Graphics\ --cpu_mode arm -Ohs  #
#                    --use_c++_inline --require_prototypes                    #
#    List file    =  C:\DUII\TargetHW\Release\List\GRAPH_DATA_XY.lst          #
#    Object file  =  C:\DUII\TargetHW\Release\Obj\GRAPH_DATA_XY.o             #
#                                                                             #
#                                                                             #
###############################################################################

C:\DUII\TargetHW\GUI\GRAPH_DATA_XY.c
      1          /*********************************************************************
      2          *                SEGGER Microcontroller GmbH & Co. KG                *
      3          *        Solutions for real time microcontroller applications        *
      4          **********************************************************************
      5          *                                                                    *
      6          *        (c) 1996 - 2010  SEGGER Microcontroller GmbH & Co. KG       *
      7          *                                                                    *
      8          *        Internet: www.segger.com    Support:  support@segger.com    *
      9          *                                                                    *
     10          **********************************************************************
     11          
     12          ** emWin V5.06 - Graphical user interface for embedded applications **
     13          emWin is protected by international copyright laws.   Knowledge of the
     14          source code may not be used to write a similar product.  This file may
     15          only be used in accordance with a license and should not be re-
     16          distributed in any way. We appreciate your understanding and fairness.
     17          ----------------------------------------------------------------------
     18          File        : GRAPH_DATA_XY.c
     19          Purpose     : Implementation of YT graph
     20          ---------------------------END-OF-HEADER------------------------------
     21          */
     22          
     23          #include <string.h>
     24          
     25          #include "GRAPH_Private.h"
     26          
     27          #if GUI_WINSUPPORT
     28          
     29          /*********************************************************************
     30          *
     31          *       Defines
     32          *
     33          **********************************************************************
     34          */
     35          #define _LINES_VIS  (1 << 0)
     36          #define _POINTS_VIS (1 << 1)
     37          
     38          #ifndef   GRAPH_DATA_XY_POINTSIZE_DEFAULT
     39            #define GRAPH_DATA_XY_POINTSIZE_DEFAULT 5
     40          #endif
     41          
     42          /*********************************************************************
     43          *
     44          *       Types
     45          *
     46          **********************************************************************
     47          */
     48          typedef struct {
     49            GRAPH_DATA_OBJ GraphDataObj;
     50            WM_HMEM        hData;
     51            unsigned       PointSize;
     52            U8             Flags;
     53            U8             PenSize;
     54            U8             LineStyle;
     55            WIDGET_DRAW_ITEM_FUNC * pfOwnerDraw;
     56          } GRAPH_DATA_XY_OBJ;
     57          
     58          /*********************************************************************
     59          *
     60          *       Static routines
     61          *
     62          **********************************************************************
     63          */
     64          /*********************************************************************
     65          *
     66          *       _DrawPolyPoints
     67          */

   \                                 In section .text, align 4, keep-with-next
     68          static void _DrawPolyPoints(GRAPH_DATA_Handle hDataObj, int x0, int y0) {
   \                     _DrawPolyPoints:
   \   00000000   F34F2DE9           PUSH     {R0,R1,R4-R11,LR}
   \   00000004   24D04DE2           SUB      SP,SP,#+36
   \   00000008   0240A0E1           MOV      R4,R2
     69            GRAPH_DATA_XY_OBJ * pDataXYObj;
     70            const GUI_POINT * pPoints;
     71            int NumPoints;
     72            int x, y, Off;
     73            WIDGET_ITEM_DRAW_INFO ItemInfo;
     74          
     75            pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000000C   ........           BL       GUI_ALLOC_LockH
   \   00000010   0080A0E1           MOV      R8,R0
     76            pPoints    = (GUI_POINT *)GUI_LOCK_H(pDataXYObj->hData);
   \   00000014   200098E5           LDR      R0,[R8, #+32]
   \   00000018   ........           BL       GUI_ALLOC_LockH
   \   0000001C   0050A0E1           MOV      R5,R0
     77            NumPoints  = pDataXYObj->GraphDataObj.NumItems;
     78            Off        = (pDataXYObj->PointSize - 1) / 2;
   \   00000020   240098E5           LDR      R0,[R8, #+36]
   \   00000024   0C6098E5           LDR      R6,[R8, #+12]
   \   00000028   010040E2           SUB      R0,R0,#+1
   \   0000002C   A070A0E1           LSR      R7,R0,#+1
     79            if (pDataXYObj->pfOwnerDraw) {
   \   00000030   2C0098E5           LDR      R0,[R8, #+44]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   1100000A           BEQ      ??_DrawPolyPoints_0
     80              ItemInfo.Cmd  = WIDGET_ITEM_DRAW;
   \   0000003C   0110A0E3           MOV      R1,#+1
   \   00000040   04108DE5           STR      R1,[SP, #+4]
     81              ItemInfo.p    = (void *)&hDataObj;
   \   00000044   24108DE2           ADD      R1,SP,#+36
   \   00000048   1C108DE5           STR      R1,[SP, #+28]
     82              do {
     83                ItemInfo.x0 = x0 + pPoints->x;
   \                     ??_DrawPolyPoints_1:
   \   0000004C   F210D5E0           LDRSH    R1,[R5], #+2
   \   00000050   28009DE5           LDR      R0,[SP, #+40]
   \   00000054   000081E0           ADD      R0,R1,R0
   \   00000058   0C008DE5           STR      R0,[SP, #+12]
     84                ItemInfo.y0 = y0 - pPoints->y;
   \   0000005C   F200D5E0           LDRSH    R0,[R5], #+2
   \   00000060   000044E0           SUB      R0,R4,R0
   \   00000064   10008DE5           STR      R0,[SP, #+16]
     85                pDataXYObj->pfOwnerDraw(&ItemInfo);
   \   00000068   0D00A0E1           MOV      R0,SP
   \   0000006C   2C1098E5           LDR      R1,[R8, #+44]
   \   00000070   31FF2FE1           BLX      R1
     86                pPoints++;
     87              } while (--NumPoints > 0);
   \   00000074   016046E2           SUB      R6,R6,#+1
   \   00000078   010056E3           CMP      R6,#+1
   \   0000007C   F2FFFFAA           BGE      ??_DrawPolyPoints_1
   \   00000080   230000EA           B        ??_DrawPolyPoints_2
     88            } else {
     89              WM_ADDORG(x0,y0);
   \                     ??_DrawPolyPoints_0:
   \   00000084   ........           LDR      R0,??DataTable2
   \   00000088   28209DE5           LDR      R2,[SP, #+40]
   \   0000008C   403090E5           LDR      R3,[R0, #+64]
   \   00000090   440090E5           LDR      R0,[R0, #+68]
   \   00000094   022083E0           ADD      R2,R3,R2
   \   00000098   044080E0           ADD      R4,R0,R4
   \   0000009C   28208DE5           STR      R2,[SP, #+40]
     90              WM_ITERATE_START(NULL); {
   \   000000A0   0000A0E3           MOV      R0,#+0
   \   000000A4   ........           BL       WM__InitIVRSearch
   \   000000A8   000050E3           CMP      R0,#+0
   \   000000AC   1800000A           BEQ      ??_DrawPolyPoints_2
     91                do {
     92                  x = x0 + pPoints->x;
   \                     ??_DrawPolyPoints_3:
   \   000000B0   F210D5E0           LDRSH    R1,[R5], #+2
   \   000000B4   28009DE5           LDR      R0,[SP, #+40]
   \   000000B8   000081E0           ADD      R0,R1,R0
     93                  y = y0 - pPoints->y;
   \   000000BC   F210D5E0           LDRSH    R1,[R5], #+2
     94                  GL_DrawLine(x - Off, y - Off, x + Off, y + Off);
   \   000000C0   078040E0           SUB      R8,R0,R7
   \   000000C4   00A087E0           ADD      R10,R7,R0
   \   000000C8   011044E0           SUB      R1,R4,R1
   \   000000CC   079041E0           SUB      R9,R1,R7
   \   000000D0   01B087E0           ADD      R11,R7,R1
   \   000000D4   0B30A0E1           MOV      R3,R11
   \   000000D8   0A20A0E1           MOV      R2,R10
   \   000000DC   0910A0E1           MOV      R1,R9
   \   000000E0   0800A0E1           MOV      R0,R8
   \   000000E4   ........           BL       GL_DrawLine
     95                  GL_DrawLine(x - Off, y + Off, x + Off, y - Off);
   \   000000E8   0930A0E1           MOV      R3,R9
   \   000000EC   0A20A0E1           MOV      R2,R10
   \   000000F0   0B10A0E1           MOV      R1,R11
   \   000000F4   0800A0E1           MOV      R0,R8
   \   000000F8   ........           BL       GL_DrawLine
     96                  pPoints++;
     97                } while (--NumPoints > 0);
   \   000000FC   016046E2           SUB      R6,R6,#+1
   \   00000100   010056E3           CMP      R6,#+1
   \   00000104   E9FFFFAA           BGE      ??_DrawPolyPoints_3
     98              } WM_ITERATE_END();
   \   00000108   ........           BL       WM__GetNextIVR
   \   0000010C   000050E3           CMP      R0,#+0
   \   00000110   E6FFFF1A           BNE      ??_DrawPolyPoints_3
     99            }
    100            GUI_UNLOCK_H(pPoints);
   \                     ??_DrawPolyPoints_2:
   \   00000114   ........           BL       GUI_ALLOC_UnlockH
    101            GUI_UNLOCK_H(pDataXYObj);
   \   00000118   ........           BL       GUI_ALLOC_UnlockH
    102          }
   \   0000011C   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   00000120   F08FBDE8           POP      {R4-R11,PC}      ;; return
    103          
    104          /*********************************************************************
    105          *
    106          *       _DrawPolyLine
    107          */
    108          static void _DrawPolyLine(const GUI_POINT * pPoints, int NumPoints, int x0, int y0) {
    109            unsigned PixelCnt;
    110            PixelCnt = 0;
    111            WM_ADDORG(x0,y0);
    112            WM_ITERATE_START(NULL); {
    113              GL_MoveTo(pPoints->x + x0, y0 - pPoints->y);
    114              while (--NumPoints >0) {
    115                pPoints++;
    116                GL_DrawLineToEx(pPoints->x + x0, y0 - pPoints->y, &PixelCnt);
    117              }
    118            } WM_ITERATE_END();
    119          }
    120          
    121          /*********************************************************************
    122          *
    123          *       _OnPaint
    124          */

   \                                 In section .text, align 4, keep-with-next
    125          static void _OnPaint(GRAPH_DATA_Handle hDataObj, GUI_RECT * pRect) {
   \                     _OnPaint:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0CD04DE2           SUB      SP,SP,#+12
   \   00000008   0050A0E1           MOV      R5,R0
    126            GUI_POINT         * pData;
    127            GRAPH_DATA_XY_OBJ * pDataXYObj;
    128            GUI_USE_PARA(pRect);
    129            pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000000C   ........           BL       GUI_ALLOC_LockH
   \   00000010   0060A0E1           MOV      R6,R0
    130            if (pDataXYObj->hData) {
   \   00000014   200096E5           LDR      R0,[R6, #+32]
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   4D00000A           BEQ      ??_OnPaint_0
    131              GUI_RECT Rect;
    132              GRAPH_OBJ * pObj;
    133              int xPos, yPos;
    134              int BorderL, BorderT, BorderR, BorderB;
    135              pData = (GUI_POINT *)GUI_LOCK_H(pDataXYObj->hData);
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   0040A0E1           MOV      R4,R0
    136              pObj = GRAPH_LOCK_H(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000028   080096E5           LDR      R0,[R6, #+8]
   \   0000002C   ........           BL       GUI_ALLOC_LockH
   \   00000030   0070A0E1           MOV      R7,R0
    137              BorderL = pObj->Props.BorderL;
   \   00000034   548097E5           LDR      R8,[R7, #+84]
    138              BorderT = pObj->Props.BorderT;
   \   00000038   589097E5           LDR      R9,[R7, #+88]
    139              BorderR = pObj->Props.BorderR;
   \   0000003C   5CA097E5           LDR      R10,[R7, #+92]
    140              BorderB = pObj->Props.BorderB;
   \   00000040   60B097E5           LDR      R11,[R7, #+96]
    141              WM_GetInsideRectExScrollbar(pDataXYObj->GraphDataObj.PaintObj.hGraph, &Rect);
   \   00000044   0D10A0E1           MOV      R1,SP
   \   00000048   080096E5           LDR      R0,[R6, #+8]
   \   0000004C   ........           BL       WM_GetInsideRectExScrollbar
    142              Rect.x0 += BorderL;
   \   00000050   F000DDE1           LDRSH    R0,[SP, #+0]
   \   00000054   000088E0           ADD      R0,R8,R0
   \   00000058   B000CDE1           STRH     R0,[SP, #+0]
    143              Rect.y0 += BorderT;
   \   0000005C   F200DDE1           LDRSH    R0,[SP, #+2]
    144              Rect.x1 -= BorderR;
    145              Rect.y1 -= BorderB;
    146              xPos     = Rect.x0 + pDataXYObj->GraphDataObj.OffX;
   \   00000060   F010DDE1           LDRSH    R1,[SP, #+0]
   \   00000064   000089E0           ADD      R0,R9,R0
   \   00000068   B200CDE1           STRH     R0,[SP, #+2]
   \   0000006C   F400DDE1           LDRSH    R0,[SP, #+4]
   \   00000070   0A0040E0           SUB      R0,R0,R10
   \   00000074   B400CDE1           STRH     R0,[SP, #+4]
   \   00000078   F600DDE1           LDRSH    R0,[SP, #+6]
   \   0000007C   0B0040E0           SUB      R0,R0,R11
   \   00000080   B600CDE1           STRH     R0,[SP, #+6]
   \   00000084   182096E5           LDR      R2,[R6, #+24]
    147              yPos     = Rect.y1 - pDataXYObj->GraphDataObj.OffY;
   \   00000088   0008A0E1           LSL      R0,R0,#+16
   \   0000008C   018082E0           ADD      R8,R2,R1
   \   00000090   1C1096E5           LDR      R1,[R6, #+28]
   \   00000094   4008A0E1           ASR      R0,R0,#+16
   \   00000098   019040E0           SUB      R9,R0,R1
    148              GUI_SetColor(pDataXYObj->GraphDataObj.Color);
   \   0000009C   140096E5           LDR      R0,[R6, #+20]
   \   000000A0   ........           BL       GUI_SetColor
    149              GUI_SetPenSize(pDataXYObj->PenSize);
   \   000000A4   2900D6E5           LDRB     R0,[R6, #+41]
   \   000000A8   ........           BL       GUI_SetPenSize
    150              GUI_SetLineStyle(pDataXYObj->LineStyle);
   \   000000AC   2A00D6E5           LDRB     R0,[R6, #+42]
   \   000000B0   ........           BL       GUI_SetLineStyle
    151              if (pDataXYObj->Flags & _POINTS_VIS) {
   \   000000B4   2800D6E5           LDRB     R0,[R6, #+40]
   \   000000B8   020010E3           TST      R0,#0x2
   \   000000BC   0500000A           BEQ      ??_OnPaint_1
    152                _DrawPolyPoints(hDataObj, xPos + pObj->ScrollStateH.v, yPos + pObj->ScrollStateV.v);
   \   000000C0   800097E5           LDR      R0,[R7, #+128]
   \   000000C4   092080E0           ADD      R2,R0,R9
   \   000000C8   8C0097E5           LDR      R0,[R7, #+140]
   \   000000CC   081080E0           ADD      R1,R0,R8
   \   000000D0   0500A0E1           MOV      R0,R5
   \   000000D4   ........           BL       _DrawPolyPoints
    153              }
    154              if (pDataXYObj->Flags & _LINES_VIS) {
   \                     ??_OnPaint_1:
   \   000000D8   2800D6E5           LDRB     R0,[R6, #+40]
   \   000000DC   010010E3           TST      R0,#0x1
   \   000000E0   1A00000A           BEQ      ??_OnPaint_2
    155                _DrawPolyLine(pData, pDataXYObj->GraphDataObj.NumItems, xPos + pObj->ScrollStateH.v, yPos + pObj->ScrollStateV.v);
   \   000000E4   800097E5           LDR      R0,[R7, #+128]
   \   000000E8   8C1097E5           LDR      R1,[R7, #+140]
   \   000000EC   0C5096E5           LDR      R5,[R6, #+12]
   \   000000F0   0030A0E3           MOV      R3,#+0
   \   000000F4   ........           LDR      R2,??DataTable2
   \   000000F8   08308DE5           STR      R3,[SP, #+8]
   \   000000FC   403092E5           LDR      R3,[R2, #+64]
   \   00000100   081081E0           ADD      R1,R1,R8
   \   00000104   016083E0           ADD      R6,R3,R1
   \   00000108   441092E5           LDR      R1,[R2, #+68]
   \   0000010C   090080E0           ADD      R0,R0,R9
   \   00000110   007081E0           ADD      R7,R1,R0
   \   00000114   0000A0E3           MOV      R0,#+0
   \   00000118   ........           BL       WM__InitIVRSearch
   \   0000011C   000050E3           CMP      R0,#+0
   \   00000120   0A00000A           BEQ      ??_OnPaint_2
   \                     ??_OnPaint_3:
   \   00000124   F200D4E1           LDRSH    R0,[R4, #+2]
   \   00000128   001047E0           SUB      R1,R7,R0
   \   0000012C   F000D4E1           LDRSH    R0,[R4, #+0]
   \   00000130   000086E0           ADD      R0,R6,R0
   \   00000134   ........           BL       GL_MoveTo
   \   00000138   015045E2           SUB      R5,R5,#+1
   \   0000013C   010055E3           CMP      R5,#+1
   \   00000140   070000AA           BGE      ??_OnPaint_4
   \                     ??_OnPaint_5:
   \   00000144   ........           BL       WM__GetNextIVR
   \   00000148   000050E3           CMP      R0,#+0
   \   0000014C   F4FFFF1A           BNE      ??_OnPaint_3
    156              }
    157              GUI_UNLOCK_H(pObj);
   \                     ??_OnPaint_2:
   \   00000150   ........           BL       GUI_ALLOC_UnlockH
    158              GUI_UNLOCK_H(pData);
   \   00000154   ........           BL       GUI_ALLOC_UnlockH
    159            }
    160            GUI_UNLOCK_H(pDataXYObj);
   \                     ??_OnPaint_0:
   \   00000158   ........           BL       GUI_ALLOC_UnlockH
    161          }
   \   0000015C   0CD08DE2           ADD      SP,SP,#+12       ;; stack cleaning
   \   00000160   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??_OnPaint_4:
   \   00000164   044084E2           ADD      R4,R4,#+4
   \   00000168   F200D4E1           LDRSH    R0,[R4, #+2]
   \   0000016C   08208DE2           ADD      R2,SP,#+8
   \   00000170   001047E0           SUB      R1,R7,R0
   \   00000174   F000D4E1           LDRSH    R0,[R4, #+0]
   \   00000178   000086E0           ADD      R0,R6,R0
   \   0000017C   ........           BL       GL_DrawLineToEx
   \   00000180   015045E2           SUB      R5,R5,#+1
   \   00000184   010055E3           CMP      R5,#+1
   \   00000188   F5FFFFAA           BGE      ??_OnPaint_4
   \   0000018C   ECFFFFEA           B        ??_OnPaint_5
    162          
    163          /*********************************************************************
    164          *
    165          *       _OnDelete
    166          */

   \                                 In section .text, align 4, keep-with-next
    167          static void _OnDelete(GRAPH_DATA_Handle hDataObj) {
   \                     _OnDelete:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    168            GRAPH_DATA_XY_OBJ * pDataXYObj;
    169            pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   00000008   ........           BL       GUI_ALLOC_LockH
   \   0000000C   0050A0E1           MOV      R5,R0
    170            if (pDataXYObj->hData) {
   \   00000010   200095E5           LDR      R0,[R5, #+32]
   \   00000014   0060A0E3           MOV      R6,#+0
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0100000A           BEQ      ??_OnDelete_0
    171              GUI_ALLOC_Free(pDataXYObj->hData);
   \   00000020   ........           BL       GUI_ALLOC_Free
    172              pDataXYObj->hData = 0;
   \   00000024   206085E5           STR      R6,[R5, #+32]
    173            }
    174            GUI_UNLOCK_H(pDataXYObj);
   \                     ??_OnDelete_0:
   \   00000028   ........           BL       GUI_ALLOC_UnlockH
    175            GUI_ALLOC_Free(hDataObj);
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   7040BDE8           POP      {R4-R6,LR}
   \   00000034   ........           B        GUI_ALLOC_Free   ;; tailcall
    176          }
    177          
    178          /*********************************************************************
    179          *
    180          *       Exported routines
    181          *
    182          **********************************************************************
    183          */
    184          /*********************************************************************
    185          *
    186          *       GRAPH_DATA_XY_Create
    187          */

   \                                 In section .text, align 4, keep-with-next
    188          GRAPH_DATA_Handle GRAPH_DATA_XY_Create(GUI_COLOR Color, unsigned MaxNumItems, GUI_POINT * pItems, unsigned NumItems) {
   \                     GRAPH_DATA_XY_Create:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0280A0E1           MOV      R8,R2
   \   00000014   0360A0E1           MOV      R6,R3
    189            GRAPH_DATA_Handle  hDataObj;
    190            WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    191            hDataObj = GUI_ALLOC_AllocZero(sizeof(GRAPH_DATA_XY_OBJ));
   \   0000001C   3000A0E3           MOV      R0,#+48
   \   00000020   ........           BL       GUI_ALLOC_AllocZero
   \   00000024   0070B0E1           MOVS     R7,R0
    192            if (hDataObj) {
   \   00000028   1A00000A           BEQ      ??GRAPH_DATA_XY_Create_0
    193              GRAPH_DATA_XY_OBJ * pDataXYObj;
    194              WM_HMEM             hData;
    195              int                 BufferSize;
    196              BufferSize = sizeof(GUI_POINT) * MaxNumItems;
    197              hData = GUI_ALLOC_AllocZero(BufferSize);
   \   0000002C   0501A0E1           LSL      R0,R5,#+2
   \   00000030   ........           BL       GUI_ALLOC_AllocZero
   \   00000034   0090B0E1           MOVS     R9,R0
    198              if (hData && pItems && NumItems) {
   \   00000038   00005813           CMPNE    R8,#+0
   \   0000003C   00005613           CMPNE    R6,#+0
   \   00000040   0400000A           BEQ      ??GRAPH_DATA_XY_Create_1
    199                void * p;
    200                p = GUI_LOCK_H(hData);
   \   00000044   ........           BL       GUI_ALLOC_LockH
    201                GUI_MEMCPY(p, pItems, sizeof(GUI_POINT) * NumItems);
   \   00000048   0621A0E1           LSL      R2,R6,#+2
   \   0000004C   0810A0E1           MOV      R1,R8
   \   00000050   ........           BL       __aeabi_memcpy
    202                GUI_UNLOCK_H(p);
   \   00000054   ........           BL       GUI_ALLOC_UnlockH
    203              }
    204              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \                     ??GRAPH_DATA_XY_Create_1:
   \   00000058   0700A0E1           MOV      R0,R7
   \   0000005C   ........           BL       GUI_ALLOC_LockH
    205              pDataXYObj->hData     = hData;
   \   00000060   209080E5           STR      R9,[R0, #+32]
    206              pDataXYObj->PenSize   = 1;
   \   00000064   0110A0E3           MOV      R1,#+1
   \   00000068   2910C0E5           STRB     R1,[R0, #+41]
    207              pDataXYObj->PointSize = GRAPH_DATA_XY_POINTSIZE_DEFAULT;
   \   0000006C   0520A0E3           MOV      R2,#+5
   \   00000070   242080E5           STR      R2,[R0, #+36]
    208              pDataXYObj->Flags     = _LINES_VIS;
   \   00000074   2810C0E5           STRB     R1,[R0, #+40]
    209              pDataXYObj->GraphDataObj.Color               = Color;
   \   00000078   144080E5           STR      R4,[R0, #+20]
    210              pDataXYObj->GraphDataObj.MaxNumItems         = MaxNumItems;
   \   0000007C   105080E5           STR      R5,[R0, #+16]
    211              pDataXYObj->GraphDataObj.NumItems            = NumItems;
    212              pDataXYObj->GraphDataObj.PaintObj.pfOnPaint  = _OnPaint;
   \   00000080   ........           LDR      R1,??DataTable2_1
   \   00000084   0C6080E5           STR      R6,[R0, #+12]
   \   00000088   001080E5           STR      R1,[R0, #+0]
    213              pDataXYObj->GraphDataObj.PaintObj.pfOnDelete = _OnDelete;
   \   0000008C   ........           LDR      R1,??DataTable2_2
   \   00000090   041080E5           STR      R1,[R0, #+4]
    214              GUI_UNLOCK_H(pDataXYObj);
   \   00000094   ........           BL       GUI_ALLOC_UnlockH
    215            }
    216            WM_UNLOCK();
   \                     ??GRAPH_DATA_XY_Create_0:
   \   00000098   ........           BL       GUI_Unlock
    217            return hDataObj;
   \   0000009C   0700A0E1           MOV      R0,R7
   \   000000A0   04D08DE2           ADD      SP,SP,#+4
   \   000000A4   F083BDE8           POP      {R4-R9,PC}       ;; return
    218          }
    219          
    220          /*********************************************************************
    221          *
    222          *       GRAPH_DATA_XY_Delete
    223          */

   \                                 In section .text, align 4, keep-with-next
    224          void GRAPH_DATA_XY_Delete(GRAPH_DATA_Handle hDataObj) {
   \                     GRAPH_DATA_XY_Delete:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    225            WM_LOCK();
   \   00000008   ........           BL       GUI_Lock
    226            _OnDelete(hDataObj);
   \   0000000C   0400A0E1           MOV      R0,R4
   \   00000010   ........           BL       GUI_ALLOC_LockH
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   200095E5           LDR      R0,[R5, #+32]
   \   0000001C   0060A0E3           MOV      R6,#+0
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   0100000A           BEQ      ??GRAPH_DATA_XY_Delete_0
   \   00000028   ........           BL       GUI_ALLOC_Free
   \   0000002C   206085E5           STR      R6,[R5, #+32]
   \                     ??GRAPH_DATA_XY_Delete_0:
   \   00000030   ........           BL       GUI_ALLOC_UnlockH
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   ........           BL       GUI_ALLOC_Free
    227            WM_UNLOCK();
   \   0000003C   7040BDE8           POP      {R4-R6,LR}
   \   00000040   ........           B        GUI_Unlock       ;; tailcall
    228          }
    229          
    230          /*********************************************************************
    231          *
    232          *       GRAPH_DATA_XY_AddPoint
    233          */

   \                                 In section .text, align 4, keep-with-next
    234          void GRAPH_DATA_XY_AddPoint(GRAPH_DATA_Handle hDataObj, GUI_POINT * pPoint) {
   \                     GRAPH_DATA_XY_AddPoint:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    235            GRAPH_DATA_XY_OBJ * pDataXYObj;
    236            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0C00000A           BEQ      ??GRAPH_DATA_XY_AddPoint_0
    237              GUI_POINT * pData;
    238              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    239              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   0040A0E1           MOV      R4,R0
    240              pData = (GUI_POINT *)GUI_LOCK_H(pDataXYObj->hData);
   \   00000028   200094E5           LDR      R0,[R4, #+32]
   \   0000002C   ........           BL       GUI_ALLOC_LockH
    241              GRAPH__AddValue(&pDataXYObj->GraphDataObj, pData, pPoint, sizeof(GUI_POINT));
   \   00000030   0010A0E1           MOV      R1,R0
   \   00000034   0430A0E3           MOV      R3,#+4
   \   00000038   0520A0E1           MOV      R2,R5
   \   0000003C   0400A0E1           MOV      R0,R4
   \   00000040   ........           BL       GRAPH__AddValue
    242              GUI_UNLOCK_H(pData);
   \   00000044   ........           BL       GUI_ALLOC_UnlockH
    243              GUI_UNLOCK_H(pDataXYObj);
   \   00000048   ........           BL       GUI_ALLOC_UnlockH
    244            }
    245            WM_UNLOCK();
   \                     ??GRAPH_DATA_XY_AddPoint_0:
   \   0000004C   04D08DE2           ADD      SP,SP,#+4
   \   00000050   3040BDE8           POP      {R4,R5,LR}
   \   00000054   ........           B        GUI_Unlock       ;; tailcall
    246          }
    247          
    248          /*********************************************************************
    249          *
    250          *       GRAPH_DATA_XY_SetOffX
    251          */

   \                                 In section .text, align 4, keep-with-next
    252          void GRAPH_DATA_XY_SetOffX(GRAPH_DATA_Handle hDataObj, int Off) {
   \                     GRAPH_DATA_XY_SetOffX:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    253            GRAPH_DATA_OBJ * pDataObj;
    254            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??GRAPH_DATA_XY_SetOffX_0
    255              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    256              pDataObj = (GRAPH_DATA_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    257              if (pDataObj->OffX != Off) {
   \   00000024   181090E5           LDR      R1,[R0, #+24]
   \   00000028   050051E1           CMP      R1,R5
   \   0000002C   0200000A           BEQ      ??GRAPH_DATA_XY_SetOffX_1
    258                pDataObj->OffX = Off;
   \   00000030   185080E5           STR      R5,[R0, #+24]
    259                WM_Invalidate(pDataObj->PaintObj.hGraph);
   \   00000034   080090E5           LDR      R0,[R0, #+8]
   \   00000038   ........           BL       WM_InvalidateWindow
    260              }
    261              GUI_UNLOCK_H(pDataObj);
   \                     ??GRAPH_DATA_XY_SetOffX_1:
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
    262              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
    263            }
    264          }
   \                     ??GRAPH_DATA_XY_SetOffX_0:
   \   00000044   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
    265          
    266          /*********************************************************************
    267          *
    268          *       GRAPH_DATA_XY_SetOffY
    269          */

   \                                 In section .text, align 4, keep-with-next
    270          void GRAPH_DATA_XY_SetOffY(GRAPH_DATA_Handle hDataObj, int Off) {
   \                     GRAPH_DATA_XY_SetOffY:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    271            GRAPH_DATA_OBJ * pDataObj;
    272            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??GRAPH_DATA_XY_SetOffY_0
    273              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    274              pDataObj = (GRAPH_DATA_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    275              if (pDataObj->OffY != Off) {
   \   00000024   1C1090E5           LDR      R1,[R0, #+28]
   \   00000028   050051E1           CMP      R1,R5
   \   0000002C   0200000A           BEQ      ??GRAPH_DATA_XY_SetOffY_1
    276                pDataObj->OffY = Off;
   \   00000030   1C5080E5           STR      R5,[R0, #+28]
    277                WM_Invalidate(pDataObj->PaintObj.hGraph);
   \   00000034   080090E5           LDR      R0,[R0, #+8]
   \   00000038   ........           BL       WM_InvalidateWindow
    278              }
    279              GUI_UNLOCK_H(pDataObj);
   \                     ??GRAPH_DATA_XY_SetOffY_1:
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
    280              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
    281            }
    282          }
   \                     ??GRAPH_DATA_XY_SetOffY_0:
   \   00000044   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
    283          
    284          /*********************************************************************
    285          *
    286          *       GRAPH_DATA_XY_SetPenSize
    287          */

   \                                 In section .text, align 4, keep-with-next
    288          void GRAPH_DATA_XY_SetPenSize(GRAPH_DATA_Handle hDataObj, U8 PenSize) {
   \                     GRAPH_DATA_XY_SetPenSize:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    289            GRAPH_DATA_XY_OBJ * pDataXYObj;
    290            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??GRAPH_DATA_XY_SetPenSize_0
    291              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    292              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    293              if (pDataXYObj->PenSize != PenSize) {
   \   00000024   2910D0E5           LDRB     R1,[R0, #+41]
   \   00000028   050051E1           CMP      R1,R5
   \   0000002C   0200000A           BEQ      ??GRAPH_DATA_XY_SetPenSize_1
    294                pDataXYObj->PenSize = PenSize;
   \   00000030   2950C0E5           STRB     R5,[R0, #+41]
    295                WM_InvalidateWindow(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000034   080090E5           LDR      R0,[R0, #+8]
   \   00000038   ........           BL       WM_InvalidateWindow
    296              }
    297              GUI_UNLOCK_H(pDataXYObj);
   \                     ??GRAPH_DATA_XY_SetPenSize_1:
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
    298              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
    299            }
    300          }
   \                     ??GRAPH_DATA_XY_SetPenSize_0:
   \   00000044   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
    301          
    302          /*********************************************************************
    303          *
    304          *       GRAPH_DATA_XY_SetLineStyle
    305          */

   \                                 In section .text, align 4, keep-with-next
    306          void GRAPH_DATA_XY_SetLineStyle(GRAPH_DATA_Handle hDataObj, U8 LineStyle) {
   \                     GRAPH_DATA_XY_SetLineStyle:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    307            GRAPH_DATA_XY_OBJ * pDataXYObj;
    308            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??GRAPH_DATA_XY_SetLineStyle_0
    309              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    310              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    311              if (pDataXYObj->LineStyle != LineStyle) {
   \   00000024   2A10D0E5           LDRB     R1,[R0, #+42]
   \   00000028   050051E1           CMP      R1,R5
   \   0000002C   0200000A           BEQ      ??GRAPH_DATA_XY_SetLineStyle_1
    312                pDataXYObj->LineStyle = LineStyle;
   \   00000030   2A50C0E5           STRB     R5,[R0, #+42]
    313                WM_InvalidateWindow(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000034   080090E5           LDR      R0,[R0, #+8]
   \   00000038   ........           BL       WM_InvalidateWindow
    314              }
    315              GUI_UNLOCK_H(pDataXYObj);
   \                     ??GRAPH_DATA_XY_SetLineStyle_1:
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
    316              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
    317            }
    318          }
   \                     ??GRAPH_DATA_XY_SetLineStyle_0:
   \   00000044   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
    319          
    320          /*********************************************************************
    321          *
    322          *       GRAPH_DATA_XY_GetLineVis
    323          */

   \                                 In section .text, align 4, keep-with-next
    324          unsigned  GRAPH_DATA_XY_GetLineVis(GRAPH_DATA_Handle hDataObj) {
   \                     GRAPH_DATA_XY_GetLineVis:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040B0E1           MOVS     R4,R0
    325            unsigned Old = 0;
   \   0000000C   0050A0E3           MOV      R5,#+0
    326            GRAPH_DATA_XY_OBJ * pDataXYObj;
    327            if (hDataObj) {
   \   00000010   0600000A           BEQ      ??GRAPH_DATA_XY_GetLineVis_0
    328              WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
    329              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
    330              Old = (pDataXYObj->Flags & _LINES_VIS) ? 1 : 0;
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   \   00000020   2800D0E5           LDRB     R0,[R0, #+40]
   \   00000024   015000E2           AND      R5,R0,#0x1
    331              GUI_UNLOCK_H(pDataXYObj);
   \   00000028   ........           BL       GUI_ALLOC_UnlockH
    332              WM_UNLOCK();
   \   0000002C   ........           BL       GUI_Unlock
    333            }
    334            return Old;
   \                     ??GRAPH_DATA_XY_GetLineVis_0:
   \   00000030   0500A0E1           MOV      R0,R5
   \   00000034   04D08DE2           ADD      SP,SP,#+4
   \   00000038   3080BDE8           POP      {R4,R5,PC}       ;; return
    335          }
    336          
    337          /*********************************************************************
    338          *
    339          *       GRAPH_DATA_XY_GetPointVis
    340          */

   \                                 In section .text, align 4, keep-with-next
    341          unsigned  GRAPH_DATA_XY_GetPointVis(GRAPH_DATA_Handle hDataObj) {
   \                     GRAPH_DATA_XY_GetPointVis:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040B0E1           MOVS     R4,R0
    342            unsigned Old = 0;
   \   0000000C   0050A0E3           MOV      R5,#+0
    343            GRAPH_DATA_XY_OBJ * pDataXYObj;
    344            if (hDataObj) {
   \   00000010   0700000A           BEQ      ??GRAPH_DATA_XY_GetPointVis_0
    345              WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
    346              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
    347              Old = (pDataXYObj->Flags & _POINTS_VIS) ? 1 : 0;
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   \   00000020   2800D0E5           LDRB     R0,[R0, #+40]
   \   00000024   0110A0E3           MOV      R1,#+1
   \   00000028   A05001E0           AND      R5,R1,R0, LSR #+1
    348              GUI_UNLOCK_H(pDataXYObj);
   \   0000002C   ........           BL       GUI_ALLOC_UnlockH
    349              WM_UNLOCK();
   \   00000030   ........           BL       GUI_Unlock
    350            }
    351            return Old;
   \                     ??GRAPH_DATA_XY_GetPointVis_0:
   \   00000034   0500A0E1           MOV      R0,R5
   \   00000038   04D08DE2           ADD      SP,SP,#+4
   \   0000003C   3080BDE8           POP      {R4,R5,PC}       ;; return
    352          }
    353          
    354          /*********************************************************************
    355          *
    356          *       GRAPH_DATA_XY_SetLineVis
    357          */

   \                                 In section .text, align 4, keep-with-next
    358          unsigned  GRAPH_DATA_XY_SetLineVis(GRAPH_DATA_Handle hDataObj, unsigned OnOff) {
   \                     GRAPH_DATA_XY_SetLineVis:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   0160A0E1           MOV      R6,R1
    359            unsigned Old = 0;
   \   0000000C   0040A0E3           MOV      R4,#+0
    360            GRAPH_DATA_XY_OBJ * pDataXYObj;
    361            if (hDataObj) {
   \   00000010   000055E3           CMP      R5,#+0
   \   00000014   1400000A           BEQ      ??GRAPH_DATA_XY_SetLineVis_0
    362              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    363              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   ........           BL       GUI_ALLOC_LockH
    364              Old = (pDataXYObj->Flags & _LINES_VIS) ? 1 : 0;
   \   00000024   2810D0E5           LDRB     R1,[R0, #+40]
    365              if        ((OnOff == 1) && ((pDataXYObj->Flags & _LINES_VIS) == 0)) {
   \   00000028   010056E3           CMP      R6,#+1
   \   0000002C   014001E2           AND      R4,R1,#0x1
   \   00000030   0300001A           BNE      ??GRAPH_DATA_XY_SetLineVis_1
   \   00000034   010011E3           TST      R1,#0x1
   \   00000038   0900001A           BNE      ??GRAPH_DATA_XY_SetLineVis_2
    366                pDataXYObj->Flags |= _LINES_VIS;
   \   0000003C   011081E3           ORR      R1,R1,#0x1
   \   00000040   040000EA           B        ??GRAPH_DATA_XY_SetLineVis_3
    367                WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
    368              } else if ((OnOff == 0) && ((pDataXYObj->Flags & _LINES_VIS) != 0)) {
   \                     ??GRAPH_DATA_XY_SetLineVis_1:
   \   00000044   000056E3           CMP      R6,#+0
   \   00000048   0500001A           BNE      ??GRAPH_DATA_XY_SetLineVis_2
   \   0000004C   010011E3           TST      R1,#0x1
   \   00000050   0300000A           BEQ      ??GRAPH_DATA_XY_SetLineVis_2
    369                pDataXYObj->Flags &= ~_LINES_VIS;
   \   00000054   FE1001E2           AND      R1,R1,#0xFE
   \                     ??GRAPH_DATA_XY_SetLineVis_3:
   \   00000058   2810C0E5           STRB     R1,[R0, #+40]
    370                WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   0000005C   080090E5           LDR      R0,[R0, #+8]
   \   00000060   ........           BL       WM_InvalidateWindow
    371              }
    372              GUI_UNLOCK_H(pDataXYObj);
   \                     ??GRAPH_DATA_XY_SetLineVis_2:
   \   00000064   ........           BL       GUI_ALLOC_UnlockH
    373              WM_UNLOCK();
   \   00000068   ........           BL       GUI_Unlock
    374            }
    375            return Old;
   \                     ??GRAPH_DATA_XY_SetLineVis_0:
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   7080BDE8           POP      {R4-R6,PC}       ;; return
    376          }
    377          
    378          /*********************************************************************
    379          *
    380          *       GRAPH_DATA_XY_SetPointVis
    381          */

   \                                 In section .text, align 4, keep-with-next
    382          unsigned  GRAPH_DATA_XY_SetPointVis(GRAPH_DATA_Handle hDataObj, unsigned OnOff) {
   \                     GRAPH_DATA_XY_SetPointVis:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   0160A0E1           MOV      R6,R1
    383            unsigned Old = 0;
   \   0000000C   0040A0E3           MOV      R4,#+0
    384            GRAPH_DATA_XY_OBJ * pDataXYObj;
    385            if (hDataObj) {
   \   00000010   000055E3           CMP      R5,#+0
   \   00000014   1500000A           BEQ      ??GRAPH_DATA_XY_SetPointVis_0
    386              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    387              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   ........           BL       GUI_ALLOC_LockH
    388              Old = (pDataXYObj->Flags & _POINTS_VIS) ? 1 : 0;
   \   00000024   2810D0E5           LDRB     R1,[R0, #+40]
   \   00000028   0120A0E3           MOV      R2,#+1
    389              if        ((OnOff == 1) && ((pDataXYObj->Flags & _POINTS_VIS) == 0)) {
   \   0000002C   010056E3           CMP      R6,#+1
   \   00000030   A14002E0           AND      R4,R2,R1, LSR #+1
   \   00000034   0300001A           BNE      ??GRAPH_DATA_XY_SetPointVis_1
   \   00000038   020011E3           TST      R1,#0x2
   \   0000003C   0900001A           BNE      ??GRAPH_DATA_XY_SetPointVis_2
    390                pDataXYObj->Flags |= _POINTS_VIS;
   \   00000040   021081E3           ORR      R1,R1,#0x2
   \   00000044   040000EA           B        ??GRAPH_DATA_XY_SetPointVis_3
    391                WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
    392              } else if ((OnOff == 0) && ((pDataXYObj->Flags & _POINTS_VIS) != 0)) {
   \                     ??GRAPH_DATA_XY_SetPointVis_1:
   \   00000048   000056E3           CMP      R6,#+0
   \   0000004C   0500001A           BNE      ??GRAPH_DATA_XY_SetPointVis_2
   \   00000050   020011E3           TST      R1,#0x2
   \   00000054   0300000A           BEQ      ??GRAPH_DATA_XY_SetPointVis_2
    393                pDataXYObj->Flags &= ~_POINTS_VIS;
   \   00000058   0210C1E3           BIC      R1,R1,#0x2
   \                     ??GRAPH_DATA_XY_SetPointVis_3:
   \   0000005C   2810C0E5           STRB     R1,[R0, #+40]
    394                WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000060   080090E5           LDR      R0,[R0, #+8]
   \   00000064   ........           BL       WM_InvalidateWindow
    395              }
    396              GUI_UNLOCK_H(pDataXYObj);
   \                     ??GRAPH_DATA_XY_SetPointVis_2:
   \   00000068   ........           BL       GUI_ALLOC_UnlockH
    397              WM_UNLOCK();
   \   0000006C   ........           BL       GUI_Unlock
    398            }
    399            return Old;
   \                     ??GRAPH_DATA_XY_SetPointVis_0:
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   7080BDE8           POP      {R4-R6,PC}       ;; return
    400          }
    401          
    402          /*********************************************************************
    403          *
    404          *       GRAPH_DATA_XY_Clear
    405          */

   \                                 In section .text, align 4, keep-with-next
    406          void GRAPH_DATA_XY_Clear(GRAPH_DATA_Handle hDataObj) {
   \                     GRAPH_DATA_XY_Clear:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040B0E1           MOVS     R4,R0
    407            GRAPH_DATA_OBJ * pDataObj;
    408            if (hDataObj) {
   \   00000008   0800000A           BEQ      ??GRAPH_DATA_XY_Clear_0
    409              WM_LOCK();
   \   0000000C   ........           BL       GUI_Lock
    410              pDataObj = (GRAPH_DATA_OBJ *)GUI_LOCK_H(hDataObj);
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   ........           BL       GUI_ALLOC_LockH
    411              pDataObj->NumItems = 0;
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   0C1080E5           STR      R1,[R0, #+12]
    412              WM_Invalidate(pDataObj->PaintObj.hGraph);
   \   00000020   080090E5           LDR      R0,[R0, #+8]
   \   00000024   ........           BL       WM_InvalidateWindow
    413              GUI_UNLOCK_H(pDataObj);
   \   00000028   ........           BL       GUI_ALLOC_UnlockH
    414              WM_UNLOCK();
   \   0000002C   ........           BL       GUI_Unlock
    415            }
    416          }
   \                     ??GRAPH_DATA_XY_Clear_0:
   \   00000030   1080BDE8           POP      {R4,PC}          ;; return
    417          
    418          /*********************************************************************
    419          *
    420          *       GRAPH_DATA_XY_SetOwnerDraw
    421          */

   \                                 In section .text, align 4, keep-with-next
    422          void GRAPH_DATA_XY_SetOwnerDraw(GRAPH_DATA_Handle hDataObj, WIDGET_DRAW_ITEM_FUNC * pfOwnerDraw) {
   \                     GRAPH_DATA_XY_SetOwnerDraw:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    423            GRAPH_DATA_XY_OBJ * pDataXYObj;
    424            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0700000A           BEQ      ??GRAPH_DATA_XY_SetOwnerDraw_0
    425              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    426              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    427              pDataXYObj->pfOwnerDraw = pfOwnerDraw;
   \   00000024   2C5080E5           STR      R5,[R0, #+44]
    428              WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000028   080090E5           LDR      R0,[R0, #+8]
   \   0000002C   ........           BL       WM_InvalidateWindow
    429              GUI_UNLOCK_H(pDataXYObj);
   \   00000030   ........           BL       GUI_ALLOC_UnlockH
    430              WM_UNLOCK();
   \   00000034   ........           BL       GUI_Unlock
    431            }
    432          }
   \                     ??GRAPH_DATA_XY_SetOwnerDraw_0:
   \   00000038   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   0000003C   3080BDE8           POP      {R4,R5,PC}       ;; return
    433          
    434          /*********************************************************************
    435          *
    436          *       GRAPH_DATA_XY_SetPointSize
    437          */

   \                                 In section .text, align 4, keep-with-next
    438          void GRAPH_DATA_XY_SetPointSize(GRAPH_DATA_Handle hDataObj, unsigned PointSize) {
   \                     GRAPH_DATA_XY_SetPointSize:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   0150A0E1           MOV      R5,R1
    439            GRAPH_DATA_XY_OBJ * pDataXYObj;
    440            if (hDataObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0700000A           BEQ      ??GRAPH_DATA_XY_SetPointSize_0
    441              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    442              pDataXYObj = (GRAPH_DATA_XY_OBJ *)GUI_LOCK_H(hDataObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
    443              pDataXYObj->PointSize = PointSize;
   \   00000024   245080E5           STR      R5,[R0, #+36]
    444              WM_Invalidate(pDataXYObj->GraphDataObj.PaintObj.hGraph);
   \   00000028   080090E5           LDR      R0,[R0, #+8]
   \   0000002C   ........           BL       WM_InvalidateWindow
    445              GUI_UNLOCK_H(pDataXYObj);
   \   00000030   ........           BL       GUI_ALLOC_UnlockH
    446              WM_UNLOCK();
   \   00000034   ........           BL       GUI_Unlock
    447            }
    448          }
   \                     ??GRAPH_DATA_XY_SetPointSize_0:
   \   00000038   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   0000003C   3080BDE8           POP      {R4,R5,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     GUI_Context

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_1:
   \   00000000   ........           DC32     _OnPaint

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_2:
   \   00000000   ........           DC32     _OnDelete
    449          
    450          #else                            /* Avoid problems with empty object modules */
    451            void GRAPH_DATA_XY_C(void);
    452            void GRAPH_DATA_XY_C(void) {}
    453          #endif  /* #if GUI_WINSUPPORT */

   Maximum stack usage in bytes:

     Function                   .cstack
     --------                   -------
     GRAPH_DATA_XY_AddPoint         16
     GRAPH_DATA_XY_Clear             8
     GRAPH_DATA_XY_Create           32
     GRAPH_DATA_XY_Delete           16
     GRAPH_DATA_XY_GetLineVis       16
     GRAPH_DATA_XY_GetPointVis      16
     GRAPH_DATA_XY_SetLineStyle     16
     GRAPH_DATA_XY_SetLineVis       16
     GRAPH_DATA_XY_SetOffX          16
     GRAPH_DATA_XY_SetOffY          16
     GRAPH_DATA_XY_SetOwnerDraw     16
     GRAPH_DATA_XY_SetPenSize       16
     GRAPH_DATA_XY_SetPointSize     16
     GRAPH_DATA_XY_SetPointVis      16
     _DrawPolyPoints                80
     _OnDelete                      16
     _OnPaint                       48


   Section sizes:

     Function/Label             Bytes
     --------------             -----
     _DrawPolyPoints             292
     _OnPaint                    400
     _OnDelete                    56
     GRAPH_DATA_XY_Create        168
     GRAPH_DATA_XY_Delete         68
     GRAPH_DATA_XY_AddPoint       88
     GRAPH_DATA_XY_SetOffX        76
     GRAPH_DATA_XY_SetOffY        76
     GRAPH_DATA_XY_SetPenSize     76
     GRAPH_DATA_XY_SetLineStyle   76
     GRAPH_DATA_XY_GetLineVis     60
     GRAPH_DATA_XY_GetPointVis    64
     GRAPH_DATA_XY_SetLineVis    116
     GRAPH_DATA_XY_SetPointVis   120
     GRAPH_DATA_XY_Clear          52
     GRAPH_DATA_XY_SetOwnerDraw   64
     GRAPH_DATA_XY_SetPointSize   64
     ??DataTable2                  4
     ??DataTable2_1                4
     ??DataTable2_2                4

 
 1 928 bytes in section .text
 
 1 928 bytes of CODE memory

Errors: none
Warnings: none
