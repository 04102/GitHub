###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.2.52244/W32 for ARM     19/Nov/2015  13:16:17 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  arm                                                      #
#    Endian       =  little                                                   #
#    Source file  =  C:\DUII\TargetHW\GUI\LCD_GetEx.c                         #
#    Command line =  C:\DUII\TargetHW\GUI\LCD_GetEx.c -D DEBUG=1 -D           #
#                    SDRAM_TARGET=1 -D USB_IS_HIGH_SPEED -D NOPROFILER -D     #
#                    OS_TRACE=0 -D OS_VIEW_ENABLE=0 -lCN                      #
#                    C:\DUII\TargetHW\Release\List\ -o                        #
#                    C:\DUII\TargetHW\Release\Obj\ --endian=little            #
#                    --cpu=ARM926EJ-S -e --fpu=None --dlib_config             #
#                    "C:\Program Files (x86)\IAR Systems\Embedded Workbench   #
#                    6.0\arm\INC\c\DLib_Config_Normal.h" -I                   #
#                    C:\DUII\TargetHW\Application\SEGGERDEMO\ -I              #
#                    C:\DUII\TargetHW\Application\SEGGERDEMO\Src\ -I          #
#                    C:\DUII\TargetHW\Config\ -I C:\DUII\TargetHW\FS\ -I      #
#                    C:\DUII\TargetHW\GUI\ -I C:\DUII\TargetHW\Inc\ -I        #
#                    C:\DUII\TargetHW\OS\ -I C:\DUII\TargetHW\Setup\ -I       #
#                    \DUII\DUII\ -I \DUII\DUII\Graphics\ --cpu_mode arm -Ohs  #
#                    --use_c++_inline --require_prototypes                    #
#    List file    =  C:\DUII\TargetHW\Release\List\LCD_GetEx.lst              #
#    Object file  =  C:\DUII\TargetHW\Release\Obj\LCD_GetEx.o                 #
#                                                                             #
#                                                                             #
###############################################################################

C:\DUII\TargetHW\GUI\LCD_GetEx.c
      1          /*********************************************************************
      2          *                SEGGER Microcontroller GmbH & Co. KG                *
      3          *        Solutions for real time microcontroller applications        *
      4          **********************************************************************
      5          *                                                                    *
      6          *        (c) 1996 - 2010  SEGGER Microcontroller GmbH & Co. KG       *
      7          *                                                                    *
      8          *        Internet: www.segger.com    Support:  support@segger.com    *
      9          *                                                                    *
     10          **********************************************************************
     11          
     12          ** emWin V5.06 - Graphical user interface for embedded applications **
     13          emWin is protected by international copyright laws.   Knowledge of the
     14          source code may not be used to write a similar product.  This file may
     15          only be used in accordance with a license and should not be re-
     16          distributed in any way. We appreciate your understanding and fairness.
     17          ----------------------------------------------------------------------
     18          File        : LCD_GetEx.C
     19          Purpose     : Routines returning info at runtime
     20          ---------------------------END-OF-HEADER------------------------------
     21          */
     22          
     23          #include "GUI_Private.h"
     24          
     25          /*********************************************************************
     26          *
     27          *       Static code
     28          *
     29          **********************************************************************
     30          */
     31          /*********************************************************************
     32          *
     33          *       _GetDevProp
     34          */
     35          static int _GetDevProp(int LayerIndex, int Item) {
     36            GUI_DEVICE * pDevice;
     37            int r = 0;
     38          
     39            if (LayerIndex < GUI_NUM_LAYERS) {
     40              pDevice = GUI_DEVICE__GetpDriver(LayerIndex);
     41              if (pDevice) {
     42                r = pDevice->pDeviceAPI->pfGetDevProp(pDevice, Item);
     43              }
     44            }
     45            return r;
     46          }
     47          
     48          /*********************************************************************
     49          *
     50          *       _GetDevData
     51          */
     52          /*
     53          static void * _GetDevData(int LayerIndex, int Item) {
     54            GUI_DEVICE * pDevice;
     55            void * p = NULL;
     56          
     57            if (LayerIndex < GUI_NUM_LAYERS) {
     58              pDevice = GUI_DEVICE__GetpDriver(LayerIndex);
     59              if (pDevice) {
     60                p = pDevice->pDeviceAPI->pfGetDevData(pDevice, Item);
     61              }
     62            }
     63            return p;
     64          }
     65          */
     66          
     67          /*********************************************************************
     68          *
     69          *       _GetMaxValue
     70          */
     71          static int _GetMaxValue(int Item) {
     72            int MaxValue;
     73            int Value;
     74            int LayerIndex;
     75            MaxValue   = 0;
     76            LayerIndex = GUI_NUM_LAYERS - 1;
     77            do {
     78              Value = _GetDevProp(LayerIndex, Item);
     79              if (MaxValue < Value) {
     80                MaxValue = Value;
     81              }
     82            } while (--LayerIndex >= 0);
     83            return MaxValue;
     84          }
     85          
     86          /*********************************************************************
     87          *
     88          *       Public code
     89          *
     90          **********************************************************************
     91          */
     92          /*********************************************************************
     93          *
     94          *       LCD_GetxxxEx
     95          */

   \                                 In section .text, align 4, keep-with-next
     96          int LCD_GetXSizeEx          (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_XSIZE); }
   \                     LCD_GetXSizeEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetXSizeEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetXSizeEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0110A0E3           MOV      R1,#+1
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetXSizeEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
     97          int LCD_GetYSizeEx          (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_YSIZE); }
   \                     LCD_GetYSizeEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetYSizeEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetYSizeEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0210A0E3           MOV      R1,#+2
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetYSizeEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
     98          int LCD_GetVXSizeEx         (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_VXSIZE); }
   \                     LCD_GetVXSizeEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetVXSizeEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetVXSizeEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0310A0E3           MOV      R1,#+3
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetVXSizeEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
     99          int LCD_GetVYSizeEx         (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_VYSIZE);}
   \                     LCD_GetVYSizeEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetVYSizeEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetVYSizeEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0410A0E3           MOV      R1,#+4
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetVYSizeEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    100          int LCD_GetBitsPerPixelEx   (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_BITSPERPIXEL);}
   \                     LCD_GetBitsPerPixelEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetBitsPerPixelEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetBitsPerPixelEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0810A0E3           MOV      R1,#+8
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetBitsPerPixelEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    101          U32 LCD_GetNumColorsEx      (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_NUMCOLORS);}
   \                     LCD_GetNumColorsEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetNumColorsEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetNumColorsEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0910A0E3           MOV      R1,#+9
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetNumColorsEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    102          int LCD_GetXMagEx           (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_XMAG);}
   \                     LCD_GetXMagEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetXMagEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetXMagEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0A10A0E3           MOV      R1,#+10
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetXMagEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    103          int LCD_GetYMagEx           (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_YMAG);}
   \                     LCD_GetYMagEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetYMagEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetYMagEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0B10A0E3           MOV      R1,#+11
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetYMagEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    104          int LCD_GetMirrorXEx        (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_MIRROR_X);}
   \                     LCD_GetMirrorXEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetMirrorXEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetMirrorXEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0C10A0E3           MOV      R1,#+12
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetMirrorXEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    105          int LCD_GetMirrorYEx        (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_MIRROR_Y);}
   \                     LCD_GetMirrorYEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetMirrorYEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetMirrorYEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0D10A0E3           MOV      R1,#+13
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetMirrorYEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    106          int LCD_GetSwapXYEx         (int LayerIndex) { return _GetDevProp(LayerIndex, LCD_DEVCAP_SWAP_XY);}
   \                     LCD_GetSwapXYEx:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   100050E3           CMP      R0,#+16
   \   0000000C   070000AA           BGE      ??LCD_GetSwapXYEx_0
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400000A           BEQ      ??LCD_GetSwapXYEx_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0E10A0E3           MOV      R1,#+14
   \   00000024   282092E5           LDR      R2,[R2, #+40]
   \   00000028   32FF2FE1           BLX      R2
   \   0000002C   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetSwapXYEx_0:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
    107          
    108          /*********************************************************************
    109          *
    110          *       LCD_Getxxx
    111          */

   \                                 In section .text, align 4, keep-with-next
    112          int LCD_GetXSize          (void) { return LCD_GetXSizeEx          (GUI_Context.SelLayer);}
   \                     LCD_GetXSize:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetXSize_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetXSize_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0110A0E3           MOV      R1,#+1
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetXSize_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    113          int LCD_GetYSize          (void) { return LCD_GetYSizeEx          (GUI_Context.SelLayer);}
   \                     LCD_GetYSize:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetYSize_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetYSize_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0210A0E3           MOV      R1,#+2
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetYSize_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    114          int LCD_GetVXSize         (void) { return LCD_GetVXSizeEx         (GUI_Context.SelLayer);}
   \                     LCD_GetVXSize:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetVXSize_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetVXSize_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0310A0E3           MOV      R1,#+3
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetVXSize_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    115          int LCD_GetVYSize         (void) { return LCD_GetVYSizeEx         (GUI_Context.SelLayer);}
   \                     LCD_GetVYSize:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetVYSize_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetVYSize_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0410A0E3           MOV      R1,#+4
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetVYSize_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    116          int LCD_GetBitsPerPixel   (void) { return LCD_GetBitsPerPixelEx   (GUI_Context.SelLayer);}
   \                     LCD_GetBitsPerPixel:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetBitsPerPixel_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetBitsPerPixel_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0810A0E3           MOV      R1,#+8
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetBitsPerPixel_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    117          U32 LCD_GetNumColors      (void) { return LCD_GetNumColorsEx      (GUI_Context.SelLayer);}
   \                     LCD_GetNumColors:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetNumColors_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetNumColors_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0910A0E3           MOV      R1,#+9
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetNumColors_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    118          int LCD_GetXMag           (void) { return LCD_GetXMagEx           (GUI_Context.SelLayer);}
   \                     LCD_GetXMag:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetXMag_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetXMag_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0A10A0E3           MOV      R1,#+10
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetXMag_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    119          int LCD_GetYMag           (void) { return LCD_GetYMagEx           (GUI_Context.SelLayer);}
   \                     LCD_GetYMag:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetYMag_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetYMag_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0B10A0E3           MOV      R1,#+11
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetYMag_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    120          int LCD_GetMirrorX        (void) { return LCD_GetMirrorXEx        (GUI_Context.SelLayer);}
   \                     LCD_GetMirrorX:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetMirrorX_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetMirrorX_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0C10A0E3           MOV      R1,#+12
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetMirrorX_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    121          int LCD_GetMirrorY        (void) { return LCD_GetMirrorYEx        (GUI_Context.SelLayer);}
   \                     LCD_GetMirrorY:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetMirrorY_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetMirrorY_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0D10A0E3           MOV      R1,#+13
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetMirrorY_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
    122          int LCD_GetSwapXY         (void) { return LCD_GetSwapXYEx         (GUI_Context.SelLayer);}
   \                     LCD_GetSwapXY:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   100050E3           CMP      R0,#+16
   \   00000014   070000AA           BGE      ??LCD_GetSwapXY_0
   \   00000018   ........           BL       GUI_DEVICE__GetpDriver
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0400000A           BEQ      ??LCD_GetSwapXY_0
   \   00000024   0C2090E5           LDR      R2,[R0, #+12]
   \   00000028   0E10A0E3           MOV      R1,#+14
   \   0000002C   282092E5           LDR      R2,[R2, #+40]
   \   00000030   32FF2FE1           BLX      R2
   \   00000034   0040A0E1           MOV      R4,R0
   \                     ??LCD_GetSwapXY_0:
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return
    123          
    124          /*********************************************************************
    125          *
    126          *       GUI_GetBitsPerPixelEx
    127          */

   \                                 In section .text, align 4, keep-with-next
    128          int GUI_GetBitsPerPixelEx(int LayerIndex) {
   \                     GUI_GetBitsPerPixelEx:
   \   00000000   ........           LDR      R1,??DataTable14
   \   00000004   000181E0           ADD      R0,R1,R0, LSL #+2
   \   00000008   480090E5           LDR      R0,[R0, #+72]
   \   0000000C   0810A0E3           MOV      R1,#+8
   \   00000010   0C2090E5           LDR      R2,[R0, #+12]
   \   00000014   282092E5           LDR      R2,[R2, #+40]
   \   00000018   12FF2FE1           BX       R2               ;; tailcall
    129            return GUI_Context.apDevice[LayerIndex]->pDeviceAPI->pfGetDevProp(GUI_Context.apDevice[LayerIndex], LCD_DEVCAP_BITSPERPIXEL);
    130          }
    131          
    132          /*********************************************************************
    133          *
    134          *       LCD_GetPaletteEx
    135          */

   \                                 In section .text, align 4, keep-with-next
    136          LCD_COLOR * LCD_GetPaletteEx(int LayerIndex) {
   \                     LCD_GetPaletteEx:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
    137            GUI_DEVICE * pDevice;
    138          
    139            pDevice = GUI_DEVICE__GetpDriver(LayerIndex);
   \   00000008   ........           BL       GUI_DEVICE__GetpDriver
    140            if (pDevice) {
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0300000A           BEQ      ??LCD_GetPaletteEx_0
    141              return (LCD_COLOR *)pDevice->pDeviceAPI->pfGetDevData(pDevice, LCD_DEVDATA_PHYSPAL);
   \   00000014   0C2090E5           LDR      R2,[R0, #+12]
   \   00000018   0210A0E3           MOV      R1,#+2
   \   0000001C   2C2092E5           LDR      R2,[R2, #+44]
   \   00000020   32FF2FE1           BLX      R2
    142            }
    143            return NULL;
   \                     ??LCD_GetPaletteEx_0:
   \   00000024   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000028   0080BDE8           POP      {PC}             ;; return
    144          }
    145          
    146          /*********************************************************************
    147          *
    148          *       LCD_GetPalette
    149          */

   \                                 In section .text, align 4, keep-with-next
    150          LCD_COLOR * LCD_GetPalette(void) {
   \                     LCD_GetPalette:
   \   00000000   00402DE9           PUSH     {LR}
    151            return LCD_GetPaletteEx(GUI_Context.SelLayer);
   \   00000004   ........           LDR      R0,??DataTable14
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000010   ........           BL       GUI_DEVICE__GetpDriver
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0300000A           BEQ      ??LCD_GetPalette_0
   \   0000001C   0C2090E5           LDR      R2,[R0, #+12]
   \   00000020   0210A0E3           MOV      R1,#+2
   \   00000024   2C2092E5           LDR      R2,[R2, #+44]
   \   00000028   32FF2FE1           BLX      R2
   \                     ??LCD_GetPalette_0:
   \   0000002C   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000030   0080BDE8           POP      {PC}             ;; return
    152          }
    153          
    154          /*********************************************************************
    155          *
    156          *       LCD_GetpfIndex2ColorEx
    157          */

   \                                 In section .text, align 4, keep-with-next
    158          tLCDDEV_Index2Color * LCD_GetpfIndex2ColorEx(int LayerIndex) {
   \                     LCD_GetpfIndex2ColorEx:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
    159            GUI_DEVICE * pDevice;
    160          
    161            pDevice = GUI_DEVICE__GetpDriver(LayerIndex);
   \   00000008   ........           BL       GUI_DEVICE__GetpDriver
    162            if (pDevice) {
   \   0000000C   000050E3           CMP      R0,#+0
    163              return pDevice->pColorConvAPI->pfIndex2Color;
   \   00000010   10009015           LDRNE    R0,[R0, #+16]
    164            }
    165            return NULL;
   \   00000014   04D08DE2           ADD      SP,SP,#+4
   \   00000018   04009015           LDRNE    R0,[R0, #+4]
   \   0000001C   0080BDE8           POP      {PC}             ;; return
    166          }
    167          
    168          /*********************************************************************
    169          *
    170          *       GUI_GetpfIndex2ColorEx
    171          */

   \                                 In section .text, align 4, keep-with-next
    172          tLCDDEV_Index2Color * GUI_GetpfIndex2ColorEx(int LayerIndex) {
    173            return GUI_Context.apDevice[LayerIndex]->pColorConvAPI->pfIndex2Color;
   \                     GUI_GetpfIndex2ColorEx:
   \   00000000   ........           LDR      R1,??DataTable14
   \   00000004   000181E0           ADD      R0,R1,R0, LSL #+2
   \   00000008   480090E5           LDR      R0,[R0, #+72]
   \   0000000C   100090E5           LDR      R0,[R0, #+16]
   \   00000010   040090E5           LDR      R0,[R0, #+4]
   \   00000014   1EFF2FE1           BX       LR               ;; return
    174          }
    175          
    176          /*********************************************************************
    177          *
    178          *       LCD_GetpfColor2IndexEx
    179          */

   \                                 In section .text, align 4, keep-with-next
    180          tLCDDEV_Color2Index * LCD_GetpfColor2IndexEx(int LayerIndex) {
   \                     LCD_GetpfColor2IndexEx:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
    181            GUI_DEVICE * pDevice;
    182          
    183            pDevice = GUI_DEVICE__GetpDriver(LayerIndex);
   \   00000008   ........           BL       GUI_DEVICE__GetpDriver
    184            if (pDevice) {
   \   0000000C   000050E3           CMP      R0,#+0
    185              return pDevice->pColorConvAPI->pfColor2Index;
   \   00000010   10009015           LDRNE    R0,[R0, #+16]
    186            }
    187            return NULL;
   \   00000014   04D08DE2           ADD      SP,SP,#+4
   \   00000018   00009015           LDRNE    R0,[R0, #+0]
   \   0000001C   0080BDE8           POP      {PC}             ;; return
    188          }
    189          
    190          /*********************************************************************
    191          *
    192          *       GUI_GetpfColor2IndexEx
    193          */

   \                                 In section .text, align 4, keep-with-next
    194          tLCDDEV_Color2Index * GUI_GetpfColor2IndexEx(int LayerIndex) {
    195            return GUI_Context.apDevice[LayerIndex]->pColorConvAPI->pfColor2Index;
   \                     GUI_GetpfColor2IndexEx:
   \   00000000   ........           LDR      R1,??DataTable14
   \   00000004   000181E0           ADD      R0,R1,R0, LSL #+2
   \   00000008   480090E5           LDR      R0,[R0, #+72]
   \   0000000C   100090E5           LDR      R0,[R0, #+16]
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   1EFF2FE1           BX       LR               ;; return
    196          }
    197          
    198          /*********************************************************************
    199          *
    200          *       LCD_Get...Max
    201          */

   \                                 In section .text, align 4, keep-with-next
    202          int LCD_GetXSizeMax(void)        { return _GetMaxValue(LCD_DEVCAP_XSIZE); }
   \                     LCD_GetXSizeMax:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   0F50A0E3           MOV      R5,#+15
   \                     ??LCD_GetXSizeMax_0:
   \   0000000C   0060A0E3           MOV      R6,#+0
   \   00000010   0500A0E1           MOV      R0,R5
   \   00000014   ........           BL       GUI_DEVICE__GetpDriver
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0400000A           BEQ      ??LCD_GetXSizeMax_1
   \   00000020   0C2090E5           LDR      R2,[R0, #+12]
   \   00000024   0110A0E3           MOV      R1,#+1
   \   00000028   282092E5           LDR      R2,[R2, #+40]
   \   0000002C   32FF2FE1           BLX      R2
   \   00000030   0060A0E1           MOV      R6,R0
   \                     ??LCD_GetXSizeMax_1:
   \   00000034   060054E1           CMP      R4,R6
   \   00000038   0640A0B1           MOVLT    R4,R6
   \   0000003C   015055E2           SUBS     R5,R5,#+1
   \   00000040   F1FFFF5A           BPL      ??LCD_GetXSizeMax_0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
    203          int LCD_GetYSizeMax(void)        { return _GetMaxValue(LCD_DEVCAP_YSIZE); }
   \                     LCD_GetYSizeMax:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   0F50A0E3           MOV      R5,#+15
   \                     ??LCD_GetYSizeMax_0:
   \   0000000C   0060A0E3           MOV      R6,#+0
   \   00000010   0500A0E1           MOV      R0,R5
   \   00000014   ........           BL       GUI_DEVICE__GetpDriver
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0400000A           BEQ      ??LCD_GetYSizeMax_1
   \   00000020   0C2090E5           LDR      R2,[R0, #+12]
   \   00000024   0210A0E3           MOV      R1,#+2
   \   00000028   282092E5           LDR      R2,[R2, #+40]
   \   0000002C   32FF2FE1           BLX      R2
   \   00000030   0060A0E1           MOV      R6,R0
   \                     ??LCD_GetYSizeMax_1:
   \   00000034   060054E1           CMP      R4,R6
   \   00000038   0640A0B1           MOVLT    R4,R6
   \   0000003C   015055E2           SUBS     R5,R5,#+1
   \   00000040   F1FFFF5A           BPL      ??LCD_GetYSizeMax_0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
    204          int LCD_GetVXSizeMax(void)       { return _GetMaxValue(LCD_DEVCAP_VXSIZE); }
   \                     LCD_GetVXSizeMax:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   0F50A0E3           MOV      R5,#+15
   \                     ??LCD_GetVXSizeMax_0:
   \   0000000C   0060A0E3           MOV      R6,#+0
   \   00000010   0500A0E1           MOV      R0,R5
   \   00000014   ........           BL       GUI_DEVICE__GetpDriver
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0400000A           BEQ      ??LCD_GetVXSizeMax_1
   \   00000020   0C2090E5           LDR      R2,[R0, #+12]
   \   00000024   0310A0E3           MOV      R1,#+3
   \   00000028   282092E5           LDR      R2,[R2, #+40]
   \   0000002C   32FF2FE1           BLX      R2
   \   00000030   0060A0E1           MOV      R6,R0
   \                     ??LCD_GetVXSizeMax_1:
   \   00000034   060054E1           CMP      R4,R6
   \   00000038   0640A0B1           MOVLT    R4,R6
   \   0000003C   015055E2           SUBS     R5,R5,#+1
   \   00000040   F1FFFF5A           BPL      ??LCD_GetVXSizeMax_0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
    205          int LCD_GetVYSizeMax(void)       { return _GetMaxValue(LCD_DEVCAP_VYSIZE); }
   \                     LCD_GetVYSizeMax:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   0F50A0E3           MOV      R5,#+15
   \                     ??LCD_GetVYSizeMax_0:
   \   0000000C   0060A0E3           MOV      R6,#+0
   \   00000010   0500A0E1           MOV      R0,R5
   \   00000014   ........           BL       GUI_DEVICE__GetpDriver
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0400000A           BEQ      ??LCD_GetVYSizeMax_1
   \   00000020   0C2090E5           LDR      R2,[R0, #+12]
   \   00000024   0410A0E3           MOV      R1,#+4
   \   00000028   282092E5           LDR      R2,[R2, #+40]
   \   0000002C   32FF2FE1           BLX      R2
   \   00000030   0060A0E1           MOV      R6,R0
   \                     ??LCD_GetVYSizeMax_1:
   \   00000034   060054E1           CMP      R4,R6
   \   00000038   0640A0B1           MOVLT    R4,R6
   \   0000003C   015055E2           SUBS     R5,R5,#+1
   \   00000040   F1FFFF5A           BPL      ??LCD_GetVYSizeMax_0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
    206          int LCD_GetBitsPerPixelMax(void) { return _GetMaxValue(LCD_DEVCAP_BITSPERPIXEL); }
   \                     LCD_GetBitsPerPixelMax:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   0F50A0E3           MOV      R5,#+15
   \                     ??LCD_GetBitsPerPixelMax_0:
   \   0000000C   0060A0E3           MOV      R6,#+0
   \   00000010   0500A0E1           MOV      R0,R5
   \   00000014   ........           BL       GUI_DEVICE__GetpDriver
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0400000A           BEQ      ??LCD_GetBitsPerPixelMax_1
   \   00000020   0C2090E5           LDR      R2,[R0, #+12]
   \   00000024   0810A0E3           MOV      R1,#+8
   \   00000028   282092E5           LDR      R2,[R2, #+40]
   \   0000002C   32FF2FE1           BLX      R2
   \   00000030   0060A0E1           MOV      R6,R0
   \                     ??LCD_GetBitsPerPixelMax_1:
   \   00000034   060054E1           CMP      R4,R6
   \   00000038   0640A0B1           MOVLT    R4,R6
   \   0000003C   015055E2           SUBS     R5,R5,#+1
   \   00000040   F1FFFF5A           BPL      ??LCD_GetBitsPerPixelMax_0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return
    207          
    208          /*********************************************************************
    209          *
    210          *       LCD__GetBPP
    211          *
    212          * Purpose:
    213          *   This routine returns the number of bits used by the index mask.
    214          *   It does not consider gaps in the mask.
    215          */

   \                                 In section .text, align 4, keep-with-next
    216          I32 LCD__GetBPP(U32 IndexMask) {
    217            I32 r = 0;
    218          
    219            if (IndexMask == 0) {
   \                     LCD__GetBPP:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   3700000A           BEQ      ??LCD__GetBPP_0
    220              r = 0;
    221            } else if ((IndexMask & 0xFFFFFFFE) == 0) {
   \   00000008   0110D0E3           BICS     R1,R0,#0x1
   \   0000000C   0100001A           BNE      ??LCD__GetBPP_1
    222              r = 1;
   \   00000010   0100A0E3           MOV      R0,#+1
   \   00000014   1EFF2FE1           BX       LR
    223            } else if ((IndexMask & 0xFFFFFFFC) == 0) {
   \                     ??LCD__GetBPP_1:
   \   00000018   0310D0E3           BICS     R1,R0,#0x3
   \   0000001C   0100001A           BNE      ??LCD__GetBPP_2
    224              r = 2;
   \   00000020   0200A0E3           MOV      R0,#+2
   \   00000024   1EFF2FE1           BX       LR
    225            } else if ((IndexMask & 0xFFFFFFF8) == 0) {
   \                     ??LCD__GetBPP_2:
   \   00000028   0710D0E3           BICS     R1,R0,#0x7
   \   0000002C   0100001A           BNE      ??LCD__GetBPP_3
    226              r = 3;
   \   00000030   0300A0E3           MOV      R0,#+3
   \   00000034   1EFF2FE1           BX       LR
    227            } else if ((IndexMask & 0xFFFFFFF0) == 0) {
   \                     ??LCD__GetBPP_3:
   \   00000038   0F10D0E3           BICS     R1,R0,#0xF
   \   0000003C   0100001A           BNE      ??LCD__GetBPP_4
    228              r = 4;
   \   00000040   0400A0E3           MOV      R0,#+4
   \   00000044   1EFF2FE1           BX       LR
    229            } else if ((IndexMask & 0xFFFFFFE0) == 0) {
   \                     ??LCD__GetBPP_4:
   \   00000048   1F10D0E3           BICS     R1,R0,#0x1F
   \   0000004C   0100001A           BNE      ??LCD__GetBPP_5
    230              r = 5;
   \   00000050   0500A0E3           MOV      R0,#+5
   \   00000054   1EFF2FE1           BX       LR
    231            } else if ((IndexMask & 0xFFFFFF00) == 0) {
   \                     ??LCD__GetBPP_5:
   \   00000058   FF10D0E3           BICS     R1,R0,#0xFF
   \   0000005C   0100001A           BNE      ??LCD__GetBPP_6
    232              r = 8;
   \   00000060   0800A0E3           MOV      R0,#+8
   \   00000064   1EFF2FE1           BX       LR
    233            } else if ((IndexMask & 0xFFFFFE00) == 0) {
   \                     ??LCD__GetBPP_6:
   \   00000068   A014A0E1           LSR      R1,R0,#+9
   \   0000006C   8114B0E1           LSLS     R1,R1,#+9
   \   00000070   0100001A           BNE      ??LCD__GetBPP_7
    234              r = 9;
   \   00000074   0900A0E3           MOV      R0,#+9
   \   00000078   1EFF2FE1           BX       LR
    235            } else if ((IndexMask & 0xFFFFF000) == 0) {
   \                     ??LCD__GetBPP_7:
   \   0000007C   FF10E0E3           MVN      R1,#+255
   \   00000080   F01EC1E3           BIC      R1,R1,#0xF00
   \   00000084   000011E1           TST      R1,R0
   \   00000088   0100001A           BNE      ??LCD__GetBPP_8
    236              r = 12;
   \   0000008C   0C00A0E3           MOV      R0,#+12
   \   00000090   1EFF2FE1           BX       LR
    237            } else if ((IndexMask & 0xFFFF8000) == 0) {
   \                     ??LCD__GetBPP_8:
   \   00000094   701CC1E3           BIC      R1,R1,#0x7000
   \   00000098   000011E1           TST      R1,R0
   \   0000009C   0100001A           BNE      ??LCD__GetBPP_9
    238              r = 15;
   \   000000A0   0F00A0E3           MOV      R0,#+15
   \   000000A4   1EFF2FE1           BX       LR
    239            } else if ((IndexMask & 0xFFFF0000) == 0) {
   \                     ??LCD__GetBPP_9:
   \   000000A8   2018A0E1           LSR      R1,R0,#+16
   \   000000AC   0118B0E1           LSLS     R1,R1,#+16
   \   000000B0   0100001A           BNE      ??LCD__GetBPP_10
    240              r = 16;
   \   000000B4   1000A0E3           MOV      R0,#+16
   \   000000B8   1EFF2FE1           BX       LR
    241            } else if ((IndexMask & 0xFFFC0000) == 0) {
   \                     ??LCD__GetBPP_10:
   \   000000BC   FC14A0E3           MOV      R1,#-67108864
   \   000000C0   FF1781E3           ORR      R1,R1,#0x3FC0000
   \   000000C4   000011E1           TST      R1,R0
   \   000000C8   0100001A           BNE      ??LCD__GetBPP_11
    242              r = 18;
   \   000000CC   1200A0E3           MOV      R0,#+18
   \   000000D0   1EFF2FE1           BX       LR
    243            } else if ((IndexMask & 0xFF000000) == 0) {
   \                     ??LCD__GetBPP_11:
   \   000000D4   FF0410E3           TST      R0,#0xFF000000
   \   000000D8   0100001A           BNE      ??LCD__GetBPP_12
    244              r = 24;
   \   000000DC   1800A0E3           MOV      R0,#+24
   \   000000E0   1EFF2FE1           BX       LR
    245            } else {
    246              r = 32;
   \                     ??LCD__GetBPP_12:
   \   000000E4   2000A0E3           MOV      R0,#+32
    247            }
    248            return r;
   \                     ??LCD__GetBPP_0:
   \   000000E8   1EFF2FE1           BX       LR               ;; return
    249          }
    250          
    251          /*********************************************************************
    252          *
    253          *       LCD__GetBPPDevice
    254          *
    255          * Purpose:
    256          *   This routine returns the number of bits required for calculating
    257          *   the size of memory devices.
    258          */

   \                                 In section .text, align 4, keep-with-next
    259          I32 LCD__GetBPPDevice(U32 IndexMask) {
   \                     LCD__GetBPPDevice:
   \   00000000   10402DE9           PUSH     {R4,LR}
    260            I32 BitsPerPixel;
    261            I32 r = 0;
   \   00000004   0040A0E3           MOV      R4,#+0
    262          
    263            BitsPerPixel = LCD__GetBPP(IndexMask);
   \   00000008   ........           BL       LCD__GetBPP
    264            if        (BitsPerPixel == 1) {
   \   0000000C   010050E3           CMP      R0,#+1
    265              r = 1;
   \   00000010   0140A003           MOVEQ    R4,#+1
   \   00000014   0A00000A           BEQ      ??LCD__GetBPPDevice_0
    266            } else if ((BitsPerPixel > 1) && (BitsPerPixel <= 8)) {
   \   00000018   021040E2           SUB      R1,R0,#+2
   \   0000001C   070051E3           CMP      R1,#+7
    267              r = 8;
   \   00000020   0840A033           MOVCC    R4,#+8
   \   00000024   0600003A           BCC      ??LCD__GetBPPDevice_0
    268            } else if ((BitsPerPixel > 8) && (BitsPerPixel <= 16)) {
   \   00000028   091040E2           SUB      R1,R0,#+9
   \   0000002C   080051E3           CMP      R1,#+8
    269              r = 16;
   \   00000030   1040A033           MOVCC    R4,#+16
   \   00000034   0200003A           BCC      ??LCD__GetBPPDevice_0
    270            } else if ((BitsPerPixel > 16) && (BitsPerPixel <= 32)) {
   \   00000038   110040E2           SUB      R0,R0,#+17
   \   0000003C   100050E3           CMP      R0,#+16
    271              r = 32;
   \   00000040   2040A033           MOVCC    R4,#+32
    272            }
    273            return r;
   \                     ??LCD__GetBPPDevice_0:
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   1080BDE8           POP      {R4,PC}          ;; return
    274          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     GUI_Context
    275          
    276          /************************* End of file ******************************/

   Maximum stack usage in bytes:

     Function               .cstack
     --------               -------
     GUI_GetBitsPerPixelEx       8
     GUI_GetpfColor2IndexEx      0
     GUI_GetpfIndex2ColorEx      0
     LCD_GetBitsPerPixel         8
     LCD_GetBitsPerPixelEx       8
     LCD_GetBitsPerPixelMax     16
     LCD_GetMirrorX              8
     LCD_GetMirrorXEx            8
     LCD_GetMirrorY              8
     LCD_GetMirrorYEx            8
     LCD_GetNumColors            8
     LCD_GetNumColorsEx          8
     LCD_GetPalette              8
     LCD_GetPaletteEx            8
     LCD_GetSwapXY               8
     LCD_GetSwapXYEx             8
     LCD_GetVXSize               8
     LCD_GetVXSizeEx             8
     LCD_GetVXSizeMax           16
     LCD_GetVYSize               8
     LCD_GetVYSizeEx             8
     LCD_GetVYSizeMax           16
     LCD_GetXMag                 8
     LCD_GetXMagEx               8
     LCD_GetXSize                8
     LCD_GetXSizeEx              8
     LCD_GetXSizeMax            16
     LCD_GetYMag                 8
     LCD_GetYMagEx               8
     LCD_GetYSize                8
     LCD_GetYSizeEx              8
     LCD_GetYSizeMax            16
     LCD_GetpfColor2IndexEx      8
     LCD_GetpfIndex2ColorEx      8
     LCD__GetBPP                 0
     LCD__GetBPPDevice           8


   Section sizes:

     Function/Label         Bytes
     --------------         -----
     LCD_GetXSizeEx           56
     LCD_GetYSizeEx           56
     LCD_GetVXSizeEx          56
     LCD_GetVYSizeEx          56
     LCD_GetBitsPerPixelEx    56
     LCD_GetNumColorsEx       56
     LCD_GetXMagEx            56
     LCD_GetYMagEx            56
     LCD_GetMirrorXEx         56
     LCD_GetMirrorYEx         56
     LCD_GetSwapXYEx          56
     LCD_GetXSize             64
     LCD_GetYSize             64
     LCD_GetVXSize            64
     LCD_GetVYSize            64
     LCD_GetBitsPerPixel      64
     LCD_GetNumColors         64
     LCD_GetXMag              64
     LCD_GetYMag              64
     LCD_GetMirrorX           64
     LCD_GetMirrorY           64
     LCD_GetSwapXY            64
     GUI_GetBitsPerPixelEx    28
     LCD_GetPaletteEx         44
     LCD_GetPalette           52
     LCD_GetpfIndex2ColorEx   32
     GUI_GetpfIndex2ColorEx   24
     LCD_GetpfColor2IndexEx   32
     GUI_GetpfColor2IndexEx   24
     LCD_GetXSizeMax          76
     LCD_GetYSizeMax          76
     LCD_GetVXSizeMax         76
     LCD_GetVYSizeMax         76
     LCD_GetBitsPerPixelMax   76
     LCD__GetBPP             236
     LCD__GetBPPDevice        76
     ??DataTable14             4

 
 2 252 bytes in section .text
 
 2 252 bytes of CODE memory

Errors: none
Warnings: none
