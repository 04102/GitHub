###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.2.52244/W32 for ARM     14/Jul/2015  19:01:37 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  arm                                                      #
#    Endian       =  little                                                   #
#    Source file  =  C:\DUII\TargetHW\GUI\MULTIPAGE.c                         #
#    Command line =  C:\DUII\TargetHW\GUI\MULTIPAGE.c -D DEBUG=1 -D           #
#                    SDRAM_TARGET=1 -D USB_IS_HIGH_SPEED -D                   #
#                    XIGNORE_TEMPERATURE -D BUILD_DEBUG_PORT -D PROFILER      #
#                    -lCN C:\DUII\TargetHW\Output\AT91SAM9RL64\Debug_SDRAM\Li #
#                    st\ -o C:\DUII\TargetHW\Output\AT91SAM9RL64\Debug_SDRAM\ #
#                    Obj\ --debug --endian=little --cpu=ARM926EJ-S -e         #
#                    --fpu=None --dlib_config "C:\Program Files (x86)\IAR     #
#                    Systems\Embedded Workbench 6.0\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I C:\DUII\TargetHW\Application\SEGGERDEMO\ -I      #
#                    C:\DUII\TargetHW\Application\SEGGERDEMO\Src\ -I          #
#                    C:\DUII\TargetHW\Config\ -I C:\DUII\TargetHW\FS\ -I      #
#                    C:\DUII\TargetHW\GUI\ -I C:\DUII\TargetHW\Inc\ -I        #
#                    C:\DUII\TargetHW\OS\ -I C:\DUII\TargetHW\Setup\ -I       #
#                    \DUII\DUII\ -I \DUII\DUII\Graphics\ -I PROFILER\         #
#                    --cpu_mode arm -Ohs --use_c++_inline                     #
#                    --require_prototypes                                     #
#    List file    =  C:\DUII\TargetHW\Output\AT91SAM9RL64\Debug_SDRAM\List\MU #
#                    LTIPAGE.lst                                              #
#    Object file  =  C:\DUII\TargetHW\Output\AT91SAM9RL64\Debug_SDRAM\Obj\MUL #
#                    TIPAGE.o                                                 #
#                                                                             #
#                                                                             #
###############################################################################

C:\DUII\TargetHW\GUI\MULTIPAGE.c
      1          /*********************************************************************
      2          *                SEGGER Microcontroller GmbH & Co. KG                *
      3          *        Solutions for real time microcontroller applications        *
      4          **********************************************************************
      5          *                                                                    *
      6          *        (c) 1996 - 2010  SEGGER Microcontroller GmbH & Co. KG       *
      7          *                                                                    *
      8          *        Internet: www.segger.com    Support:  support@segger.com    *
      9          *                                                                    *
     10          **********************************************************************
     11          
     12          ** emWin V5.06 - Graphical user interface for embedded applications **
     13          emWin is protected by international copyright laws.   Knowledge of the
     14          source code may not be used to write a similar product.  This file may
     15          only be used in accordance with a license and should not be re-
     16          distributed in any way. We appreciate your understanding and fairness.
     17          ----------------------------------------------------------------------
     18          File        : MULTIPAGE.c
     19          Purpose     : Implementation of MULTIPAGE widget
     20          ---------------------------END-OF-HEADER------------------------------
     21          */
     22          
     23          #include <stdlib.h>
     24          #include <string.h>
     25          #include "Global.h"
     26          #include "GUI_Private.h"
     27          #include "MULTIPAGE_Private.h"
     28          #include "WIDGET.h"
     29          
     30          #if GUI_WINSUPPORT
     31          
     32          /*********************************************************************
     33          *
     34          *       Private config defaults
     35          *
     36          **********************************************************************
     37          */
     38           
     39          /* Define default fonts */
     40          #ifndef MULTIPAGE_FONT_DEFAULT
     41            #define MULTIPAGE_FONT_DEFAULT        &GUI_Font13_1
     42          #endif
     43          
     44          #ifndef MULTIPAGE_ALIGN_DEFAULT
     45            #define MULTIPAGE_ALIGN_DEFAULT       (MULTIPAGE_ALIGN_LEFT | MULTIPAGE_ALIGN_TOP)
     46          #endif
     47          
     48          #ifndef MULTIPAGE_BKCOLOR0_DEFAULT
     49            #define MULTIPAGE_BKCOLOR0_DEFAULT    0xD0D0D0 /* disabled page */
     50          #endif
     51          
     52          #ifndef MULTIPAGE_BKCOLOR1_DEFAULT
     53            #define MULTIPAGE_BKCOLOR1_DEFAULT    0xC0C0C0 /* enabled page */
     54          #endif
     55          
     56          #ifndef MULTIPAGE_TEXTCOLOR0_DEFAULT
     57            #define MULTIPAGE_TEXTCOLOR0_DEFAULT  0x808080 /* disabled page */
     58          #endif
     59          
     60          #ifndef MULTIPAGE_TEXTCOLOR1_DEFAULT
     61            #define MULTIPAGE_TEXTCOLOR1_DEFAULT  0x000000 /* enabled page */
     62          #endif
     63          
     64          /*********************************************************************
     65          *
     66          *       Private data
     67          *
     68          **********************************************************************
     69          */

   \                                 In section .data, align 4
     70          GUI_COLOR MULTIPAGE__aEffectColor[] = {
   \                     MULTIPAGE__aEffectColor:
   \   00000000   FFFFFF005555       DC32 16777215, 5592405
   \              5500        
     71            0xFFFFFF, 0x555555
     72          };
     73          
     74          /*********************************************************************
     75          *
     76          *       Static data
     77          *
     78          **********************************************************************
     79          */

   \                                 In section .data, align 4
     80          MULTIPAGE_PROPS MULTIPAGE__DefaultProps = {
   \                     MULTIPAGE__DefaultProps:
   \   00000000   ........0000       DC32 GUI_Font13_1, 0, 13684944, 12632256, 8421504, 0
   \              0000D0D0D000
   \              C0C0C0008080
   \              800000000000
     81            MULTIPAGE_FONT_DEFAULT,
     82            MULTIPAGE_ALIGN_DEFAULT,
     83            {
     84              MULTIPAGE_BKCOLOR0_DEFAULT,
     85              MULTIPAGE_BKCOLOR1_DEFAULT,
     86            },
     87            {
     88              MULTIPAGE_TEXTCOLOR0_DEFAULT,
     89              MULTIPAGE_TEXTCOLOR1_DEFAULT
     90            }
     91          };
     92          
     93          /*********************************************************************
     94          *
     95          *       Static code, helper functions
     96          *
     97          **********************************************************************
     98          */
     99          /*********************************************************************
    100          *
    101          *       _GetScrollbarH
    102          */
    103          static WM_HWIN _GetScrollbarH(WM_HWIN hWin) {
    104            WM_HWIN hi, r;
    105            WM_Obj * pWin;
    106            pWin = (WM_Obj *)GUI_LOCK_H(hWin);
    107            hi   = pWin->hFirstChild;
    108            r = 0;
    109            while (hi) {
    110              if (WM_GetId(hi) == GUI_ID_HSCROLL) {
    111                r = hi;
    112                break;
    113              }
    114              hi = WM_HANDLE2PTR(hi)->hNext;
    115            }
    116            GUI_UNLOCK_H(pWin);
    117            return r;
    118          }
    119          
    120          /*********************************************************************
    121          *
    122          *       _AddScrollbar
    123          */

   \                                 In section .text, align 4, keep-with-next
    124          static void _AddScrollbar(MULTIPAGE_Handle hObj, int x, int y, int w, int h) {
   \                     _AddScrollbar:
   \   00000000   E04F2DE9           PUSH     {R5-R11,LR}
   \   00000004   18D04DE2           SUB      SP,SP,#+24
   \   00000008   0050A0E1           MOV      R5,R0
   \   0000000C   0160A0E1           MOV      R6,R1
   \   00000010   0270A0E1           MOV      R7,R2
   \   00000014   0380A0E1           MOV      R8,R3
   \   00000018   38909DE5           LDR      R9,[SP, #+56]
    125            MULTIPAGE_Obj * pObj;
    126            SCROLLBAR_Handle hScroll;
    127            const WIDGET_EFFECT * pEffect;
    128            U16 State;
    129            pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000001C   ........           BL       GUI_ALLOC_LockH
    130            pEffect = pObj->Widget.pEffect;
   \   00000020   2C2090E5           LDR      R2,[R0, #+44]
   \   00000024   10208DE5           STR      R2,[SP, #+16]
    131            State = pObj->Widget.State;
   \   00000028   B203D0E1           LDRH     R0,[R0, #+50]
   \   0000002C   B000CDE1           STRH     R0,[SP, #+0]
    132            GUI_UNLOCK_H(pObj);
   \   00000030   ........           BL       GUI_ALLOC_UnlockH
    133            if ((hScroll = _GetScrollbarH(hObj)) == 0) {
   \   00000034   0500A0E1           MOV      R0,R5
   \   00000038   ........           BL       GUI_ALLOC_LockH
   \   0000003C   1CA090E5           LDR      R10,[R0, #+28]
   \   00000040   00B0A0E3           MOV      R11,#+0
   \   00000044   020000EA           B        ??_AddScrollbar_0
   \                     ??_AddScrollbar_1:
   \   00000048   0A00A0E1           MOV      R0,R10
   \   0000004C   ........           BL       GUI_ALLOC_h2p
   \   00000050   20A090E5           LDR      R10,[R0, #+32]
   \                     ??_AddScrollbar_0:
   \   00000054   00005AE3           CMP      R10,#+0
   \   00000058   0400000A           BEQ      ??_AddScrollbar_2
   \   0000005C   0A00A0E1           MOV      R0,R10
   \   00000060   ........           BL       WM_GetId
   \   00000064   FF0050E3           CMP      R0,#+255
   \   00000068   F6FFFF1A           BNE      ??_AddScrollbar_1
   \   0000006C   0AB0A0E1           MOV      R11,R10
   \                     ??_AddScrollbar_2:
   \   00000070   ........           BL       GUI_ALLOC_UnlockH
   \   00000074   00005BE3           CMP      R11,#+0
   \   00000078   1100001A           BNE      ??_AddScrollbar_3
    134              if (State & WIDGET_STATE_VERTICAL) {
   \   0000007C   B000DDE1           LDRH     R0,[SP, #+0]
    135                hScroll = SCROLLBAR_Create(x, y, w, h, hObj, GUI_ID_HSCROLL, WM_CF_SHOW, SCROLLBAR_CF_VERTICAL);
    136              } else {
    137                hScroll = SCROLLBAR_Create(x, y, w, h, hObj, GUI_ID_HSCROLL, WM_CF_SHOW, 0);
   \   00000080   00508DE5           STR      R5,[SP, #+0]
   \   00000084   0930A0E1           MOV      R3,R9
   \   00000088   080010E3           TST      R0,#0x8
   \   0000008C   0800A013           MOVNE    R0,#+8
   \   00000090   0000A003           MOVEQ    R0,#+0
   \   00000094   0C008DE5           STR      R0,[SP, #+12]
   \   00000098   0200A0E3           MOV      R0,#+2
   \   0000009C   08008DE5           STR      R0,[SP, #+8]
   \   000000A0   FF00A0E3           MOV      R0,#+255
   \   000000A4   04008DE5           STR      R0,[SP, #+4]
   \   000000A8   0820A0E1           MOV      R2,R8
   \   000000AC   0710A0E1           MOV      R1,R7
   \   000000B0   0600A0E1           MOV      R0,R6
   \   000000B4   ........           BL       SCROLLBAR_Create
    138              }
    139              WIDGET_SetEffect(hScroll, pEffect);
   \   000000B8   10109DE5           LDR      R1,[SP, #+16]
   \   000000BC   ........           BL       WIDGET_SetEffect
   \   000000C0   070000EA           B        ??_AddScrollbar_4
    140            } else {
    141              WM_MoveChildTo(hScroll, x, y);
   \                     ??_AddScrollbar_3:
   \   000000C4   0720A0E1           MOV      R2,R7
   \   000000C8   0610A0E1           MOV      R1,R6
   \   000000CC   0B00A0E1           MOV      R0,R11
   \   000000D0   ........           BL       WM_MoveChildTo
    142              WM_SetSize(hScroll, w, h);
   \   000000D4   0920A0E1           MOV      R2,R9
   \   000000D8   0810A0E1           MOV      R1,R8
   \   000000DC   0B00A0E1           MOV      R0,R11
   \   000000E0   ........           BL       WM_SetSize
    143            }
    144            pObj = MULTIPAGE_LOCK_H(hObj);
   \                     ??_AddScrollbar_4:
   \   000000E4   0500A0E1           MOV      R0,R5
   \   000000E8   ........           BL       GUI_ALLOC_LockH
    145            pObj->Widget.State |= MULTIPAGE_STATE_SCROLLMODE;
   \   000000EC   B213D0E1           LDRH     R1,[R0, #+50]
    146            GUI_UNLOCK_H(pObj);
   \   000000F0   18D08DE2           ADD      SP,SP,#+24
   \   000000F4   401F81E3           ORR      R1,R1,#0x100
   \   000000F8   B213C0E1           STRH     R1,[R0, #+50]
   \   000000FC   E04FBDE8           POP      {R5-R11,LR}
   \   00000100   ........           B        GUI_ALLOC_UnlockH  ;; tailcall
    147          }
    148          
    149          /*********************************************************************
    150          *
    151          *       _SetScrollbar
    152          */
    153          static void _SetScrollbar(MULTIPAGE_Handle hObj, int NumItems) {
    154            MULTIPAGE_Obj * pObj;
    155            SCROLLBAR_Handle hScroll;
    156            hScroll = _GetScrollbarH(hObj);
    157            SCROLLBAR_SetNumItems(hScroll, NumItems);
    158            SCROLLBAR_SetPageSize(hScroll, 1);
    159            pObj = MULTIPAGE_LOCK_H(hObj);
    160            if (pObj->ScrollState >= NumItems) {
    161              pObj->ScrollState = 0;
    162            }
    163            SCROLLBAR_SetValue(hScroll, pObj->ScrollState);
    164            GUI_UNLOCK_H(pObj);
    165          }
    166          
    167          /*********************************************************************
    168          *
    169          *       _ShowPage
    170          */
    171          static void _ShowPage(MULTIPAGE_Handle hObj, unsigned Index) {
    172            MULTIPAGE_Obj * pObj;
    173            WM_HWIN hWin = 0;
    174            WM_HWIN hChild;
    175            WM_HWIN hClient;
    176            WM_Obj * pChild;
    177            WM_Obj * pClient;
    178            unsigned NumItems;
    179            GUI_ARRAY Handles;
    180            pObj = MULTIPAGE_LOCK_H(hObj);
    181            hClient = pObj->hClient;
    182            Handles = pObj->Handles;
    183            GUI_UNLOCK_H(pObj);
    184            pClient = (WM_Obj *)GUI_LOCK_H(hClient);
    185            NumItems = GUI_ARRAY_GetNumItems(Handles);
    186            if (Index < NumItems) {
    187              MULTIPAGE_PAGE * pPage;
    188              pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, Index);
    189              hWin = pPage->hWin;
    190              GUI_UNLOCK_H(pPage);
    191            }
    192            hChild = pClient->hFirstChild;
    193            GUI_UNLOCK_H(pClient);
    194            while (hChild) {
    195              if (hChild == hWin) {
    196                WM_ShowWindow(hChild);
    197                WM_SetFocus(hChild);
    198              } else {
    199                WM_HideWindow(hChild);
    200              }
    201              pChild = (WM_Obj *)GUI_LOCK_H(hChild);
    202              hChild = pChild->hNext;
    203              GUI_UNLOCK_H(pChild);
    204            }
    205          }
    206          
    207          /*********************************************************************
    208          *
    209          *       _SetEnable
    210          */
    211          static void _SetEnable(MULTIPAGE_Obj * pObj, unsigned Index, int State) {
    212            unsigned NumItems;
    213            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
    214            if (Index < NumItems) {
    215              MULTIPAGE_PAGE * pPage;
    216              pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(pObj->Handles, Index);
    217              if (State) {
    218                pPage->Status |= MULTIPAGE_STATE_ENABLED;
    219              } else {
    220                pPage->Status &= ~MULTIPAGE_STATE_ENABLED;
    221              }
    222              GUI_UNLOCK_H(pPage);
    223            }
    224          }
    225          
    226          /*********************************************************************
    227          *
    228          *       _GetEnable
    229          */
    230          static int _GetEnable(MULTIPAGE_Handle hObj, unsigned Index) {
    231            MULTIPAGE_Obj * pObj;
    232            int r = 0;
    233            unsigned NumItems;
    234            pObj = MULTIPAGE_LOCK_H(hObj);
    235            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
    236            if (Index < NumItems) {
    237              MULTIPAGE_PAGE * pPage;
    238              pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(pObj->Handles, Index);
    239              r = (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0;
    240              GUI_UNLOCK_H(pPage);
    241            }
    242            GUI_UNLOCK_H(pObj);
    243            return r;
    244          }
    245          
    246          /*********************************************************************
    247          *
    248          *       _AdjustRect
    249          */
    250          static void _AdjustRect(MULTIPAGE_Obj * pObj, GUI_RECT * pRect) {
    251            if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    252              if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
    253                pRect->x0 += GUI_GetYSizeOfFont(pObj->Props.pFont) + 6;
    254              } else {
    255                pRect->x1 -= GUI_GetYSizeOfFont(pObj->Props.pFont) + 6;
    256              }
    257            } else {
    258              if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
    259                pRect->y1 -= GUI_GetYSizeOfFont(pObj->Props.pFont) + 6;
    260              } else {
    261                pRect->y0 += GUI_GetYSizeOfFont(pObj->Props.pFont) + 6;
    262              }
    263            }
    264          }
    265          
    266          /*********************************************************************
    267          *
    268          *       _CalcBorderRect
    269          *
    270          *  Calculates the border rect of the client area.
    271          */
    272          static void _CalcBorderRect(MULTIPAGE_Obj * pObj, GUI_RECT * pRect) {
    273            WM__GetClientRectWin(&pObj->Widget.Win, pRect);
    274            _AdjustRect(pObj, pRect);
    275          }
    276          
    277          /*********************************************************************
    278          *
    279          *       _GetPageSizeX
    280          *
    281          *  Returns the width of a page item.
    282          */
    283          static int _GetPageSizeX(MULTIPAGE_Handle hObj, unsigned Index) {
    284            MULTIPAGE_Obj * pObj;
    285            int r = 0;
    286            unsigned NumItems;
    287            pObj = MULTIPAGE_LOCK_H(hObj);
    288            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
    289            if (Index < NumItems) {
    290              MULTIPAGE_PAGE * pPage;
    291              GUI_SetFont(pObj->Props.pFont);
    292              pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(pObj->Handles, Index);
    293              r = GUI_GetStringDistX(&pPage->acText) + 10;
    294              GUI_UNLOCK_H(pPage);
    295            }
    296            GUI_UNLOCK_H(pObj);
    297            return r;
    298          }
    299          
    300          /*********************************************************************
    301          *
    302          *       _GetPagePosX
    303          *
    304          *  Returns the x-position of a page item.
    305          */
    306          static int _GetPagePosX(MULTIPAGE_Handle hObj, unsigned Index) {
    307            unsigned i, r = 0;
    308            for (i = 0; i < Index; i++) {
    309              r += _GetPageSizeX(hObj, i);
    310            }
    311            return r;
    312          }
    313          
    314          /*********************************************************************
    315          *
    316          *       _GetTextWidth
    317          *
    318          *  Returns the width of all text items.
    319          */
    320          static int _GetTextWidth(MULTIPAGE_Handle hObj) {
    321            MULTIPAGE_Obj * pObj;
    322            unsigned NumItems;
    323            pObj = MULTIPAGE_LOCK_H(hObj);
    324            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
    325            GUI_UNLOCK_H(pObj);
    326            return _GetPagePosX(hObj, NumItems);
    327          }
    328          
    329          /*********************************************************************
    330          *
    331          *       _GetTextRect
    332          */

   \                                 In section .text, align 4, keep-with-next
    333          static void _GetTextRect(MULTIPAGE_Handle hObj, GUI_RECT * pRect) {
   \                     _GetTextRect:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0CD04DE2           SUB      SP,SP,#+12
   \   00000008   0060A0E1           MOV      R6,R0
   \   0000000C   0140A0E1           MOV      R4,R1
    334            MULTIPAGE_Obj * pObj;
    335            GUI_RECT rBorder;
    336            int Width, Height;
    337            pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000010   ........           BL       GUI_ALLOC_LockH
   \   00000014   0050A0E1           MOV      R5,R0
    338            Height = GUI_GetYSizeOfFont(pObj->Props.pFont) + 6;
   \   00000018   440095E5           LDR      R0,[R5, #+68]
   \   0000001C   ........           BL       GUI_GetYSizeOfFont
   \   00000020   067080E2           ADD      R7,R0,#+6
    339            _CalcBorderRect(pObj, &rBorder);
   \   00000024   0D10A0E1           MOV      R1,SP
   \   00000028   0500A0E1           MOV      R0,R5
   \   0000002C   ........           BL       WM__GetClientRectWin
   \   00000030   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000034   3220D5E5           LDRB     R2,[R5, #+50]
   \   00000038   041000E2           AND      R1,R0,#0x4
   \   0000003C   440095E5           LDR      R0,[R5, #+68]
   \   00000040   080012E3           TST      R2,#0x8
   \   00000044   0D00000A           BEQ      ??_GetTextRect_0
   \   00000048   000051E3           CMP      R1,#+0
   \   0000004C   0500000A           BEQ      ??_GetTextRect_1
   \   00000050   ........           BL       GUI_GetYSizeOfFont
   \   00000054   F010DDE1           LDRSH    R1,[SP, #+0]
   \   00000058   060080E2           ADD      R0,R0,#+6
   \   0000005C   010080E0           ADD      R0,R0,R1
   \   00000060   B000CDE1           STRH     R0,[SP, #+0]
   \   00000064   120000EA           B        ??_GetTextRect_2
   \                     ??_GetTextRect_1:
   \   00000068   ........           BL       GUI_GetYSizeOfFont
   \   0000006C   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000070   000041E0           SUB      R0,R1,R0
   \   00000074   060040E2           SUB      R0,R0,#+6
   \   00000078   B400CDE1           STRH     R0,[SP, #+4]
   \   0000007C   0C0000EA           B        ??_GetTextRect_2
   \                     ??_GetTextRect_0:
   \   00000080   000051E3           CMP      R1,#+0
   \   00000084   0500000A           BEQ      ??_GetTextRect_3
   \   00000088   ........           BL       GUI_GetYSizeOfFont
   \   0000008C   F610DDE1           LDRSH    R1,[SP, #+6]
   \   00000090   000041E0           SUB      R0,R1,R0
   \   00000094   060040E2           SUB      R0,R0,#+6
   \   00000098   B600CDE1           STRH     R0,[SP, #+6]
   \   0000009C   040000EA           B        ??_GetTextRect_2
   \                     ??_GetTextRect_3:
   \   000000A0   ........           BL       GUI_GetYSizeOfFont
   \   000000A4   F210DDE1           LDRSH    R1,[SP, #+2]
   \   000000A8   060080E2           ADD      R0,R0,#+6
   \   000000AC   010080E0           ADD      R0,R0,R1
   \   000000B0   B200CDE1           STRH     R0,[SP, #+2]
   \                     ??_GetTextRect_2:
   \   000000B4   4800D5E5           LDRB     R0,[R5, #+72]
   \   000000B8   3210D5E5           LDRB     R1,[R5, #+50]
   \   000000BC   040000E2           AND      R0,R0,#0x4
   \   000000C0   080011E3           TST      R1,#0x8
   \   000000C4   6500000A           BEQ      ??_GetTextRect_4
    340            if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    341              /* Calculate X-Position of text item */
    342              if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
   \   000000C8   000050E3           CMP      R0,#+0
    343                pRect->x0 = 0;
    344              } else {
    345                pRect->x0 = rBorder.x1;
   \   000000CC   F400DD01           LDRSHEQ  R0,[SP, #+4]
   \   000000D0   0000A013           MOVNE    R0,#+0
   \   000000D4   B000C4E1           STRH     R0,[R4, #+0]
    346              }
    347              pRect->x1 = pRect->x0 + Height;
   \   000000D8   F000D4E1           LDRSH    R0,[R4, #+0]
   \   000000DC   000087E0           ADD      R0,R7,R0
   \   000000E0   B400C4E1           STRH     R0,[R4, #+4]
    348              /* Calculate width of text items */
    349              if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
   \   000000E4   B203D5E1           LDRH     R0,[R5, #+50]
   \   000000E8   400F10E3           TST      R0,#0x100
   \   000000EC   0C00000A           BEQ      ??_GetTextRect_5
    350                Width = rBorder.y1 - ((Height * 3) >> 1) - 3;
   \   000000F0   F600DDE1           LDRSH    R0,[SP, #+6]
   \   000000F4   871087E0           ADD      R1,R7,R7, LSL #+1
   \   000000F8   C10040E0           SUB      R0,R0,R1, ASR #+1
   \   000000FC   037040E2           SUB      R7,R0,#+3
    351              } else {
    352                Width = _GetTextWidth(hObj);
    353              }
    354              /* Calculate Y-Position of text item */
    355              if (pObj->Props.Align & MULTIPAGE_ALIGN_RIGHT) {
   \                     ??_GetTextRect_6:
   \   00000100   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000104   010010E3           TST      R0,#0x1
   \   00000108   5000000A           BEQ      ??_GetTextRect_7
    356                pRect->y0 = rBorder.y1 - Width;
   \   0000010C   F600DDE1           LDRSH    R0,[SP, #+6]
   \   00000110   070040E0           SUB      R0,R0,R7
   \   00000114   B200C4E1           STRH     R0,[R4, #+2]
    357                pRect->y1 = rBorder.y1;
   \   00000118   F600DDE1           LDRSH    R0,[SP, #+6]
   \   0000011C   B600C4E1           STRH     R0,[R4, #+6]
   \   00000120   B20000EA           B        ??_GetTextRect_8
    358              } else {
   \                     ??_GetTextRect_5:
   \   00000124   0600A0E1           MOV      R0,R6
   \   00000128   ........           BL       GUI_ALLOC_LockH
   \   0000012C   380090E5           LDR      R0,[R0, #+56]
   \   00000130   ........           BL       GUI_ARRAY_GetNumItems
   \   00000134   0090A0E1           MOV      R9,R0
   \   00000138   ........           BL       GUI_ALLOC_UnlockH
   \   0000013C   0070A0E3           MOV      R7,#+0
   \   00000140   0080A0E3           MOV      R8,#+0
   \   00000144   000059E3           CMP      R9,#+0
   \   00000148   ECFFFF0A           BEQ      ??_GetTextRect_6
   \   0000014C   010019E3           TST      R9,#0x1
   \   00000150   1100000A           BEQ      ??_GetTextRect_9
   \   00000154   0600A0E1           MOV      R0,R6
   \   00000158   ........           BL       GUI_ALLOC_LockH
   \   0000015C   0080A0E1           MOV      R8,R0
   \   00000160   380098E5           LDR      R0,[R8, #+56]
   \   00000164   ........           BL       GUI_ARRAY_GetNumItems
   \   00000168   000050E3           CMP      R0,#+0
   \   0000016C   0800000A           BEQ      ??_GetTextRect_10
   \   00000170   440098E5           LDR      R0,[R8, #+68]
   \   00000174   ........           BL       GUI_SetFont
   \   00000178   0010A0E3           MOV      R1,#+0
   \   0000017C   380098E5           LDR      R0,[R8, #+56]
   \   00000180   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000184   050080E2           ADD      R0,R0,#+5
   \   00000188   ........           BL       GUI_GetStringDistX
   \   0000018C   0A7080E2           ADD      R7,R0,#+10
   \   00000190   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_10:
   \   00000194   ........           BL       GUI_ALLOC_UnlockH
   \   00000198   0180A0E3           MOV      R8,#+1
   \                     ??_GetTextRect_9:
   \   0000019C   A990B0E1           LSRS     R9,R9,#+1
   \   000001A0   D6FFFF0A           BEQ      ??_GetTextRect_6
   \                     ??_GetTextRect_11:
   \   000001A4   00A0A0E3           MOV      R10,#+0
   \   000001A8   0600A0E1           MOV      R0,R6
   \   000001AC   ........           BL       GUI_ALLOC_LockH
   \   000001B0   00B0A0E1           MOV      R11,R0
   \   000001B4   38009BE5           LDR      R0,[R11, #+56]
   \   000001B8   ........           BL       GUI_ARRAY_GetNumItems
   \   000001BC   000058E1           CMP      R8,R0
   \   000001C0   0800002A           BCS      ??_GetTextRect_12
   \   000001C4   44009BE5           LDR      R0,[R11, #+68]
   \   000001C8   ........           BL       GUI_SetFont
   \   000001CC   0810A0E1           MOV      R1,R8
   \   000001D0   38009BE5           LDR      R0,[R11, #+56]
   \   000001D4   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000001D8   050080E2           ADD      R0,R0,#+5
   \   000001DC   ........           BL       GUI_GetStringDistX
   \   000001E0   0AA080E2           ADD      R10,R0,#+10
   \   000001E4   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_12:
   \   000001E8   ........           BL       GUI_ALLOC_UnlockH
   \   000001EC   07708AE0           ADD      R7,R10,R7
   \   000001F0   018088E2           ADD      R8,R8,#+1
   \   000001F4   00A0A0E3           MOV      R10,#+0
   \   000001F8   0600A0E1           MOV      R0,R6
   \   000001FC   ........           BL       GUI_ALLOC_LockH
   \   00000200   00B0A0E1           MOV      R11,R0
   \   00000204   38009BE5           LDR      R0,[R11, #+56]
   \   00000208   ........           BL       GUI_ARRAY_GetNumItems
   \   0000020C   000058E1           CMP      R8,R0
   \   00000210   0800002A           BCS      ??_GetTextRect_13
   \   00000214   44009BE5           LDR      R0,[R11, #+68]
   \   00000218   ........           BL       GUI_SetFont
   \   0000021C   0810A0E1           MOV      R1,R8
   \   00000220   38009BE5           LDR      R0,[R11, #+56]
   \   00000224   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000228   050080E2           ADD      R0,R0,#+5
   \   0000022C   ........           BL       GUI_GetStringDistX
   \   00000230   0AA080E2           ADD      R10,R0,#+10
   \   00000234   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_13:
   \   00000238   ........           BL       GUI_ALLOC_UnlockH
   \   0000023C   07708AE0           ADD      R7,R10,R7
   \   00000240   018088E2           ADD      R8,R8,#+1
   \   00000244   019059E2           SUBS     R9,R9,#+1
   \   00000248   D5FFFF1A           BNE      ??_GetTextRect_11
   \   0000024C   ABFFFFEA           B        ??_GetTextRect_6
    359                pRect->y0 = 0;
   \                     ??_GetTextRect_7:
   \   00000250   0000A0E3           MOV      R0,#+0
   \   00000254   B200C4E1           STRH     R0,[R4, #+2]
    360                pRect->y1 = Width;
   \   00000258   B670C4E1           STRH     R7,[R4, #+6]
   \   0000025C   630000EA           B        ??_GetTextRect_8
    361              }
    362            } else {
    363              /* Calculate Y-Position of text item */
    364              if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
   \                     ??_GetTextRect_4:
   \   00000260   000050E3           CMP      R0,#+0
    365                pRect->y0 = rBorder.y1;
   \   00000264   F600DD11           LDRSHNE  R0,[SP, #+6]
    366              } else {
    367                pRect->y0 = 0;
   \   00000268   B200C4E1           STRH     R0,[R4, #+2]
    368              }
    369              pRect->y1 = pRect->y0 + Height;
   \   0000026C   F200D4E1           LDRSH    R0,[R4, #+2]
   \   00000270   000087E0           ADD      R0,R7,R0
   \   00000274   B600C4E1           STRH     R0,[R4, #+6]
    370              /* Calculate width of text items */
    371              if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
   \   00000278   B203D5E1           LDRH     R0,[R5, #+50]
   \   0000027C   400F10E3           TST      R0,#0x100
   \   00000280   0C00000A           BEQ      ??_GetTextRect_14
    372                Width = rBorder.x1 - ((Height * 3) >> 1) - 3;
   \   00000284   F400DDE1           LDRSH    R0,[SP, #+4]
   \   00000288   871087E0           ADD      R1,R7,R7, LSL #+1
   \   0000028C   C10040E0           SUB      R0,R0,R1, ASR #+1
   \   00000290   037040E2           SUB      R7,R0,#+3
    373              } else {
    374                Width = _GetTextWidth(hObj);
    375              }
    376              /* Calculate X-Position of text item */
    377              if (pObj->Props.Align & MULTIPAGE_ALIGN_RIGHT) {
   \                     ??_GetTextRect_15:
   \   00000294   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000298   010010E3           TST      R0,#0x1
   \   0000029C   5000000A           BEQ      ??_GetTextRect_16
    378                pRect->x0 = rBorder.x1 - Width;
   \   000002A0   F400DDE1           LDRSH    R0,[SP, #+4]
   \   000002A4   070040E0           SUB      R0,R0,R7
   \   000002A8   B000C4E1           STRH     R0,[R4, #+0]
    379                pRect->x1 = rBorder.x1;
   \   000002AC   F400DDE1           LDRSH    R0,[SP, #+4]
   \   000002B0   B400C4E1           STRH     R0,[R4, #+4]
   \   000002B4   4D0000EA           B        ??_GetTextRect_8
    380              } else {
   \                     ??_GetTextRect_14:
   \   000002B8   0600A0E1           MOV      R0,R6
   \   000002BC   ........           BL       GUI_ALLOC_LockH
   \   000002C0   380090E5           LDR      R0,[R0, #+56]
   \   000002C4   ........           BL       GUI_ARRAY_GetNumItems
   \   000002C8   0090A0E1           MOV      R9,R0
   \   000002CC   ........           BL       GUI_ALLOC_UnlockH
   \   000002D0   0070A0E3           MOV      R7,#+0
   \   000002D4   0080A0E3           MOV      R8,#+0
   \   000002D8   000059E3           CMP      R9,#+0
   \   000002DC   ECFFFF0A           BEQ      ??_GetTextRect_15
   \   000002E0   010019E3           TST      R9,#0x1
   \   000002E4   1100000A           BEQ      ??_GetTextRect_17
   \   000002E8   0600A0E1           MOV      R0,R6
   \   000002EC   ........           BL       GUI_ALLOC_LockH
   \   000002F0   0080A0E1           MOV      R8,R0
   \   000002F4   380098E5           LDR      R0,[R8, #+56]
   \   000002F8   ........           BL       GUI_ARRAY_GetNumItems
   \   000002FC   000050E3           CMP      R0,#+0
   \   00000300   0800000A           BEQ      ??_GetTextRect_18
   \   00000304   440098E5           LDR      R0,[R8, #+68]
   \   00000308   ........           BL       GUI_SetFont
   \   0000030C   0010A0E3           MOV      R1,#+0
   \   00000310   380098E5           LDR      R0,[R8, #+56]
   \   00000314   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000318   050080E2           ADD      R0,R0,#+5
   \   0000031C   ........           BL       GUI_GetStringDistX
   \   00000320   0A7080E2           ADD      R7,R0,#+10
   \   00000324   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_18:
   \   00000328   ........           BL       GUI_ALLOC_UnlockH
   \   0000032C   0180A0E3           MOV      R8,#+1
   \                     ??_GetTextRect_17:
   \   00000330   A990B0E1           LSRS     R9,R9,#+1
   \   00000334   D6FFFF0A           BEQ      ??_GetTextRect_15
   \                     ??_GetTextRect_19:
   \   00000338   00A0A0E3           MOV      R10,#+0
   \   0000033C   0600A0E1           MOV      R0,R6
   \   00000340   ........           BL       GUI_ALLOC_LockH
   \   00000344   00B0A0E1           MOV      R11,R0
   \   00000348   38009BE5           LDR      R0,[R11, #+56]
   \   0000034C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000350   000058E1           CMP      R8,R0
   \   00000354   0800002A           BCS      ??_GetTextRect_20
   \   00000358   44009BE5           LDR      R0,[R11, #+68]
   \   0000035C   ........           BL       GUI_SetFont
   \   00000360   0810A0E1           MOV      R1,R8
   \   00000364   38009BE5           LDR      R0,[R11, #+56]
   \   00000368   ........           BL       GUI_ARRAY_GetpItemLocked
   \   0000036C   050080E2           ADD      R0,R0,#+5
   \   00000370   ........           BL       GUI_GetStringDistX
   \   00000374   0AA080E2           ADD      R10,R0,#+10
   \   00000378   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_20:
   \   0000037C   ........           BL       GUI_ALLOC_UnlockH
   \   00000380   07708AE0           ADD      R7,R10,R7
   \   00000384   018088E2           ADD      R8,R8,#+1
   \   00000388   00A0A0E3           MOV      R10,#+0
   \   0000038C   0600A0E1           MOV      R0,R6
   \   00000390   ........           BL       GUI_ALLOC_LockH
   \   00000394   00B0A0E1           MOV      R11,R0
   \   00000398   38009BE5           LDR      R0,[R11, #+56]
   \   0000039C   ........           BL       GUI_ARRAY_GetNumItems
   \   000003A0   000058E1           CMP      R8,R0
   \   000003A4   0800002A           BCS      ??_GetTextRect_21
   \   000003A8   44009BE5           LDR      R0,[R11, #+68]
   \   000003AC   ........           BL       GUI_SetFont
   \   000003B0   0810A0E1           MOV      R1,R8
   \   000003B4   38009BE5           LDR      R0,[R11, #+56]
   \   000003B8   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000003BC   050080E2           ADD      R0,R0,#+5
   \   000003C0   ........           BL       GUI_GetStringDistX
   \   000003C4   0AA080E2           ADD      R10,R0,#+10
   \   000003C8   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_GetTextRect_21:
   \   000003CC   ........           BL       GUI_ALLOC_UnlockH
   \   000003D0   07708AE0           ADD      R7,R10,R7
   \   000003D4   018088E2           ADD      R8,R8,#+1
   \   000003D8   019059E2           SUBS     R9,R9,#+1
   \   000003DC   D5FFFF1A           BNE      ??_GetTextRect_19
   \   000003E0   ABFFFFEA           B        ??_GetTextRect_15
    381                pRect->x0 = 0;
   \                     ??_GetTextRect_16:
   \   000003E4   0000A0E3           MOV      R0,#+0
   \   000003E8   B000C4E1           STRH     R0,[R4, #+0]
    382                pRect->x1 = Width;
   \   000003EC   B470C4E1           STRH     R7,[R4, #+4]
    383              }
    384            }
    385            GUI_UNLOCK_H(pObj);
   \                     ??_GetTextRect_8:
   \   000003F0   ........           BL       GUI_ALLOC_UnlockH
    386          }
   \   000003F4   0CD08DE2           ADD      SP,SP,#+12       ;; stack cleaning
   \   000003F8   F08FBDE8           POP      {R4-R11,PC}      ;; return
    387          
    388          /*********************************************************************
    389          *
    390          *       Static code, drawing functions
    391          *
    392          **********************************************************************
    393          */
    394          /*********************************************************************
    395          *
    396          *       _Paint
    397          */

   \                                 In section .text, align 4, keep-with-next
    398          static void _Paint(MULTIPAGE_Handle hObj) {
   \                     _Paint:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   24D04DE2           SUB      SP,SP,#+36
   \   00000008   0050A0E1           MOV      R5,R0
    399            MULTIPAGE_Obj * pObj;
    400            GUI_RECT rBorder;
    401            GUI_RECT rText;
    402            int NumItems;
    403            #if (!WM_SUPPORT_TRANSPARENCY)
    404              int y0_Clear, y1_Clear, x0_Clear, x1_Clear;
    405            #endif
    406            pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000000C   ........           BL       GUI_ALLOC_LockH
   \   00000010   0060A0E1           MOV      R6,R0
    407            /* Get rectangle of text items */
    408            _GetTextRect(hObj, &rText);
   \   00000014   14108DE2           ADD      R1,SP,#+20
   \   00000018   0500A0E1           MOV      R0,R5
   \   0000001C   ........           BL       _GetTextRect
    409            #if (!WM_SUPPORT_TRANSPARENCY)
    410              /* Calculate the y-positions of the rectangle which needs to
    411               * to be cleared if the widget is non transparent. Note that 
    412               * these positions are not the same as the text item positions,
    413               * because the text rectangle overlaps the border by 1 pixel
    414               * to make sure, the text items are joined with the inner part.
    415               */
    416              if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    417                if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
    418                  x0_Clear = rText.x0;
    419                  x1_Clear = rText.x1 - 1;
    420                } else {
    421                  x0_Clear = rText.x0 + 1;
    422                  x1_Clear = rText.x1;
    423                }
    424              } else {
    425                if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
    426                  y0_Clear = rText.y0 + 1;
    427                  y1_Clear = rText.y1;
    428                } else {
    429                  y0_Clear = rText.y0;
    430                  y1_Clear = rText.y1 - 1;
    431                }
    432              }
    433            #endif
    434            /* Draw border of multipage */
    435            _CalcBorderRect(pObj, &rBorder);
   \   00000020   0C108DE2           ADD      R1,SP,#+12
   \   00000024   0600A0E1           MOV      R0,R6
   \   00000028   ........           BL       WM__GetClientRectWin
   \   0000002C   4800D6E5           LDRB     R0,[R6, #+72]
   \   00000030   3220D6E5           LDRB     R2,[R6, #+50]
   \   00000034   041000E2           AND      R1,R0,#0x4
   \   00000038   440096E5           LDR      R0,[R6, #+68]
   \   0000003C   080012E3           TST      R2,#0x8
   \   00000040   0D00000A           BEQ      ??_Paint_0
   \   00000044   000051E3           CMP      R1,#+0
   \   00000048   0500000A           BEQ      ??_Paint_1
   \   0000004C   ........           BL       GUI_GetYSizeOfFont
   \   00000050   FC10DDE1           LDRSH    R1,[SP, #+12]
   \   00000054   060080E2           ADD      R0,R0,#+6
   \   00000058   010080E0           ADD      R0,R0,R1
   \   0000005C   BC00CDE1           STRH     R0,[SP, #+12]
   \   00000060   120000EA           B        ??_Paint_2
   \                     ??_Paint_1:
   \   00000064   ........           BL       GUI_GetYSizeOfFont
   \   00000068   F011DDE1           LDRSH    R1,[SP, #+16]
   \   0000006C   000041E0           SUB      R0,R1,R0
   \   00000070   060040E2           SUB      R0,R0,#+6
   \   00000074   B001CDE1           STRH     R0,[SP, #+16]
   \   00000078   0C0000EA           B        ??_Paint_2
   \                     ??_Paint_0:
   \   0000007C   000051E3           CMP      R1,#+0
   \   00000080   0500000A           BEQ      ??_Paint_3
   \   00000084   ........           BL       GUI_GetYSizeOfFont
   \   00000088   F211DDE1           LDRSH    R1,[SP, #+18]
   \   0000008C   000041E0           SUB      R0,R1,R0
   \   00000090   060040E2           SUB      R0,R0,#+6
   \   00000094   B201CDE1           STRH     R0,[SP, #+18]
   \   00000098   040000EA           B        ??_Paint_2
   \                     ??_Paint_3:
   \   0000009C   ........           BL       GUI_GetYSizeOfFont
   \   000000A0   FE10DDE1           LDRSH    R1,[SP, #+14]
   \   000000A4   060080E2           ADD      R0,R0,#+6
   \   000000A8   010080E0           ADD      R0,R0,R1
   \   000000AC   BE00CDE1           STRH     R0,[SP, #+14]
    436            pObj->Widget.pEffect->pfDrawUpRect(&rBorder);
   \                     ??_Paint_2:
   \   000000B0   2C1096E5           LDR      R1,[R6, #+44]
   \   000000B4   0C008DE2           ADD      R0,SP,#+12
   \   000000B8   081091E5           LDR      R1,[R1, #+8]
   \   000000BC   31FF2FE1           BLX      R1
    437            /* Draw text items */
    438            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   000000C0   380096E5           LDR      R0,[R6, #+56]
   \   000000C4   ........           BL       GUI_ARRAY_GetNumItems
   \   000000C8   00008DE5           STR      R0,[SP, #+0]
    439            if (NumItems > 0) {
   \   000000CC   010050E3           CMP      R0,#+1
   \   000000D0   AA0000BA           BLT      ??_Paint_4
    440              MULTIPAGE_PAGE * pPage;
    441              GUI_RECT rClip;
    442              int i, w = 0, TextPos = 0;
    443              if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
   \   000000D4   B203D6E1           LDRH     R0,[R6, #+50]
   \   000000D8   0070A0E3           MOV      R7,#+0
   \   000000DC   0040A0E3           MOV      R4,#+0
   \   000000E0   400F10E3           TST      R0,#0x100
   \   000000E4   4400000A           BEQ      ??_Paint_5
    444                if (pObj->Props.Align & MULTIPAGE_ALIGN_RIGHT) {
   \   000000E8   409096E5           LDR      R9,[R6, #+64]
   \   000000EC   0080A0E3           MOV      R8,#+0
    445                  TextPos = -_GetPagePosX(hObj, pObj->ScrollState);
   \   000000F0   000059E3           CMP      R9,#+0
   \   000000F4   3F00000A           BEQ      ??_Paint_6
   \   000000F8   010019E3           TST      R9,#0x1
   \   000000FC   1100000A           BEQ      ??_Paint_7
   \   00000100   0500A0E1           MOV      R0,R5
   \   00000104   ........           BL       GUI_ALLOC_LockH
   \   00000108   0040A0E1           MOV      R4,R0
   \   0000010C   380094E5           LDR      R0,[R4, #+56]
   \   00000110   ........           BL       GUI_ARRAY_GetNumItems
   \   00000114   000050E3           CMP      R0,#+0
   \   00000118   0800000A           BEQ      ??_Paint_8
   \   0000011C   440094E5           LDR      R0,[R4, #+68]
   \   00000120   ........           BL       GUI_SetFont
   \   00000124   0010A0E3           MOV      R1,#+0
   \   00000128   380094E5           LDR      R0,[R4, #+56]
   \   0000012C   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000130   050080E2           ADD      R0,R0,#+5
   \   00000134   ........           BL       GUI_GetStringDistX
   \   00000138   0A8080E2           ADD      R8,R0,#+10
   \   0000013C   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_Paint_8:
   \   00000140   ........           BL       GUI_ALLOC_UnlockH
   \   00000144   0140A0E3           MOV      R4,#+1
   \                     ??_Paint_7:
   \   00000148   A990B0E1           LSRS     R9,R9,#+1
   \   0000014C   2900000A           BEQ      ??_Paint_6
   \                     ??_Paint_9:
   \   00000150   00A0A0E3           MOV      R10,#+0
   \   00000154   0500A0E1           MOV      R0,R5
   \   00000158   ........           BL       GUI_ALLOC_LockH
   \   0000015C   00B0A0E1           MOV      R11,R0
   \   00000160   38009BE5           LDR      R0,[R11, #+56]
   \   00000164   ........           BL       GUI_ARRAY_GetNumItems
   \   00000168   000054E1           CMP      R4,R0
   \   0000016C   0800002A           BCS      ??_Paint_10
   \   00000170   44009BE5           LDR      R0,[R11, #+68]
   \   00000174   ........           BL       GUI_SetFont
   \   00000178   0410A0E1           MOV      R1,R4
   \   0000017C   38009BE5           LDR      R0,[R11, #+56]
   \   00000180   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000184   050080E2           ADD      R0,R0,#+5
   \   00000188   ........           BL       GUI_GetStringDistX
   \   0000018C   0AA080E2           ADD      R10,R0,#+10
   \   00000190   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_Paint_10:
   \   00000194   ........           BL       GUI_ALLOC_UnlockH
   \   00000198   08808AE0           ADD      R8,R10,R8
   \   0000019C   014084E2           ADD      R4,R4,#+1
   \   000001A0   00A0A0E3           MOV      R10,#+0
   \   000001A4   0500A0E1           MOV      R0,R5
   \   000001A8   ........           BL       GUI_ALLOC_LockH
   \   000001AC   00B0A0E1           MOV      R11,R0
   \   000001B0   38009BE5           LDR      R0,[R11, #+56]
   \   000001B4   ........           BL       GUI_ARRAY_GetNumItems
   \   000001B8   000054E1           CMP      R4,R0
   \   000001BC   0800002A           BCS      ??_Paint_11
   \   000001C0   44009BE5           LDR      R0,[R11, #+68]
   \   000001C4   ........           BL       GUI_SetFont
   \   000001C8   0410A0E1           MOV      R1,R4
   \   000001CC   38009BE5           LDR      R0,[R11, #+56]
   \   000001D0   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000001D4   050080E2           ADD      R0,R0,#+5
   \   000001D8   ........           BL       GUI_GetStringDistX
   \   000001DC   0AA080E2           ADD      R10,R0,#+10
   \   000001E0   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_Paint_11:
   \   000001E4   ........           BL       GUI_ALLOC_UnlockH
   \   000001E8   08808AE0           ADD      R8,R10,R8
   \   000001EC   014084E2           ADD      R4,R4,#+1
   \   000001F0   019059E2           SUBS     R9,R9,#+1
   \   000001F4   D5FFFF1A           BNE      ??_Paint_9
    446                } else {
    447                  TextPos = -_GetPagePosX(hObj, pObj->ScrollState);
    448                }
    449              }
   \                     ??_Paint_6:
   \   000001F8   004068E2           RSB      R4,R8,#+0
    450              #if (!WM_SUPPORT_TRANSPARENCY)
    451                /* Clear the area between text rectangle and widget border */
    452                GUI_SetColor(WM_GetBkColor(pObj->Widget.Win.hParent));
    453                if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    454                  if (pObj->Props.Align & MULTIPAGE_ALIGN_RIGHT) {
    455                    GUI_FillRect(x0_Clear, 0, x1_Clear, rText.y0 - 1);
    456                  } else {
    457                    GUI_FillRect(x0_Clear, rText.y1 + 1, x1_Clear, pObj->Widget.Win.Rect.y1);
    458                  }
    459                } else {
    460                  if (pObj->Props.Align & MULTIPAGE_ALIGN_RIGHT) {
    461                    GUI_FillRect(0, y0_Clear, rText.x0 - 1, y1_Clear);
    462                  } else {
    463                    GUI_FillRect(rText.x1 + 1, y0_Clear, pObj->Widget.Win.Rect.x1, y1_Clear);
    464                  }
    465                }
    466              #endif
    467              rClip = rText;
   \                     ??_Paint_5:
   \   000001FC   14108DE2           ADD      R1,SP,#+20
   \   00000200   002091E5           LDR      R2,[R1, #+0]
   \   00000204   043091E5           LDR      R3,[R1, #+4]
   \   00000208   1C008DE2           ADD      R0,SP,#+28
   \   0000020C   0C0080E8           STM      R0,{R2,R3}
    468              if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
   \   00000210   3200D6E5           LDRB     R0,[R6, #+50]
   \   00000214   080010E3           TST      R0,#0x8
   \   00000218   0600000A           BEQ      ??_Paint_12
    469                rClip.x0 = rText.x0 - 1;
   \   0000021C   F401DDE1           LDRSH    R0,[SP, #+20]
   \   00000220   010040E2           SUB      R0,R0,#+1
   \   00000224   BC01CDE1           STRH     R0,[SP, #+28]
    470                rClip.x1 = rText.x1 + 1;
   \   00000228   F801DDE1           LDRSH    R0,[SP, #+24]
   \   0000022C   010080E2           ADD      R0,R0,#+1
   \   00000230   B002CDE1           STRH     R0,[SP, #+32]
   \   00000234   050000EA           B        ??_Paint_13
    471              } else {
    472                rClip.y0 = rText.y0 - 1;
   \                     ??_Paint_12:
   \   00000238   F601DDE1           LDRSH    R0,[SP, #+22]
   \   0000023C   010040E2           SUB      R0,R0,#+1
   \   00000240   BE01CDE1           STRH     R0,[SP, #+30]
    473                rClip.y1 = rText.y1 + 1;
   \   00000244   FA01DDE1           LDRSH    R0,[SP, #+26]
   \   00000248   010080E2           ADD      R0,R0,#+1
   \   0000024C   B202CDE1           STRH     R0,[SP, #+34]
    474              }
    475              WM_SetUserClipRect(&rClip);
   \                     ??_Paint_13:
   \   00000250   1C008DE2           ADD      R0,SP,#+28
   \   00000254   ........           BL       WM_SetUserClipRect
    476              GUI_SetFont(pObj->Props.pFont);
   \   00000258   440096E5           LDR      R0,[R6, #+68]
   \   0000025C   ........           BL       GUI_SetFont
    477              for (i = 0; i < NumItems; i++) {
   \   00000260   00809DE5           LDR      R8,[SP, #+0]
   \   00000264   0050A0E3           MOV      R5,#+0
   \   00000268   010018E3           TST      R8,#0x1
   \   0000026C   1300000A           BEQ      ??_Paint_14
    478                pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(pObj->Handles, i);
   \   00000270   0010A0E3           MOV      R1,#+0
   \   00000274   380096E5           LDR      R0,[R6, #+56]
   \   00000278   ........           BL       GUI_ARRAY_GetpItemLocked
   \   0000027C   0050A0E1           MOV      R5,R0
    479                TextPos += w;
    480                w   = GUI_GetStringDistX(&pPage->acText) + 10;
   \   00000280   050085E2           ADD      R0,R5,#+5
   \   00000284   ........           BL       GUI_GetStringDistX
   \   00000288   0A7080E2           ADD      R7,R0,#+10
    481                pObj->pfDrawTextItem(pObj, &pPage->acText, i, &rText, TextPos, w, (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0);
   \   0000028C   0400D5E5           LDRB     R0,[R5, #+4]
   \   00000290   04708DE5           STR      R7,[SP, #+4]
   \   00000294   00408DE5           STR      R4,[SP, #+0]
   \   00000298   010000E2           AND      R0,R0,#0x1
   \   0000029C   08008DE5           STR      R0,[SP, #+8]
   \   000002A0   14308DE2           ADD      R3,SP,#+20
   \   000002A4   0020A0E3           MOV      R2,#+0
   \   000002A8   051085E2           ADD      R1,R5,#+5
   \   000002AC   0600A0E1           MOV      R0,R6
   \   000002B0   5CC096E5           LDR      R12,[R6, #+92]
   \   000002B4   3CFF2FE1           BLX      R12
    482                GUI_UNLOCK_H(pPage);
   \   000002B8   ........           BL       GUI_ALLOC_UnlockH
   \   000002BC   0150A0E3           MOV      R5,#+1
   \                     ??_Paint_14:
   \   000002C0   A880B0E1           LSRS     R8,R8,#+1
   \   000002C4   2B00000A           BEQ      ??_Paint_15
   \                     ??_Paint_16:
   \   000002C8   0510A0E1           MOV      R1,R5
   \   000002CC   380096E5           LDR      R0,[R6, #+56]
   \   000002D0   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000002D4   0090A0E1           MOV      R9,R0
   \   000002D8   044087E0           ADD      R4,R7,R4
   \   000002DC   050089E2           ADD      R0,R9,#+5
   \   000002E0   ........           BL       GUI_GetStringDistX
   \   000002E4   0A7080E2           ADD      R7,R0,#+10
   \   000002E8   0400D9E5           LDRB     R0,[R9, #+4]
   \   000002EC   04708DE5           STR      R7,[SP, #+4]
   \   000002F0   00408DE5           STR      R4,[SP, #+0]
   \   000002F4   010000E2           AND      R0,R0,#0x1
   \   000002F8   08008DE5           STR      R0,[SP, #+8]
   \   000002FC   14308DE2           ADD      R3,SP,#+20
   \   00000300   0520A0E1           MOV      R2,R5
   \   00000304   051089E2           ADD      R1,R9,#+5
   \   00000308   0600A0E1           MOV      R0,R6
   \   0000030C   5CC096E5           LDR      R12,[R6, #+92]
   \   00000310   3CFF2FE1           BLX      R12
   \   00000314   ........           BL       GUI_ALLOC_UnlockH
   \   00000318   019085E2           ADD      R9,R5,#+1
   \   0000031C   0910A0E1           MOV      R1,R9
   \   00000320   380096E5           LDR      R0,[R6, #+56]
   \   00000324   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000328   0050A0E1           MOV      R5,R0
   \   0000032C   044087E0           ADD      R4,R7,R4
   \   00000330   050085E2           ADD      R0,R5,#+5
   \   00000334   ........           BL       GUI_GetStringDistX
   \   00000338   0A7080E2           ADD      R7,R0,#+10
   \   0000033C   0400D5E5           LDRB     R0,[R5, #+4]
   \   00000340   04708DE5           STR      R7,[SP, #+4]
   \   00000344   00408DE5           STR      R4,[SP, #+0]
   \   00000348   010000E2           AND      R0,R0,#0x1
   \   0000034C   08008DE5           STR      R0,[SP, #+8]
   \   00000350   14308DE2           ADD      R3,SP,#+20
   \   00000354   0920A0E1           MOV      R2,R9
   \   00000358   051085E2           ADD      R1,R5,#+5
   \   0000035C   0600A0E1           MOV      R0,R6
   \   00000360   5CC096E5           LDR      R12,[R6, #+92]
   \   00000364   3CFF2FE1           BLX      R12
   \   00000368   ........           BL       GUI_ALLOC_UnlockH
    483              }    
   \   0000036C   015089E2           ADD      R5,R9,#+1
   \   00000370   018058E2           SUBS     R8,R8,#+1
   \   00000374   D3FFFF1A           BNE      ??_Paint_16
    484              #if (!WM_SUPPORT_TRANSPARENCY)
    485                /* Clear the area between last text item and widget border */
    486                GUI_SetColor(WM_GetBkColor(pObj->Widget.Win.hParent));
    487                if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    488                  GUI_FillRect(x0_Clear, rText.y0 + TextPos + w + 1, x1_Clear, pObj->Widget.Win.Rect.y1);
    489                } else {
    490                  GUI_FillRect(rText.x0 + TextPos + w + 1, y0_Clear, pObj->Widget.Win.Rect.x1, y1_Clear);
    491                }
    492              #endif
    493              WM_SetUserClipRect(NULL);
   \                     ??_Paint_15:
   \   00000378   0000A0E3           MOV      R0,#+0
   \   0000037C   ........           BL       WM_SetUserClipRect
    494            #if (!WM_SUPPORT_TRANSPARENCY)
    495            } else {
    496              /* Clear the unused text item area */
    497              GUI_SetColor(WM_GetBkColor(pObj->Widget.Win.hParent));
    498              if (pObj->Widget.State & WIDGET_STATE_VERTICAL) {
    499                GUI_FillRect(x0_Clear, 0, x1_Clear, pObj->Widget.Win.Rect.y1);
    500              } else {
    501                GUI_FillRect(0, y0_Clear, pObj->Widget.Win.Rect.x1, y1_Clear);
    502              }
    503            #endif
    504            }
    505            GUI_UNLOCK_H(pObj);
   \                     ??_Paint_4:
   \   00000380   ........           BL       GUI_ALLOC_UnlockH
    506          }
   \   00000384   24D08DE2           ADD      SP,SP,#+36       ;; stack cleaning
   \   00000388   F08FBDE8           POP      {R4-R11,PC}      ;; return
    507          
    508          /*********************************************************************
    509          *
    510          *       _ClickedOnMultipage
    511          */

   \                                 In section .text, align 4, keep-with-next
    512          static int _ClickedOnMultipage(MULTIPAGE_Handle hObj, int x, int y) {
   \                     _ClickedOnMultipage:
   \   00000000   F64F2DE9           PUSH     {R1,R2,R4-R11,LR}
   \   00000004   0CD04DE2           SUB      SP,SP,#+12
   \   00000008   0050A0E1           MOV      R5,R0
    513            MULTIPAGE_Obj * pObj;
    514            GUI_RECT rText;
    515            int NumItems;
    516            int r = 1;
   \   0000000C   0140A0E3           MOV      R4,#+1
    517            int ScrollState;
    518            U16 State;
    519            pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000010   ........           BL       GUI_ALLOC_LockH
   \   00000014   0060A0E1           MOV      R6,R0
    520            _GetTextRect(hObj, &rText);
   \   00000018   04108DE2           ADD      R1,SP,#+4
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   ........           BL       _GetTextRect
    521            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   00000024   380096E5           LDR      R0,[R6, #+56]
   \   00000028   ........           BL       GUI_ARRAY_GetNumItems
   \   0000002C   00008DE5           STR      R0,[SP, #+0]
    522            ScrollState = pObj->ScrollState;
   \   00000030   409096E5           LDR      R9,[R6, #+64]
    523            State = pObj->Widget.State;
   \   00000034   B273D6E1           LDRH     R7,[R6, #+50]
    524            GUI_UNLOCK_H(pObj);
   \   00000038   ........           BL       GUI_ALLOC_UnlockH
    525            if (State & WIDGET_STATE_VERTICAL) {
   \   0000003C   080017E3           TST      R7,#0x8
   \   00000040   8600000A           BEQ      ??_ClickedOnMultipage_0
    526              if ((x >= rText.x0) && (x <= rText.x1)) {
   \   00000044   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000048   0C009DE5           LDR      R0,[SP, #+12]
   \   0000004C   010050E1           CMP      R0,R1
   \   00000050   7F0000BA           BLT      ??_ClickedOnMultipage_1
   \   00000054   F800DDE1           LDRSH    R0,[SP, #+8]
   \   00000058   0C109DE5           LDR      R1,[SP, #+12]
   \   0000005C   010050E1           CMP      R0,R1
   \   00000060   7B0000BA           BLT      ??_ClickedOnMultipage_1
    527                if ((NumItems > 0) && (y >= rText.y0) && (y <= rText.y1)) {
   \   00000064   00009DE5           LDR      R0,[SP, #+0]
   \   00000068   010050E3           CMP      R0,#+1
   \   0000006C   770000BA           BLT      ??_ClickedOnMultipage_2
   \   00000070   F660DDE1           LDRSH    R6,[SP, #+6]
   \   00000074   10009DE5           LDR      R0,[SP, #+16]
   \   00000078   060050E1           CMP      R0,R6
   \   0000007C   730000BA           BLT      ??_ClickedOnMultipage_2
   \   00000080   FA00DDE1           LDRSH    R0,[SP, #+10]
   \   00000084   10109DE5           LDR      R1,[SP, #+16]
   \   00000088   010050E1           CMP      R0,R1
   \   0000008C   6F0000BA           BLT      ??_ClickedOnMultipage_2
    528                  int i, w = 0, y0 = rText.y0;
   \   00000090   0040A0E3           MOV      R4,#+0
    529                  /* Check if another page must be selected */
    530                  if (State & MULTIPAGE_STATE_SCROLLMODE) {
   \   00000094   400F17E3           TST      R7,#0x100
   \   00000098   0470A0E1           MOV      R7,R4
   \   0000009C   4400000A           BEQ      ??_ClickedOnMultipage_3
    531                    y0 -= _GetPagePosX(hObj, ScrollState);
   \   000000A0   0080A0E3           MOV      R8,#+0
   \   000000A4   000059E3           CMP      R9,#+0
   \   000000A8   3F00000A           BEQ      ??_ClickedOnMultipage_4
   \   000000AC   010019E3           TST      R9,#0x1
   \   000000B0   1100000A           BEQ      ??_ClickedOnMultipage_5
   \   000000B4   0500A0E1           MOV      R0,R5
   \   000000B8   ........           BL       GUI_ALLOC_LockH
   \   000000BC   0070A0E1           MOV      R7,R0
   \   000000C0   380097E5           LDR      R0,[R7, #+56]
   \   000000C4   ........           BL       GUI_ARRAY_GetNumItems
   \   000000C8   000050E3           CMP      R0,#+0
   \   000000CC   0800000A           BEQ      ??_ClickedOnMultipage_6
   \   000000D0   440097E5           LDR      R0,[R7, #+68]
   \   000000D4   ........           BL       GUI_SetFont
   \   000000D8   0010A0E3           MOV      R1,#+0
   \   000000DC   380097E5           LDR      R0,[R7, #+56]
   \   000000E0   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000E4   050080E2           ADD      R0,R0,#+5
   \   000000E8   ........           BL       GUI_GetStringDistX
   \   000000EC   0A8080E2           ADD      R8,R0,#+10
   \   000000F0   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_6:
   \   000000F4   ........           BL       GUI_ALLOC_UnlockH
   \   000000F8   0170A0E3           MOV      R7,#+1
   \                     ??_ClickedOnMultipage_5:
   \   000000FC   A990B0E1           LSRS     R9,R9,#+1
   \   00000100   2900000A           BEQ      ??_ClickedOnMultipage_4
   \                     ??_ClickedOnMultipage_7:
   \   00000104   00A0A0E3           MOV      R10,#+0
   \   00000108   0500A0E1           MOV      R0,R5
   \   0000010C   ........           BL       GUI_ALLOC_LockH
   \   00000110   00B0A0E1           MOV      R11,R0
   \   00000114   38009BE5           LDR      R0,[R11, #+56]
   \   00000118   ........           BL       GUI_ARRAY_GetNumItems
   \   0000011C   000057E1           CMP      R7,R0
   \   00000120   0800002A           BCS      ??_ClickedOnMultipage_8
   \   00000124   44009BE5           LDR      R0,[R11, #+68]
   \   00000128   ........           BL       GUI_SetFont
   \   0000012C   0710A0E1           MOV      R1,R7
   \   00000130   38009BE5           LDR      R0,[R11, #+56]
   \   00000134   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000138   050080E2           ADD      R0,R0,#+5
   \   0000013C   ........           BL       GUI_GetStringDistX
   \   00000140   0AA080E2           ADD      R10,R0,#+10
   \   00000144   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_8:
   \   00000148   ........           BL       GUI_ALLOC_UnlockH
   \   0000014C   08808AE0           ADD      R8,R10,R8
   \   00000150   017087E2           ADD      R7,R7,#+1
   \   00000154   00A0A0E3           MOV      R10,#+0
   \   00000158   0500A0E1           MOV      R0,R5
   \   0000015C   ........           BL       GUI_ALLOC_LockH
   \   00000160   00B0A0E1           MOV      R11,R0
   \   00000164   38009BE5           LDR      R0,[R11, #+56]
   \   00000168   ........           BL       GUI_ARRAY_GetNumItems
   \   0000016C   000057E1           CMP      R7,R0
   \   00000170   0800002A           BCS      ??_ClickedOnMultipage_9
   \   00000174   44009BE5           LDR      R0,[R11, #+68]
   \   00000178   ........           BL       GUI_SetFont
   \   0000017C   0710A0E1           MOV      R1,R7
   \   00000180   38009BE5           LDR      R0,[R11, #+56]
   \   00000184   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000188   050080E2           ADD      R0,R0,#+5
   \   0000018C   ........           BL       GUI_GetStringDistX
   \   00000190   0AA080E2           ADD      R10,R0,#+10
   \   00000194   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_9:
   \   00000198   ........           BL       GUI_ALLOC_UnlockH
   \   0000019C   08808AE0           ADD      R8,R10,R8
   \   000001A0   017087E2           ADD      R7,R7,#+1
   \   000001A4   019059E2           SUBS     R9,R9,#+1
   \   000001A8   D5FFFF1A           BNE      ??_ClickedOnMultipage_7
    532                  }
   \                     ??_ClickedOnMultipage_4:
   \   000001AC   086046E0           SUB      R6,R6,R8
   \   000001B0   0070A0E3           MOV      R7,#+0
    533                  for (i = 0; i < NumItems; i++) {
    534                    y0 += w;
   \                     ??_ClickedOnMultipage_3:
   \   000001B4   066084E0           ADD      R6,R4,R6
    535                    w   = _GetPageSizeX(hObj, i);
   \   000001B8   0040A0E3           MOV      R4,#+0
   \   000001BC   0500A0E1           MOV      R0,R5
   \   000001C0   ........           BL       GUI_ALLOC_LockH
   \   000001C4   0090A0E1           MOV      R9,R0
   \   000001C8   380099E5           LDR      R0,[R9, #+56]
   \   000001CC   ........           BL       GUI_ARRAY_GetNumItems
   \   000001D0   000057E1           CMP      R7,R0
   \   000001D4   0800002A           BCS      ??_ClickedOnMultipage_10
   \   000001D8   440099E5           LDR      R0,[R9, #+68]
   \   000001DC   ........           BL       GUI_SetFont
   \   000001E0   0710A0E1           MOV      R1,R7
   \   000001E4   380099E5           LDR      R0,[R9, #+56]
   \   000001E8   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000001EC   050080E2           ADD      R0,R0,#+5
   \   000001F0   ........           BL       GUI_GetStringDistX
   \   000001F4   0A4080E2           ADD      R4,R0,#+10
   \   000001F8   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_10:
   \   000001FC   ........           BL       GUI_ALLOC_UnlockH
    536                    if (y >= y0 && y <= (y0 + w - 1)) {
   \   00000200   10009DE5           LDR      R0,[SP, #+16]
   \   00000204   060050E1           CMP      R0,R6
   \   00000208   0C0000BA           BLT      ??_ClickedOnMultipage_11
   \   0000020C   040086E0           ADD      R0,R6,R4
   \   00000210   10109DE5           LDR      R1,[SP, #+16]
   \   00000214   010040E2           SUB      R0,R0,#+1
   \   00000218   010050E1           CMP      R0,R1
   \   0000021C   070000BA           BLT      ??_ClickedOnMultipage_11
    537                      MULTIPAGE_SelectPage(hObj, i);
   \                     ??_ClickedOnMultipage_12:
   \   00000220   0710A0E1           MOV      R1,R7
   \   00000224   0500A0E1           MOV      R0,R5
   \   00000228   ........           BL       MULTIPAGE_SelectPage
    538                      WM_NotifyParent(hObj, WM_NOTIFICATION_VALUE_CHANGED);
   \   0000022C   0510A0E3           MOV      R1,#+5
   \   00000230   0500A0E1           MOV      R0,R5
   \   00000234   ........           BL       WM_NotifyParent
    539                      return 1;
   \   00000238   0100A0E3           MOV      R0,#+1
   \   0000023C   050000EA           B        ??_ClickedOnMultipage_13
    540                    }
    541                  }
   \                     ??_ClickedOnMultipage_11:
   \   00000240   00009DE5           LDR      R0,[SP, #+0]
   \   00000244   017087E2           ADD      R7,R7,#+1
   \   00000248   000057E1           CMP      R7,R0
   \   0000024C   D8FFFFBA           BLT      ??_ClickedOnMultipage_3
    542                }
    543                r = 0;
   \                     ??_ClickedOnMultipage_2:
   \   00000250   0040A0E3           MOV      R4,#+0
    544              }
    545            } else {
    546              if ((y >= rText.y0) && (y <= rText.y1)) {
    547                if ((NumItems > 0) && (x >= rText.x0) && (x <= rText.x1)) {
    548                  int i, w = 0, x0 = rText.x0;
    549                  /* Check if another page must be selected */
    550                  if (State & MULTIPAGE_STATE_SCROLLMODE) {
    551                    x0 -= _GetPagePosX(hObj, ScrollState);
    552                  }
    553                  for (i = 0; i < NumItems; i++) {
    554                    x0 += w;
    555                    w   = _GetPageSizeX(hObj, i);
    556                    if (x >= x0 && x <= (x0 + w - 1)) {
    557                      MULTIPAGE_SelectPage(hObj, i);
    558                      WM_NotifyParent(hObj, WM_NOTIFICATION_VALUE_CHANGED);
    559                      return 1;
    560                    }
    561                  }
    562                }
    563                r = 0;
    564              }
    565            }
    566            return r;
   \                     ??_ClickedOnMultipage_1:
   \   00000254   0400A0E1           MOV      R0,R4
   \                     ??_ClickedOnMultipage_13:
   \   00000258   14D08DE2           ADD      SP,SP,#+20       ;; stack cleaning
   \   0000025C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??_ClickedOnMultipage_0:
   \   00000260   F610DDE1           LDRSH    R1,[SP, #+6]
   \   00000264   10009DE5           LDR      R0,[SP, #+16]
   \   00000268   010050E1           CMP      R0,R1
   \   0000026C   F8FFFFBA           BLT      ??_ClickedOnMultipage_1
   \   00000270   FA00DDE1           LDRSH    R0,[SP, #+10]
   \   00000274   10109DE5           LDR      R1,[SP, #+16]
   \   00000278   010050E1           CMP      R0,R1
   \   0000027C   F4FFFFBA           BLT      ??_ClickedOnMultipage_1
   \   00000280   00009DE5           LDR      R0,[SP, #+0]
   \   00000284   010050E3           CMP      R0,#+1
   \   00000288   F0FFFFBA           BLT      ??_ClickedOnMultipage_2
   \   0000028C   F460DDE1           LDRSH    R6,[SP, #+4]
   \   00000290   0C009DE5           LDR      R0,[SP, #+12]
   \   00000294   060050E1           CMP      R0,R6
   \   00000298   ECFFFFBA           BLT      ??_ClickedOnMultipage_2
   \   0000029C   F800DDE1           LDRSH    R0,[SP, #+8]
   \   000002A0   0C109DE5           LDR      R1,[SP, #+12]
   \   000002A4   010050E1           CMP      R0,R1
   \   000002A8   E8FFFFBA           BLT      ??_ClickedOnMultipage_2
   \   000002AC   0040A0E3           MOV      R4,#+0
   \   000002B0   400F17E3           TST      R7,#0x100
   \   000002B4   0470A0E1           MOV      R7,R4
   \   000002B8   4400000A           BEQ      ??_ClickedOnMultipage_14
   \   000002BC   0080A0E3           MOV      R8,#+0
   \   000002C0   000059E3           CMP      R9,#+0
   \   000002C4   3F00000A           BEQ      ??_ClickedOnMultipage_15
   \   000002C8   010019E3           TST      R9,#0x1
   \   000002CC   1100000A           BEQ      ??_ClickedOnMultipage_16
   \   000002D0   0500A0E1           MOV      R0,R5
   \   000002D4   ........           BL       GUI_ALLOC_LockH
   \   000002D8   0070A0E1           MOV      R7,R0
   \   000002DC   380097E5           LDR      R0,[R7, #+56]
   \   000002E0   ........           BL       GUI_ARRAY_GetNumItems
   \   000002E4   000050E3           CMP      R0,#+0
   \   000002E8   0800000A           BEQ      ??_ClickedOnMultipage_17
   \   000002EC   440097E5           LDR      R0,[R7, #+68]
   \   000002F0   ........           BL       GUI_SetFont
   \   000002F4   0010A0E3           MOV      R1,#+0
   \   000002F8   380097E5           LDR      R0,[R7, #+56]
   \   000002FC   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000300   050080E2           ADD      R0,R0,#+5
   \   00000304   ........           BL       GUI_GetStringDistX
   \   00000308   0A8080E2           ADD      R8,R0,#+10
   \   0000030C   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_17:
   \   00000310   ........           BL       GUI_ALLOC_UnlockH
   \   00000314   0170A0E3           MOV      R7,#+1
   \                     ??_ClickedOnMultipage_16:
   \   00000318   A990B0E1           LSRS     R9,R9,#+1
   \   0000031C   2900000A           BEQ      ??_ClickedOnMultipage_15
   \                     ??_ClickedOnMultipage_18:
   \   00000320   00A0A0E3           MOV      R10,#+0
   \   00000324   0500A0E1           MOV      R0,R5
   \   00000328   ........           BL       GUI_ALLOC_LockH
   \   0000032C   00B0A0E1           MOV      R11,R0
   \   00000330   38009BE5           LDR      R0,[R11, #+56]
   \   00000334   ........           BL       GUI_ARRAY_GetNumItems
   \   00000338   000057E1           CMP      R7,R0
   \   0000033C   0800002A           BCS      ??_ClickedOnMultipage_19
   \   00000340   44009BE5           LDR      R0,[R11, #+68]
   \   00000344   ........           BL       GUI_SetFont
   \   00000348   0710A0E1           MOV      R1,R7
   \   0000034C   38009BE5           LDR      R0,[R11, #+56]
   \   00000350   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000354   050080E2           ADD      R0,R0,#+5
   \   00000358   ........           BL       GUI_GetStringDistX
   \   0000035C   0AA080E2           ADD      R10,R0,#+10
   \   00000360   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_19:
   \   00000364   ........           BL       GUI_ALLOC_UnlockH
   \   00000368   08808AE0           ADD      R8,R10,R8
   \   0000036C   017087E2           ADD      R7,R7,#+1
   \   00000370   00A0A0E3           MOV      R10,#+0
   \   00000374   0500A0E1           MOV      R0,R5
   \   00000378   ........           BL       GUI_ALLOC_LockH
   \   0000037C   00B0A0E1           MOV      R11,R0
   \   00000380   38009BE5           LDR      R0,[R11, #+56]
   \   00000384   ........           BL       GUI_ARRAY_GetNumItems
   \   00000388   000057E1           CMP      R7,R0
   \   0000038C   0800002A           BCS      ??_ClickedOnMultipage_20
   \   00000390   44009BE5           LDR      R0,[R11, #+68]
   \   00000394   ........           BL       GUI_SetFont
   \   00000398   0710A0E1           MOV      R1,R7
   \   0000039C   38009BE5           LDR      R0,[R11, #+56]
   \   000003A0   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000003A4   050080E2           ADD      R0,R0,#+5
   \   000003A8   ........           BL       GUI_GetStringDistX
   \   000003AC   0AA080E2           ADD      R10,R0,#+10
   \   000003B0   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_20:
   \   000003B4   ........           BL       GUI_ALLOC_UnlockH
   \   000003B8   08808AE0           ADD      R8,R10,R8
   \   000003BC   017087E2           ADD      R7,R7,#+1
   \   000003C0   019059E2           SUBS     R9,R9,#+1
   \   000003C4   D5FFFF1A           BNE      ??_ClickedOnMultipage_18
   \                     ??_ClickedOnMultipage_15:
   \   000003C8   086046E0           SUB      R6,R6,R8
   \   000003CC   0070A0E3           MOV      R7,#+0
   \                     ??_ClickedOnMultipage_14:
   \   000003D0   066084E0           ADD      R6,R4,R6
   \   000003D4   0040A0E3           MOV      R4,#+0
   \   000003D8   0500A0E1           MOV      R0,R5
   \   000003DC   ........           BL       GUI_ALLOC_LockH
   \   000003E0   0090A0E1           MOV      R9,R0
   \   000003E4   380099E5           LDR      R0,[R9, #+56]
   \   000003E8   ........           BL       GUI_ARRAY_GetNumItems
   \   000003EC   000057E1           CMP      R7,R0
   \   000003F0   0800002A           BCS      ??_ClickedOnMultipage_21
   \   000003F4   440099E5           LDR      R0,[R9, #+68]
   \   000003F8   ........           BL       GUI_SetFont
   \   000003FC   0710A0E1           MOV      R1,R7
   \   00000400   380099E5           LDR      R0,[R9, #+56]
   \   00000404   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000408   050080E2           ADD      R0,R0,#+5
   \   0000040C   ........           BL       GUI_GetStringDistX
   \   00000410   0A4080E2           ADD      R4,R0,#+10
   \   00000414   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_ClickedOnMultipage_21:
   \   00000418   ........           BL       GUI_ALLOC_UnlockH
   \   0000041C   0C009DE5           LDR      R0,[SP, #+12]
   \   00000420   060050E1           CMP      R0,R6
   \   00000424   040000BA           BLT      ??_ClickedOnMultipage_22
   \   00000428   040086E0           ADD      R0,R6,R4
   \   0000042C   0C109DE5           LDR      R1,[SP, #+12]
   \   00000430   010040E2           SUB      R0,R0,#+1
   \   00000434   010050E1           CMP      R0,R1
   \   00000438   78FFFFAA           BGE      ??_ClickedOnMultipage_12
   \                     ??_ClickedOnMultipage_22:
   \   0000043C   00009DE5           LDR      R0,[SP, #+0]
   \   00000440   017087E2           ADD      R7,R7,#+1
   \   00000444   000057E1           CMP      R7,R0
   \   00000448   E0FFFFBA           BLT      ??_ClickedOnMultipage_14
   \   0000044C   7FFFFFEA           B        ??_ClickedOnMultipage_2
    567          }
    568          
    569          /*********************************************************************
    570          *
    571          *       _OnTouch
    572          */

   \                                 In section .text, align 4, keep-with-next
    573          static void _OnTouch(MULTIPAGE_Handle hObj, WM_MESSAGE * pMsg) {
   \                     _OnTouch:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0150A0E1           MOV      R5,R1
    574            GUI_PID_STATE * pState;
    575            int Notification;
    576            if (pMsg->Data.p) {  /* Something happened in our area (pressed or released) */
   \   00000008   0C6095E5           LDR      R6,[R5, #+12]
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   000056E3           CMP      R6,#+0
   \   00000018   2B00000A           BEQ      ??_OnTouch_0
    577              pState = (GUI_PID_STATE *)pMsg->Data.p;
    578              if (pState->Pressed) {
   \   0000001C   0800D6E5           LDRB     R0,[R6, #+8]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   2600000A           BEQ      ??_OnTouch_1
    579                int x = pState->x;
   \   00000028   007096E5           LDR      R7,[R6, #+0]
    580                int y = pState->y;
   \   0000002C   048096E5           LDR      R8,[R6, #+4]
    581                if (!_ClickedOnMultipage(hObj, x, y)) {
   \   00000030   0710A0E1           MOV      R1,R7
   \   00000034   0820A0E1           MOV      R2,R8
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   ........           BL       _ClickedOnMultipage
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   1A00001A           BNE      ??_OnTouch_2
    582                  WM_HWIN hBelow;
    583                  x += WM_GetWindowOrgX(hObj);
   \   0000004C   ........           BL       WM_GetWindowOrgX
   \   00000050   077080E0           ADD      R7,R0,R7
    584                  y += WM_GetWindowOrgY(hObj);
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   ........           BL       WM_GetWindowOrgY
   \   0000005C   088080E0           ADD      R8,R0,R8
    585                  hBelow = WM_Screen2hWinEx(hObj, x, y);
   \   00000060   0820A0E1           MOV      R2,R8
   \   00000064   0710A0E1           MOV      R1,R7
   \   00000068   0400A0E1           MOV      R0,R4
   \   0000006C   ........           BL       WM_Screen2hWinEx
   \   00000070   0090B0E1           MOVS     R9,R0
    586                  if ((hBelow) && (hBelow != hObj)) {
   \   00000074   04005911           CMPNE    R9,R4
   \   00000078   0F00000A           BEQ      ??_OnTouch_3
    587                    WM_Obj * pBelow;
    588                    WM_CALLBACK * cb;
    589                    pState->x = x - WM_GetWindowOrgX(hBelow);
   \   0000007C   ........           BL       WM_GetWindowOrgX
   \   00000080   000047E0           SUB      R0,R7,R0
   \   00000084   000086E5           STR      R0,[R6, #+0]
    590                    pState->y = y - WM_GetWindowOrgY(hBelow);
   \   00000088   0900A0E1           MOV      R0,R9
   \   0000008C   ........           BL       WM_GetWindowOrgY
   \   00000090   000048E0           SUB      R0,R8,R0
   \   00000094   040086E5           STR      R0,[R6, #+4]
    591                    pMsg->hWin = hBelow;
   \   00000098   049085E5           STR      R9,[R5, #+4]
    592                    pBelow = (WM_Obj *)GUI_LOCK_H(hBelow);
    593                    cb = pBelow->cb;
   \   0000009C   0900A0E1           MOV      R0,R9
   \   000000A0   ........           BL       GUI_ALLOC_LockH
   \   000000A4   106090E5           LDR      R6,[R0, #+16]
    594                    GUI_UNLOCK_H(pBelow);
   \   000000A8   ........           BL       GUI_ALLOC_UnlockH
    595                    cb(pMsg);
   \   000000AC   0500A0E1           MOV      R0,R5
   \   000000B0   36FF2FE1           BLX      R6
   \   000000B4   000000EA           B        ??_OnTouch_3
    596                  }
    597                } else {
    598                  WM_BringToTop(hObj);
   \                     ??_OnTouch_2:
   \   000000B8   ........           BL       WM_BringToTop
    599                }
    600                Notification = WM_NOTIFICATION_CLICKED;
   \                     ??_OnTouch_3:
   \   000000BC   0110A0E3           MOV      R1,#+1
   \   000000C0   020000EA           B        ??_OnTouch_4
    601              } else {
    602                Notification = WM_NOTIFICATION_RELEASED;
   \                     ??_OnTouch_1:
   \   000000C4   0210A0E3           MOV      R1,#+2
   \   000000C8   000000EA           B        ??_OnTouch_4
    603              }
    604            } else {
    605              Notification = WM_NOTIFICATION_MOVED_OUT;
   \                     ??_OnTouch_0:
   \   000000CC   0310A0E3           MOV      R1,#+3
    606            }
    607            WM_NotifyParent(hObj, Notification);
   \                     ??_OnTouch_4:
   \   000000D0   0400A0E1           MOV      R0,R4
   \   000000D4   04D08DE2           ADD      SP,SP,#+4
   \   000000D8   F043BDE8           POP      {R4-R9,LR}
   \   000000DC   ........           B        WM_NotifyParent  ;; tailcall
    608          }
    609          
    610          /*********************************************************************
    611          *
    612          *       _MoveSel
    613          *
    614          * Purpose:
    615          *   Moves the selection into the given direction.
    616          *
    617          * Parameters:
    618          *   hObj, pObj - Obvious
    619          *   Dir        - +1 moves the selection to the next selectable page
    620          *                -1 moves the selection to the previous selectable page
    621          */

   \                                 In section .text, align 4, keep-with-next
    622          static void _MoveSel(MULTIPAGE_Handle hObj, int Dir) {
   \                     _MoveSel:
   \   00000000   F04B2DE9           PUSH     {R4-R9,R11,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   02002DE9           PUSH     {R1}
   \   0000000C   08D04DE2           SUB      SP,SP,#+8
   \   00000010   0050A0E1           MOV      R5,R0
    623            MULTIPAGE_Obj * pObj;
    624            int Sel, NewSel, ScrollPos, NumItems;
    625            unsigned Selection;
    626            int ScrollState;
    627            SCROLLBAR_Handle hScroll;
    628            pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000014   ........           BL       GUI_ALLOC_LockH
   \   00000018   0090A0E1           MOV      R9,R0
    629            hScroll  = _GetScrollbarH(hObj);
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   1C4090E5           LDR      R4,[R0, #+28]
   \   00000028   0060A0E3           MOV      R6,#+0
   \   0000002C   020000EA           B        ??_MoveSel_0
   \                     ??_MoveSel_1:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   ........           BL       GUI_ALLOC_h2p
   \   00000038   204090E5           LDR      R4,[R0, #+32]
   \                     ??_MoveSel_0:
   \   0000003C   000054E3           CMP      R4,#+0
   \   00000040   0400000A           BEQ      ??_MoveSel_2
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   ........           BL       WM_GetId
   \   0000004C   FF0050E3           CMP      R0,#+255
   \   00000050   F6FFFF1A           BNE      ??_MoveSel_1
   \   00000054   0460A0E1           MOV      R6,R4
   \                     ??_MoveSel_2:
   \   00000058   ........           BL       GUI_ALLOC_UnlockH
    630            NewSel   = ScrollPos = -1;
   \   0000005C   0040E0E3           MVN      R4,#+0
    631            NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   00000060   380099E5           LDR      R0,[R9, #+56]
   \   00000064   ........           BL       GUI_ARRAY_GetNumItems
   \   00000068   0070A0E1           MOV      R7,R0
    632            Selection = pObj->Selection;
    633            ScrollState = pObj->ScrollState;
   \   0000006C   400099E5           LDR      R0,[R9, #+64]
   \   00000070   3C8099E5           LDR      R8,[R9, #+60]
   \   00000074   00008DE5           STR      R0,[SP, #+0]
    634            GUI_UNLOCK_H(pObj);
   \   00000078   ........           BL       GUI_ALLOC_UnlockH
    635            for (Sel = Selection + Dir; (Sel >= 0) && (Sel < NumItems) && (NewSel == -1); Sel += Dir) {
   \   0000007C   100000EA           B        ??_MoveSel_3
    636              if (_GetEnable(hObj, Sel)) {
   \                     ??_MoveSel_4:
   \   00000080   0090A0E3           MOV      R9,#+0
   \   00000084   0500A0E1           MOV      R0,R5
   \   00000088   ........           BL       GUI_ALLOC_LockH
   \   0000008C   00B0A0E1           MOV      R11,R0
   \   00000090   38009BE5           LDR      R0,[R11, #+56]
   \   00000094   ........           BL       GUI_ARRAY_GetNumItems
   \   00000098   000058E1           CMP      R8,R0
   \   0000009C   0500002A           BCS      ??_MoveSel_5
   \   000000A0   0810A0E1           MOV      R1,R8
   \   000000A4   38009BE5           LDR      R0,[R11, #+56]
   \   000000A8   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000AC   0400D0E5           LDRB     R0,[R0, #+4]
   \   000000B0   019000E2           AND      R9,R0,#0x1
   \   000000B4   ........           BL       GUI_ALLOC_UnlockH
   \                     ??_MoveSel_5:
   \   000000B8   ........           BL       GUI_ALLOC_UnlockH
   \   000000BC   000059E3           CMP      R9,#+0
    637                NewSel = Sel;
   \   000000C0   0840A011           MOVNE    R4,R8
    638              }
    639            }
   \                     ??_MoveSel_3:
   \   000000C4   08009DE5           LDR      R0,[SP, #+8]
   \   000000C8   088080E0           ADD      R8,R0,R8
   \   000000CC   000058E3           CMP      R8,#+0
   \   000000D0   0300004A           BMI      ??_MoveSel_6
   \   000000D4   070058E1           CMP      R8,R7
   \   000000D8   010000AA           BGE      ??_MoveSel_6
   \   000000DC   010074E3           CMN      R4,#+1
   \   000000E0   E6FFFF0A           BEQ      ??_MoveSel_4
    640            if (NewSel >= 0) {
   \                     ??_MoveSel_6:
   \   000000E4   000054E3           CMP      R4,#+0
   \   000000E8   0400004A           BMI      ??_MoveSel_7
    641              MULTIPAGE_SelectPage(hObj, NewSel);
   \   000000EC   0410A0E1           MOV      R1,R4
   \   000000F0   0500A0E1           MOV      R0,R5
   \   000000F4   ........           BL       MULTIPAGE_SelectPage
    642              ScrollPos = NewSel;
   \   000000F8   0410A0E1           MOV      R1,R4
   \   000000FC   020000EA           B        ??_MoveSel_8
    643            } else {
    644              ScrollPos = ScrollState + Dir;
   \                     ??_MoveSel_7:
   \   00000100   00009DE5           LDR      R0,[SP, #+0]
   \   00000104   08109DE5           LDR      R1,[SP, #+8]
   \   00000108   001081E0           ADD      R1,R1,R0
    645            }
    646            if (hScroll) {
   \                     ??_MoveSel_8:
   \   0000010C   000056E3           CMP      R6,#+0
   \   00000110   0500000A           BEQ      ??_MoveSel_9
    647              if ((ScrollPos >= 0) && (ScrollPos < NumItems)) {
   \   00000114   000051E3           CMP      R1,#+0
   \   00000118   0300004A           BMI      ??_MoveSel_9
   \   0000011C   070051E1           CMP      R1,R7
   \   00000120   010000AA           BGE      ??_MoveSel_9
    648                SCROLLBAR_SetValue(hScroll, ScrollPos);
   \   00000124   0600A0E1           MOV      R0,R6
   \   00000128   ........           BL       SCROLLBAR_SetValue
    649              }
    650            }
    651          }
   \                     ??_MoveSel_9:
   \   0000012C   10D08DE2           ADD      SP,SP,#+16       ;; stack cleaning
   \   00000130   F08BBDE8           POP      {R4-R9,R11,PC}   ;; return
    652          
    653          /*********************************************************************
    654          *
    655          *       _AddKey
    656          *
    657          * Returns: 1 if Key has been consumed
    658          *          0 else 
    659          */
    660          static int _AddKey(MULTIPAGE_Handle hObj, int Key) {
    661            int r;
    662            r = 0;                 /* Key has NOT been consumed */
    663            switch (Key) {
    664            case GUI_KEY_PGUP:
    665              _MoveSel(hObj, -1);
    666              r = 1;               /* Key has been consumed */
    667              break;
    668            case GUI_KEY_PGDOWN:
    669              _MoveSel(hObj, +1);
    670              r = 1;               /* Key has been consumed */
    671              break;
    672            }
    673            return r;
    674          }
    675          
    676          /*********************************************************************
    677          *
    678          *       _ClientCallback
    679          */

   \                                 In section .text, align 4, keep-with-next
    680          static void _ClientCallback(WM_MESSAGE * pMsg) {
   \                     _ClientCallback:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    681            WM_HWIN hObj;
    682            WM_HWIN hParent;
    683            MULTIPAGE_Obj * pParent;
    684            hObj = pMsg->hWin;
   \   00000008   045094E5           LDR      R5,[R4, #+4]
    685            hParent = WM_GetParent(hObj);
   \   0000000C   0500A0E1           MOV      R0,R5
   \   00000010   ........           BL       WM_GetParent
   \   00000014   0060A0E1           MOV      R6,R0
    686            WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
    687            switch (pMsg->MsgId) {
   \   0000001C   000094E5           LDR      R0,[R4, #+0]
   \   00000020   0C0040E2           SUB      R0,R0,#+12
   \   00000024   0B0050E3           CMP      R0,#+11
   \   00000028   00F18F90           ADDLS    PC,PC,R0, LSL #+2
   \                     ??_ClientCallback_0:
   \   0000002C   2900008A           BHI      ??_ClientCallback_1
   \   00000030   110000EA           B        ??_ClientCallback_2
   \   00000034   270000EA           B        ??_ClientCallback_1
   \   00000038   160000EA           B        ??_ClientCallback_3
   \   0000003C   070000EA           B        ??_ClientCallback_4
   \   00000040   240000EA           B        ??_ClientCallback_1
   \   00000044   230000EA           B        ??_ClientCallback_1
   \   00000048   220000EA           B        ??_ClientCallback_1
   \   0000004C   210000EA           B        ??_ClientCallback_1
   \   00000050   200000EA           B        ??_ClientCallback_1
   \   00000054   1F0000EA           B        ??_ClientCallback_1
   \   00000058   1E0000EA           B        ??_ClientCallback_1
   \   0000005C   0B0000EA           B        ??_ClientCallback_5
    688            case WM_PAINT:
    689              pParent = (MULTIPAGE_Obj *)GUI_LOCK_H(hParent);
   \                     ??_ClientCallback_4:
   \   00000060   0600A0E1           MOV      R0,R6
   \   00000064   ........           BL       GUI_ALLOC_LockH
    690              LCD_SetBkColor(pParent->Props.aBkColor[1]);
   \   00000068   500090E5           LDR      R0,[R0, #+80]
   \   0000006C   ........           BL       LCD_SetBkColor
    691              GUI_UNLOCK_H(pParent);
   \   00000070   ........           BL       GUI_ALLOC_UnlockH
    692              GUI_Clear();
   \   00000074   ........           BL       GUI_Clear
    693              break;
   \   00000078   180000EA           B        ??_ClientCallback_6
    694            case WM_TOUCH:
    695              WM_SetFocus(hParent);
   \                     ??_ClientCallback_2:
   \   0000007C   0600A0E1           MOV      R0,R6
   \   00000080   ........           BL       WM_SetFocus
    696              WM_BringToTop(hParent);
   \   00000084   0600A0E1           MOV      R0,R6
   \   00000088   ........           BL       WM_BringToTop
    697              break;
   \   0000008C   130000EA           B        ??_ClientCallback_6
    698            case WM_GET_CLIENT_WINDOW:
    699              pMsg->Data.v = (int)hObj;
   \                     ??_ClientCallback_5:
   \   00000090   0C5084E5           STR      R5,[R4, #+12]
    700              break;
   \   00000094   110000EA           B        ??_ClientCallback_6
    701            case WM_KEY:
    702              if (((const WM_KEY_INFO*)(pMsg->Data.p))->PressedCnt > 0) {
   \                     ??_ClientCallback_3:
   \   00000098   0C0094E5           LDR      R0,[R4, #+12]
   \   0000009C   041090E5           LDR      R1,[R0, #+4]
   \   000000A0   010051E3           CMP      R1,#+1
   \   000000A4   0B0000BA           BLT      ??_ClientCallback_1
    703                int Key;
    704                Key = ((const WM_KEY_INFO*)(pMsg->Data.p))->Key;
    705                if (_AddKey(hParent, Key)) {
   \   000000A8   000090E5           LDR      R0,[R0, #+0]
   \   000000AC   210050E3           CMP      R0,#+33
   \   000000B0   0600000A           BEQ      ??_ClientCallback_7
   \   000000B4   0700003A           BCC      ??_ClientCallback_1
   \   000000B8   220050E3           CMP      R0,#+34
   \   000000BC   0500001A           BNE      ??_ClientCallback_1
   \   000000C0   0110A0E3           MOV      R1,#+1
   \                     ??_ClientCallback_8:
   \   000000C4   0600A0E1           MOV      R0,R6
   \   000000C8   ........           BL       _MoveSel
   \   000000CC   030000EA           B        ??_ClientCallback_6
   \                     ??_ClientCallback_7:
   \   000000D0   0010E0E3           MVN      R1,#+0
   \   000000D4   FAFFFFEA           B        ??_ClientCallback_8
    706                  break;
    707                }
    708              }
    709              /* No break here ... WM_DefaultProc needs to be called */
    710            default:
    711              WM_DefaultProc(pMsg);
   \                     ??_ClientCallback_1:
   \   000000D8   0400A0E1           MOV      R0,R4
   \   000000DC   ........           BL       WM_DefaultProc
    712            }
    713            WM_UNLOCK();
   \                     ??_ClientCallback_6:
   \   000000E0   7040BDE8           POP      {R4-R6,LR}
   \   000000E4   ........           B        GUI_Unlock       ;; tailcall
    714          }
    715          
    716          /*********************************************************************
    717          *
    718          *       Private routines
    719          *
    720          **********************************************************************
    721          */
    722          /*********************************************************************
    723          *
    724          *       MULTIPAGE__DrawTextItemH
    725          */

   \                                 In section .text, align 4, keep-with-next
    726          void MULTIPAGE__DrawTextItemH(MULTIPAGE_Obj * pObj, const char * pText, unsigned Index,
    727                                        const GUI_RECT * pRect, int x0, int w, int ColorIndex) {
   \                     MULTIPAGE__DrawTextItemH:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0280A0E1           MOV      R8,R2
   \   00000014   0360A0E1           MOV      R6,R3
   \   00000018   28909DE5           LDR      R9,[SP, #+40]
   \   0000001C   2CA09DE5           LDR      R10,[SP, #+44]
   \   00000020   30709DE5           LDR      R7,[SP, #+48]
    728            GUI_RECT r;
    729            r = *pRect;
   \   00000024   0D00A0E1           MOV      R0,SP
   \   00000028   0610A0E1           MOV      R1,R6
   \   0000002C   0820A0E3           MOV      R2,#+8
   \   00000030   ........           BL       __aeabi_memcpy
    730            r.x0 += x0;
   \   00000034   F000DDE1           LDRSH    R0,[SP, #+0]
   \   00000038   000089E0           ADD      R0,R9,R0
   \   0000003C   B000CDE1           STRH     R0,[SP, #+0]
    731            r.x1  = r.x0 + w;
   \   00000040   F000DDE1           LDRSH    R0,[SP, #+0]
   \   00000044   00008AE0           ADD      R0,R10,R0
   \   00000048   B400CDE1           STRH     R0,[SP, #+4]
    732            pObj->Widget.pEffect->pfDrawUpRect(&r);
   \   0000004C   2C1094E5           LDR      R1,[R4, #+44]
   \   00000050   0D00A0E1           MOV      R0,SP
   \   00000054   081091E5           LDR      R1,[R1, #+8]
   \   00000058   31FF2FE1           BLX      R1
    733            GUI__ReduceRect(&r, &r, pObj->Widget.pEffect->EffectSize);
   \   0000005C   2C0094E5           LDR      R0,[R4, #+44]
   \   00000060   0D10A0E1           MOV      R1,SP
   \   00000064   002090E5           LDR      R2,[R0, #+0]
   \   00000068   0D00A0E1           MOV      R0,SP
   \   0000006C   ........           BL       GUI__ReduceRect
    734            if (pObj->Selection == Index) {
   \   00000070   3C0094E5           LDR      R0,[R4, #+60]
   \   00000074   080050E1           CMP      R0,R8
   \   00000078   3400001A           BNE      ??MULTIPAGE__DrawTextItemH_0
    735              if (pObj->Props.Align & MULTIPAGE_ALIGN_BOTTOM) {
   \   0000007C   4800D4E5           LDRB     R0,[R4, #+72]
   \   00000080   040010E3           TST      R0,#0x4
   \   00000084   1600000A           BEQ      ??MULTIPAGE__DrawTextItemH_1
    736                r.y0 -= pObj->Widget.pEffect->EffectSize + 1;
   \   00000088   2C1094E5           LDR      R1,[R4, #+44]
   \   0000008C   F200DDE1           LDRSH    R0,[SP, #+2]
   \   00000090   001091E5           LDR      R1,[R1, #+0]
   \   00000094   010040E0           SUB      R0,R0,R1
   \   00000098   010040E2           SUB      R0,R0,#+1
   \   0000009C   B200CDE1           STRH     R0,[SP, #+2]
    737          	    if (pObj->Widget.pEffect->EffectSize > 1) {
   \   000000A0   2C0094E5           LDR      R0,[R4, #+44]
   \   000000A4   000090E5           LDR      R0,[R0, #+0]
   \   000000A8   020050E3           CMP      R0,#+2
   \   000000AC   270000BA           BLT      ??MULTIPAGE__DrawTextItemH_0
    738          		    LCD_SetColor(MULTIPAGE__aEffectColor[0]);
   \   000000B0   ........           LDR      R8,??DataTable1
   \   000000B4   000098E5           LDR      R0,[R8, #+0]
   \   000000B8   ........           BL       LCD_SetColor
    739          		    GUI_DrawVLine(r.x0 - 1, r.y0, r.y0 + 1);
   \   000000BC   F210DDE1           LDRSH    R1,[SP, #+2]
   \   000000C0   F000DDE1           LDRSH    R0,[SP, #+0]
   \   000000C4   012081E2           ADD      R2,R1,#+1
   \   000000C8   010040E2           SUB      R0,R0,#+1
   \   000000CC   ........           BL       GUI_DrawVLine
    740          		    LCD_SetColor(MULTIPAGE__aEffectColor[1]);
   \   000000D0   040098E5           LDR      R0,[R8, #+4]
   \   000000D4   ........           BL       LCD_SetColor
    741          		    GUI_DrawVLine(r.x1 + 1, r.y0, r.y0 + 1);
   \   000000D8   F210DDE1           LDRSH    R1,[SP, #+2]
   \   000000DC   012081E2           ADD      R2,R1,#+1
   \   000000E0   170000EA           B        ??MULTIPAGE__DrawTextItemH_2
    742          	    }
    743              } else {
    744                r.y1 += pObj->Widget.pEffect->EffectSize + 1;
   \                     ??MULTIPAGE__DrawTextItemH_1:
   \   000000E4   2C1094E5           LDR      R1,[R4, #+44]
   \   000000E8   F600DDE1           LDRSH    R0,[SP, #+6]
   \   000000EC   001091E5           LDR      R1,[R1, #+0]
   \   000000F0   011081E2           ADD      R1,R1,#+1
   \   000000F4   000081E0           ADD      R0,R1,R0
   \   000000F8   B600CDE1           STRH     R0,[SP, #+6]
    745          	    if (pObj->Widget.pEffect->EffectSize > 1) {
   \   000000FC   2C0094E5           LDR      R0,[R4, #+44]
   \   00000100   000090E5           LDR      R0,[R0, #+0]
   \   00000104   020050E3           CMP      R0,#+2
   \   00000108   100000BA           BLT      ??MULTIPAGE__DrawTextItemH_0
    746          		    LCD_SetColor(MULTIPAGE__aEffectColor[0]);
   \   0000010C   ........           LDR      R8,??DataTable1
   \   00000110   000098E5           LDR      R0,[R8, #+0]
   \   00000114   ........           BL       LCD_SetColor
    747          		    GUI_DrawVLine(r.x0 - 1, r.y1 - 2, r.y1 - 1);
   \   00000118   F600DDE1           LDRSH    R0,[SP, #+6]
   \   0000011C   012040E2           SUB      R2,R0,#+1
   \   00000120   021040E2           SUB      R1,R0,#+2
   \   00000124   F000DDE1           LDRSH    R0,[SP, #+0]
   \   00000128   010040E2           SUB      R0,R0,#+1
   \   0000012C   ........           BL       GUI_DrawVLine
    748          		    LCD_SetColor(MULTIPAGE__aEffectColor[1]);
   \   00000130   040098E5           LDR      R0,[R8, #+4]
   \   00000134   ........           BL       LCD_SetColor
    749          		    GUI_DrawVLine(r.x1 + 1, r.y1 - 2, r.y1 - 1);
   \   00000138   F600DDE1           LDRSH    R0,[SP, #+6]
   \   0000013C   012040E2           SUB      R2,R0,#+1
   \   00000140   021040E2           SUB      R1,R0,#+2
   \                     ??MULTIPAGE__DrawTextItemH_2:
   \   00000144   F400DDE1           LDRSH    R0,[SP, #+4]
   \   00000148   010080E2           ADD      R0,R0,#+1
   \   0000014C   ........           BL       GUI_DrawVLine
    750          	    }
    751              }
    752            }
    753            LCD_SetColor(pObj->Props.aBkColor[ColorIndex]);
   \                     ??MULTIPAGE__DrawTextItemH_0:
   \   00000150   077184E0           ADD      R7,R4,R7, LSL #+2
   \   00000154   4C0097E5           LDR      R0,[R7, #+76]
   \   00000158   ........           BL       LCD_SetColor
    754            WIDGET__FillRectEx(&pObj->Widget, &r);
   \   0000015C   0D10A0E1           MOV      R1,SP
   \   00000160   0400A0E1           MOV      R0,R4
   \   00000164   ........           BL       WIDGET__FillRectEx
    755            LCD_SetBkColor(pObj->Props.aBkColor[ColorIndex]);
   \   00000168   4C0097E5           LDR      R0,[R7, #+76]
   \   0000016C   ........           BL       LCD_SetBkColor
    756            LCD_SetColor(pObj->Props.aTextColor[ColorIndex]);
   \   00000170   540097E5           LDR      R0,[R7, #+84]
   \   00000174   ........           BL       LCD_SetColor
    757            GUI_DispStringAt(pText, r.x0 + 4, pRect->y0 + 3);
   \   00000178   F200D6E1           LDRSH    R0,[R6, #+2]
   \   0000017C   032080E2           ADD      R2,R0,#+3
   \   00000180   F000DDE1           LDRSH    R0,[SP, #+0]
   \   00000184   041080E2           ADD      R1,R0,#+4
   \   00000188   0500A0E1           MOV      R0,R5
   \   0000018C   ........           BL       GUI_DispStringAt
    758          }
   \   00000190   08D08DE2           ADD      SP,SP,#+8        ;; stack cleaning
   \   00000194   F087BDE8           POP      {R4-R10,PC}      ;; return
    759          
    760          /*********************************************************************
    761          *
    762          *       MULTIPAGE__UpdatePositions
    763          */

   \                                 In section .text, align 4, keep-with-next
    764          void MULTIPAGE__UpdatePositions(MULTIPAGE_Handle hObj) {
   \                     MULTIPAGE__UpdatePositions:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   14D04DE2           SUB      SP,SP,#+20
   \   00000008   0040A0E1           MOV      R4,R0
    765            MULTIPAGE_Obj * pObj;
    766            GUI_RECT rBorder;
    767            int Width;
    768            U16 State;
    769            const GUI_FONT GUI_UNI_PTR * pFont;
    770            unsigned Align;
    771            WM_HWIN hClient;
    772            pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000000C   ........           BL       GUI_ALLOC_LockH
   \   00000010   0050A0E1           MOV      R5,R0
    773            Width = _GetTextWidth(hObj);
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       GUI_ALLOC_LockH
   \   0000001C   380090E5           LDR      R0,[R0, #+56]
   \   00000020   ........           BL       GUI_ARRAY_GetNumItems
   \   00000024   0090A0E1           MOV      R9,R0
   \   00000028   ........           BL       GUI_ALLOC_UnlockH
   \   0000002C   0060A0E3           MOV      R6,#+0
   \   00000030   0070A0E3           MOV      R7,#+0
   \   00000034   0080A0E3           MOV      R8,#+0
   \   00000038   000059E3           CMP      R9,#+0
   \   0000003C   3F00000A           BEQ      ??MULTIPAGE__UpdatePositions_0
   \   00000040   010019E3           TST      R9,#0x1
   \   00000044   1100000A           BEQ      ??MULTIPAGE__UpdatePositions_1
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   ........           BL       GUI_ALLOC_LockH
   \   00000050   0080A0E1           MOV      R8,R0
   \   00000054   380098E5           LDR      R0,[R8, #+56]
   \   00000058   ........           BL       GUI_ARRAY_GetNumItems
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   0800000A           BEQ      ??MULTIPAGE__UpdatePositions_2
   \   00000064   440098E5           LDR      R0,[R8, #+68]
   \   00000068   ........           BL       GUI_SetFont
   \   0000006C   0010A0E3           MOV      R1,#+0
   \   00000070   380098E5           LDR      R0,[R8, #+56]
   \   00000074   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000078   050080E2           ADD      R0,R0,#+5
   \   0000007C   ........           BL       GUI_GetStringDistX
   \   00000080   0A7080E2           ADD      R7,R0,#+10
   \   00000084   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE__UpdatePositions_2:
   \   00000088   ........           BL       GUI_ALLOC_UnlockH
   \   0000008C   0180A0E3           MOV      R8,#+1
   \                     ??MULTIPAGE__UpdatePositions_1:
   \   00000090   A990B0E1           LSRS     R9,R9,#+1
   \   00000094   2900000A           BEQ      ??MULTIPAGE__UpdatePositions_0
   \                     ??MULTIPAGE__UpdatePositions_3:
   \   00000098   00A0A0E3           MOV      R10,#+0
   \   0000009C   0400A0E1           MOV      R0,R4
   \   000000A0   ........           BL       GUI_ALLOC_LockH
   \   000000A4   00B0A0E1           MOV      R11,R0
   \   000000A8   38009BE5           LDR      R0,[R11, #+56]
   \   000000AC   ........           BL       GUI_ARRAY_GetNumItems
   \   000000B0   000058E1           CMP      R8,R0
   \   000000B4   0800002A           BCS      ??MULTIPAGE__UpdatePositions_4
   \   000000B8   44009BE5           LDR      R0,[R11, #+68]
   \   000000BC   ........           BL       GUI_SetFont
   \   000000C0   0810A0E1           MOV      R1,R8
   \   000000C4   38009BE5           LDR      R0,[R11, #+56]
   \   000000C8   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000CC   050080E2           ADD      R0,R0,#+5
   \   000000D0   ........           BL       GUI_GetStringDistX
   \   000000D4   0AA080E2           ADD      R10,R0,#+10
   \   000000D8   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE__UpdatePositions_4:
   \   000000DC   ........           BL       GUI_ALLOC_UnlockH
   \   000000E0   07708AE0           ADD      R7,R10,R7
   \   000000E4   018088E2           ADD      R8,R8,#+1
   \   000000E8   00A0A0E3           MOV      R10,#+0
   \   000000EC   0400A0E1           MOV      R0,R4
   \   000000F0   ........           BL       GUI_ALLOC_LockH
   \   000000F4   00B0A0E1           MOV      R11,R0
   \   000000F8   38009BE5           LDR      R0,[R11, #+56]
   \   000000FC   ........           BL       GUI_ARRAY_GetNumItems
   \   00000100   000058E1           CMP      R8,R0
   \   00000104   0800002A           BCS      ??MULTIPAGE__UpdatePositions_5
   \   00000108   44009BE5           LDR      R0,[R11, #+68]
   \   0000010C   ........           BL       GUI_SetFont
   \   00000110   0810A0E1           MOV      R1,R8
   \   00000114   38009BE5           LDR      R0,[R11, #+56]
   \   00000118   ........           BL       GUI_ARRAY_GetpItemLocked
   \   0000011C   050080E2           ADD      R0,R0,#+5
   \   00000120   ........           BL       GUI_GetStringDistX
   \   00000124   0AA080E2           ADD      R10,R0,#+10
   \   00000128   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE__UpdatePositions_5:
   \   0000012C   ........           BL       GUI_ALLOC_UnlockH
   \   00000130   07708AE0           ADD      R7,R10,R7
   \   00000134   018088E2           ADD      R8,R8,#+1
   \   00000138   019059E2           SUBS     R9,R9,#+1
   \   0000013C   D5FFFF1A           BNE      ??MULTIPAGE__UpdatePositions_3
    774            State = pObj->Widget.State;
   \                     ??MULTIPAGE__UpdatePositions_0:
   \   00000140   B283D5E1           LDRH     R8,[R5, #+50]
    775            pFont = pObj->Props.pFont;
   \   00000144   449095E5           LDR      R9,[R5, #+68]
    776            Align = pObj->Props.Align;
   \   00000148   48A095E5           LDR      R10,[R5, #+72]
    777            hClient = pObj->hClient;
   \   0000014C   34B095E5           LDR      R11,[R5, #+52]
    778            _CalcBorderRect(pObj, &rBorder);
   \   00000150   04108DE2           ADD      R1,SP,#+4
   \   00000154   0500A0E1           MOV      R0,R5
   \   00000158   ........           BL       WM__GetClientRectWin
   \   0000015C   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000160   3220D5E5           LDRB     R2,[R5, #+50]
   \   00000164   041000E2           AND      R1,R0,#0x4
   \   00000168   440095E5           LDR      R0,[R5, #+68]
   \   0000016C   080012E3           TST      R2,#0x8
   \   00000170   0D00000A           BEQ      ??MULTIPAGE__UpdatePositions_6
   \   00000174   000051E3           CMP      R1,#+0
   \   00000178   0500000A           BEQ      ??MULTIPAGE__UpdatePositions_7
   \   0000017C   ........           BL       GUI_GetYSizeOfFont
   \   00000180   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000184   060080E2           ADD      R0,R0,#+6
   \   00000188   010080E0           ADD      R0,R0,R1
   \   0000018C   B400CDE1           STRH     R0,[SP, #+4]
   \   00000190   120000EA           B        ??MULTIPAGE__UpdatePositions_8
   \                     ??MULTIPAGE__UpdatePositions_7:
   \   00000194   ........           BL       GUI_GetYSizeOfFont
   \   00000198   F810DDE1           LDRSH    R1,[SP, #+8]
   \   0000019C   000041E0           SUB      R0,R1,R0
   \   000001A0   060040E2           SUB      R0,R0,#+6
   \   000001A4   B800CDE1           STRH     R0,[SP, #+8]
   \   000001A8   0C0000EA           B        ??MULTIPAGE__UpdatePositions_8
   \                     ??MULTIPAGE__UpdatePositions_6:
   \   000001AC   000051E3           CMP      R1,#+0
   \   000001B0   0500000A           BEQ      ??MULTIPAGE__UpdatePositions_9
   \   000001B4   ........           BL       GUI_GetYSizeOfFont
   \   000001B8   FA10DDE1           LDRSH    R1,[SP, #+10]
   \   000001BC   000041E0           SUB      R0,R1,R0
   \   000001C0   060040E2           SUB      R0,R0,#+6
   \   000001C4   BA00CDE1           STRH     R0,[SP, #+10]
   \   000001C8   040000EA           B        ??MULTIPAGE__UpdatePositions_8
   \                     ??MULTIPAGE__UpdatePositions_9:
   \   000001CC   ........           BL       GUI_GetYSizeOfFont
   \   000001D0   F610DDE1           LDRSH    R1,[SP, #+6]
   \   000001D4   060080E2           ADD      R0,R0,#+6
   \   000001D8   010080E0           ADD      R0,R0,R1
   \   000001DC   B600CDE1           STRH     R0,[SP, #+6]
    779            GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE__UpdatePositions_8:
   \   000001E0   ........           BL       GUI_ALLOC_UnlockH
    780            /* Set scrollmode according to the text width */
    781            if (State & WIDGET_STATE_VERTICAL) {
   \   000001E4   080018E3           TST      R8,#0x8
   \   000001E8   5800000A           BEQ      ??MULTIPAGE__UpdatePositions_10
    782              if (Width > rBorder.y1) {
   \   000001EC   FA00DDE1           LDRSH    R0,[SP, #+10]
   \   000001F0   070050E1           CMP      R0,R7
   \   000001F4   8D0000AA           BGE      ??MULTIPAGE__UpdatePositions_11
    783                GUI_RECT rText;
    784                int Size, x0, y0, NumItems = 0;
   \   000001F8   0050A0E3           MOV      R5,#+0
    785                Size   = ((GUI_GetYSizeOfFont(pFont) + 6) * 3) >> 2;
   \   000001FC   0900A0E1           MOV      R0,R9
   \   00000200   ........           BL       GUI_GetYSizeOfFont
   \   00000204   060080E2           ADD      R0,R0,#+6
   \   00000208   800080E0           ADD      R0,R0,R0, LSL #+1
   \   0000020C   4031A0E1           ASR      R3,R0,#+2
    786                y0     = (Align & MULTIPAGE_ALIGN_RIGHT)  ? (rBorder.y0) : (rBorder.y1 - 2 * Size + 1);
   \   00000210   01001AE3           TST      R10,#0x1
   \   00000214   FA00DD01           LDRSHEQ  R0,[SP, #+10]
   \   00000218   F620DD11           LDRSHNE  R2,[SP, #+6]
   \   0000021C   83004000           SUBEQ    R0,R0,R3, LSL #+1
   \   00000220   01208002           ADDEQ    R2,R0,#+1
    787                x0     = (Align & MULTIPAGE_ALIGN_BOTTOM) ? (rBorder.x0 -     Size + 1) : (rBorder.x1);
   \   00000224   04001AE3           TST      R10,#0x4
   \   00000228   0300000A           BEQ      ??MULTIPAGE__UpdatePositions_12
   \   0000022C   F400DDE1           LDRSH    R0,[SP, #+4]
   \   00000230   030040E0           SUB      R0,R0,R3
   \   00000234   011080E2           ADD      R1,R0,#+1
   \   00000238   000000EA           B        ??MULTIPAGE__UpdatePositions_13
   \                     ??MULTIPAGE__UpdatePositions_12:
   \   0000023C   F810DDE1           LDRSH    R1,[SP, #+8]
    788                /* A scrollbar is required so we add one to the multipage */
    789                _AddScrollbar(hObj, x0, y0, Size, 2 * Size);
   \                     ??MULTIPAGE__UpdatePositions_13:
   \   00000240   8300A0E1           LSL      R0,R3,#+1
   \   00000244   00008DE5           STR      R0,[SP, #+0]
   \   00000248   0400A0E1           MOV      R0,R4
   \   0000024C   ........           BL       _AddScrollbar
    790                _GetTextRect(hObj, &rText);
   \   00000250   0C108DE2           ADD      R1,SP,#+12
   \   00000254   0400A0E1           MOV      R0,R4
   \   00000258   ........           BL       _GetTextRect
   \   0000025C   130000EA           B        ??MULTIPAGE__UpdatePositions_14
    791                while (Width >= GUI_MAX((rText.y1 - rText.y0 + 1), 1)) {
    792                  Width -= _GetPageSizeX(hObj, NumItems++);
   \                     ??MULTIPAGE__UpdatePositions_15:
   \   00000260   0090A0E3           MOV      R9,#+0
   \   00000264   0400A0E1           MOV      R0,R4
   \   00000268   ........           BL       GUI_ALLOC_LockH
   \   0000026C   00A0A0E1           MOV      R10,R0
   \   00000270   38009AE5           LDR      R0,[R10, #+56]
   \   00000274   ........           BL       GUI_ARRAY_GetNumItems
   \   00000278   000055E1           CMP      R5,R0
   \   0000027C   0800002A           BCS      ??MULTIPAGE__UpdatePositions_16
   \   00000280   44009AE5           LDR      R0,[R10, #+68]
   \   00000284   ........           BL       GUI_SetFont
   \   00000288   0510A0E1           MOV      R1,R5
   \   0000028C   38009AE5           LDR      R0,[R10, #+56]
   \   00000290   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000294   050080E2           ADD      R0,R0,#+5
   \   00000298   ........           BL       GUI_GetStringDistX
   \   0000029C   0A9080E2           ADD      R9,R0,#+10
   \   000002A0   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE__UpdatePositions_16:
   \   000002A4   ........           BL       GUI_ALLOC_UnlockH
    793                }
   \   000002A8   015085E2           ADD      R5,R5,#+1
   \   000002AC   097047E0           SUB      R7,R7,R9
   \                     ??MULTIPAGE__UpdatePositions_14:
   \   000002B0   F201DDE1           LDRSH    R0,[SP, #+18]
   \   000002B4   FE10DDE1           LDRSH    R1,[SP, #+14]
   \   000002B8   010040E0           SUB      R0,R0,R1
   \   000002BC   010080E2           ADD      R0,R0,#+1
   \   000002C0   020050E3           CMP      R0,#+2
   \   000002C4   0100A0B3           MOVLT    R0,#+1
   \   000002C8   000057E1           CMP      R7,R0
   \   000002CC   E3FFFFAA           BGE      ??MULTIPAGE__UpdatePositions_15
    794                _SetScrollbar(hObj, NumItems + 1);
   \                     ??MULTIPAGE__UpdatePositions_17:
   \   000002D0   015085E2           ADD      R5,R5,#+1
   \   000002D4   0400A0E1           MOV      R0,R4
   \   000002D8   ........           BL       GUI_ALLOC_LockH
   \   000002DC   1C7090E5           LDR      R7,[R0, #+28]
   \   000002E0   0080A0E3           MOV      R8,#+0
   \   000002E4   020000EA           B        ??MULTIPAGE__UpdatePositions_18
   \                     ??MULTIPAGE__UpdatePositions_19:
   \   000002E8   0700A0E1           MOV      R0,R7
   \   000002EC   ........           BL       GUI_ALLOC_h2p
   \   000002F0   207090E5           LDR      R7,[R0, #+32]
   \                     ??MULTIPAGE__UpdatePositions_18:
   \   000002F4   000057E3           CMP      R7,#+0
   \   000002F8   0400000A           BEQ      ??MULTIPAGE__UpdatePositions_20
   \   000002FC   0700A0E1           MOV      R0,R7
   \   00000300   ........           BL       WM_GetId
   \   00000304   FF0050E3           CMP      R0,#+255
   \   00000308   F6FFFF1A           BNE      ??MULTIPAGE__UpdatePositions_19
   \   0000030C   0780A0E1           MOV      R8,R7
   \                     ??MULTIPAGE__UpdatePositions_20:
   \   00000310   ........           BL       GUI_ALLOC_UnlockH
   \   00000314   0510A0E1           MOV      R1,R5
   \   00000318   0800A0E1           MOV      R0,R8
   \   0000031C   ........           BL       SCROLLBAR_SetNumItems
   \   00000320   0110A0E3           MOV      R1,#+1
   \   00000324   0800A0E1           MOV      R0,R8
   \   00000328   ........           BL       SCROLLBAR_SetPageSize
   \   0000032C   0400A0E1           MOV      R0,R4
   \   00000330   ........           BL       GUI_ALLOC_LockH
   \   00000334   401090E5           LDR      R1,[R0, #+64]
   \   00000338   050051E1           CMP      R1,R5
   \   0000033C   406080A5           STRGE    R6,[R0, #+64]
   \   00000340   401090E5           LDR      R1,[R0, #+64]
   \   00000344   0800A0E1           MOV      R0,R8
   \   00000348   ........           BL       SCROLLBAR_SetValue
   \   0000034C   4D0000EA           B        ??MULTIPAGE__UpdatePositions_21
    795              } else {
    796                /* Scrollbar is no longer required. We delete it if there was one */
    797                MULTIPAGE__DeleteScrollbar(hObj);
    798              }
    799            } else {
    800              if (Width > rBorder.x1) {
   \                     ??MULTIPAGE__UpdatePositions_10:
   \   00000350   F800DDE1           LDRSH    R0,[SP, #+8]
   \   00000354   070050E1           CMP      R0,R7
   \   00000358   340000AA           BGE      ??MULTIPAGE__UpdatePositions_11
    801                GUI_RECT rText;
    802                int Size, x0, y0, NumItems = 0;
   \   0000035C   0050A0E3           MOV      R5,#+0
    803                Size   = ((GUI_GetYSizeOfFont(pFont) + 6) * 3) >> 2;
   \   00000360   0900A0E1           MOV      R0,R9
   \   00000364   ........           BL       GUI_GetYSizeOfFont
    804                x0     = (Align & MULTIPAGE_ALIGN_RIGHT)  ? (rBorder.x0) : (rBorder.x1 - 2 * Size + 1);
   \   00000368   01001AE3           TST      R10,#0x1
   \   0000036C   060080E2           ADD      R0,R0,#+6
   \   00000370   F810DD01           LDRSHEQ  R1,[SP, #+8]
   \   00000374   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000378   4001A0E1           ASR      R0,R0,#+2
   \   0000037C   80104100           SUBEQ    R1,R1,R0, LSL #+1
   \   00000380   F410DD11           LDRSHNE  R1,[SP, #+4]
   \   00000384   01108102           ADDEQ    R1,R1,#+1
    805                y0     = (Align & MULTIPAGE_ALIGN_BOTTOM) ? (rBorder.y1) : (rBorder.y0 -     Size + 1);
   \   00000388   04001AE3           TST      R10,#0x4
   \   0000038C   F620DD01           LDRSHEQ  R2,[SP, #+6]
    806                /* A scrollbar is required so we add one to the multipage */
    807                _AddScrollbar(hObj, x0, y0, 2 * Size, Size);
   \   00000390   00008DE5           STR      R0,[SP, #+0]
   \   00000394   8030A0E1           LSL      R3,R0,#+1
   \   00000398   00204200           SUBEQ    R2,R2,R0
   \   0000039C   FA20DD11           LDRSHNE  R2,[SP, #+10]
   \   000003A0   01208202           ADDEQ    R2,R2,#+1
   \   000003A4   0400A0E1           MOV      R0,R4
   \   000003A8   ........           BL       _AddScrollbar
    808                _GetTextRect(hObj, &rText);
   \   000003AC   0C108DE2           ADD      R1,SP,#+12
   \   000003B0   0400A0E1           MOV      R0,R4
   \   000003B4   ........           BL       _GetTextRect
   \   000003B8   130000EA           B        ??MULTIPAGE__UpdatePositions_22
    809                while (Width >= GUI_MAX((rText.x1 - rText.x0 + 1), 1)) {
    810                  Width -= _GetPageSizeX(hObj, NumItems++);
   \                     ??MULTIPAGE__UpdatePositions_23:
   \   000003BC   0090A0E3           MOV      R9,#+0
   \   000003C0   0400A0E1           MOV      R0,R4
   \   000003C4   ........           BL       GUI_ALLOC_LockH
   \   000003C8   00A0A0E1           MOV      R10,R0
   \   000003CC   38009AE5           LDR      R0,[R10, #+56]
   \   000003D0   ........           BL       GUI_ARRAY_GetNumItems
   \   000003D4   000055E1           CMP      R5,R0
   \   000003D8   0800002A           BCS      ??MULTIPAGE__UpdatePositions_24
   \   000003DC   44009AE5           LDR      R0,[R10, #+68]
   \   000003E0   ........           BL       GUI_SetFont
   \   000003E4   0510A0E1           MOV      R1,R5
   \   000003E8   38009AE5           LDR      R0,[R10, #+56]
   \   000003EC   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000003F0   050080E2           ADD      R0,R0,#+5
   \   000003F4   ........           BL       GUI_GetStringDistX
   \   000003F8   0A9080E2           ADD      R9,R0,#+10
   \   000003FC   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE__UpdatePositions_24:
   \   00000400   ........           BL       GUI_ALLOC_UnlockH
    811                }
   \   00000404   015085E2           ADD      R5,R5,#+1
   \   00000408   097047E0           SUB      R7,R7,R9
   \                     ??MULTIPAGE__UpdatePositions_22:
   \   0000040C   F001DDE1           LDRSH    R0,[SP, #+16]
   \   00000410   FC10DDE1           LDRSH    R1,[SP, #+12]
   \   00000414   010040E0           SUB      R0,R0,R1
   \   00000418   010080E2           ADD      R0,R0,#+1
   \   0000041C   020050E3           CMP      R0,#+2
   \   00000420   0100A0B3           MOVLT    R0,#+1
   \   00000424   000057E1           CMP      R7,R0
   \   00000428   E3FFFFAA           BGE      ??MULTIPAGE__UpdatePositions_23
    812                _SetScrollbar(hObj, NumItems + 1);
   \   0000042C   A7FFFFEA           B        ??MULTIPAGE__UpdatePositions_17
    813              } else {
    814                /* Scrollbar is no longer required. We delete it if there was one */
    815                MULTIPAGE__DeleteScrollbar(hObj);
   \                     ??MULTIPAGE__UpdatePositions_11:
   \   00000430   0400A0E1           MOV      R0,R4
   \   00000434   ........           BL       GUI_ALLOC_LockH
   \   00000438   1C5090E5           LDR      R5,[R0, #+28]
   \   0000043C   020000EA           B        ??MULTIPAGE__UpdatePositions_25
   \                     ??MULTIPAGE__UpdatePositions_26:
   \   00000440   0500A0E1           MOV      R0,R5
   \   00000444   ........           BL       GUI_ALLOC_h2p
   \   00000448   205090E5           LDR      R5,[R0, #+32]
   \                     ??MULTIPAGE__UpdatePositions_25:
   \   0000044C   000055E3           CMP      R5,#+0
   \   00000450   0400000A           BEQ      ??MULTIPAGE__UpdatePositions_27
   \   00000454   0500A0E1           MOV      R0,R5
   \   00000458   ........           BL       WM_GetId
   \   0000045C   FF0050E3           CMP      R0,#+255
   \   00000460   F6FFFF1A           BNE      ??MULTIPAGE__UpdatePositions_26
   \   00000464   0560A0E1           MOV      R6,R5
   \                     ??MULTIPAGE__UpdatePositions_27:
   \   00000468   ........           BL       GUI_ALLOC_UnlockH
   \   0000046C   0600A0E1           MOV      R0,R6
   \   00000470   ........           BL       WM_DeleteWindow
   \   00000474   0400A0E1           MOV      R0,R4
   \   00000478   ........           BL       GUI_ALLOC_LockH
   \   0000047C   B213D0E1           LDRH     R1,[R0, #+50]
   \   00000480   401FC1E3           BIC      R1,R1,#0x100
   \   00000484   B213C0E1           STRH     R1,[R0, #+50]
   \                     ??MULTIPAGE__UpdatePositions_21:
   \   00000488   ........           BL       GUI_ALLOC_UnlockH
    816              }
    817            }
    818            /* Move and resize the client area to the updated positions */
    819            MULTIPAGE__CalcClientRect(hObj, &rBorder);
   \   0000048C   0400A0E1           MOV      R0,R4
   \   00000490   ........           BL       GUI_ALLOC_LockH
   \   00000494   0050A0E1           MOV      R5,R0
   \   00000498   04108DE2           ADD      R1,SP,#+4
   \   0000049C   ........           BL       WIDGET__GetInsideRect
   \   000004A0   4800D5E5           LDRB     R0,[R5, #+72]
   \   000004A4   3220D5E5           LDRB     R2,[R5, #+50]
   \   000004A8   041000E2           AND      R1,R0,#0x4
   \   000004AC   440095E5           LDR      R0,[R5, #+68]
   \   000004B0   080012E3           TST      R2,#0x8
   \   000004B4   0D00000A           BEQ      ??MULTIPAGE__UpdatePositions_28
   \   000004B8   000051E3           CMP      R1,#+0
   \   000004BC   0500000A           BEQ      ??MULTIPAGE__UpdatePositions_29
   \   000004C0   ........           BL       GUI_GetYSizeOfFont
   \   000004C4   F410DDE1           LDRSH    R1,[SP, #+4]
   \   000004C8   060080E2           ADD      R0,R0,#+6
   \   000004CC   010080E0           ADD      R0,R0,R1
   \   000004D0   B400CDE1           STRH     R0,[SP, #+4]
   \   000004D4   120000EA           B        ??MULTIPAGE__UpdatePositions_30
   \                     ??MULTIPAGE__UpdatePositions_29:
   \   000004D8   ........           BL       GUI_GetYSizeOfFont
   \   000004DC   F810DDE1           LDRSH    R1,[SP, #+8]
   \   000004E0   000041E0           SUB      R0,R1,R0
   \   000004E4   060040E2           SUB      R0,R0,#+6
   \   000004E8   B800CDE1           STRH     R0,[SP, #+8]
   \   000004EC   0C0000EA           B        ??MULTIPAGE__UpdatePositions_30
   \                     ??MULTIPAGE__UpdatePositions_28:
   \   000004F0   000051E3           CMP      R1,#+0
   \   000004F4   0500000A           BEQ      ??MULTIPAGE__UpdatePositions_31
   \   000004F8   ........           BL       GUI_GetYSizeOfFont
   \   000004FC   FA10DDE1           LDRSH    R1,[SP, #+10]
   \   00000500   000041E0           SUB      R0,R1,R0
   \   00000504   060040E2           SUB      R0,R0,#+6
   \   00000508   BA00CDE1           STRH     R0,[SP, #+10]
   \   0000050C   040000EA           B        ??MULTIPAGE__UpdatePositions_30
   \                     ??MULTIPAGE__UpdatePositions_31:
   \   00000510   ........           BL       GUI_GetYSizeOfFont
   \   00000514   F610DDE1           LDRSH    R1,[SP, #+6]
   \   00000518   060080E2           ADD      R0,R0,#+6
   \   0000051C   010080E0           ADD      R0,R0,R1
   \   00000520   B600CDE1           STRH     R0,[SP, #+6]
   \                     ??MULTIPAGE__UpdatePositions_30:
   \   00000524   ........           BL       GUI_ALLOC_UnlockH
    820            WM_MoveChildTo(hClient, rBorder.x0, rBorder.y0);
   \   00000528   F620DDE1           LDRSH    R2,[SP, #+6]
   \   0000052C   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000530   0B00A0E1           MOV      R0,R11
   \   00000534   ........           BL       WM_MoveChildTo
    821            WM_SetSize(hClient, rBorder.x1 - rBorder.x0 + 1, rBorder.y1 - rBorder.y0 + 1);
   \   00000538   FA00DDE1           LDRSH    R0,[SP, #+10]
   \   0000053C   F610DDE1           LDRSH    R1,[SP, #+6]
   \   00000540   010040E0           SUB      R0,R0,R1
   \   00000544   012080E2           ADD      R2,R0,#+1
   \   00000548   F800DDE1           LDRSH    R0,[SP, #+8]
   \   0000054C   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000550   010040E0           SUB      R0,R0,R1
   \   00000554   011080E2           ADD      R1,R0,#+1
   \   00000558   0B00A0E1           MOV      R0,R11
   \   0000055C   ........           BL       WM_SetSize
    822            WM_InvalidateWindow(hObj);
   \   00000560   0400A0E1           MOV      R0,R4
   \   00000564   ........           BL       WM_InvalidateWindow
    823          }
   \   00000568   14D08DE2           ADD      SP,SP,#+20       ;; stack cleaning
   \   0000056C   F08FBDE8           POP      {R4-R11,PC}      ;; return
    824          
    825          /*********************************************************************
    826          *
    827          *       MULTIPAGE__CalcClientRect
    828          *
    829          *  Calculates the rect of the client area.
    830          */

   \                                 In section .text, align 4, keep-with-next
    831          void MULTIPAGE__CalcClientRect(MULTIPAGE_Handle hObj, GUI_RECT * pRect) {
   \                     MULTIPAGE__CalcClientRect:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0140A0E1           MOV      R4,R1
    832            MULTIPAGE_Obj * pObj;
    833            pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000000C   ........           BL       GUI_ALLOC_LockH
   \   00000010   0050A0E1           MOV      R5,R0
    834            WIDGET__GetInsideRect(&pObj->Widget, pRect);
   \   00000014   0410A0E1           MOV      R1,R4
   \   00000018   ........           BL       WIDGET__GetInsideRect
   \   0000001C   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000020   3220D5E5           LDRB     R2,[R5, #+50]
   \   00000024   041000E2           AND      R1,R0,#0x4
   \   00000028   440095E5           LDR      R0,[R5, #+68]
   \   0000002C   080012E3           TST      R2,#0x8
   \   00000030   0D00000A           BEQ      ??MULTIPAGE__CalcClientRect_0
    835            _AdjustRect(pObj, pRect);
   \   00000034   000051E3           CMP      R1,#+0
   \   00000038   0500000A           BEQ      ??MULTIPAGE__CalcClientRect_1
   \   0000003C   ........           BL       GUI_GetYSizeOfFont
   \   00000040   F010D4E1           LDRSH    R1,[R4, #+0]
   \   00000044   060080E2           ADD      R0,R0,#+6
   \   00000048   010080E0           ADD      R0,R0,R1
   \   0000004C   B000C4E1           STRH     R0,[R4, #+0]
   \   00000050   120000EA           B        ??MULTIPAGE__CalcClientRect_2
   \                     ??MULTIPAGE__CalcClientRect_1:
   \   00000054   ........           BL       GUI_GetYSizeOfFont
   \   00000058   F410D4E1           LDRSH    R1,[R4, #+4]
   \   0000005C   000041E0           SUB      R0,R1,R0
   \   00000060   060040E2           SUB      R0,R0,#+6
   \   00000064   B400C4E1           STRH     R0,[R4, #+4]
   \   00000068   0C0000EA           B        ??MULTIPAGE__CalcClientRect_2
   \                     ??MULTIPAGE__CalcClientRect_0:
   \   0000006C   000051E3           CMP      R1,#+0
   \   00000070   0500000A           BEQ      ??MULTIPAGE__CalcClientRect_3
   \   00000074   ........           BL       GUI_GetYSizeOfFont
   \   00000078   F610D4E1           LDRSH    R1,[R4, #+6]
   \   0000007C   000041E0           SUB      R0,R1,R0
   \   00000080   060040E2           SUB      R0,R0,#+6
   \   00000084   B600C4E1           STRH     R0,[R4, #+6]
   \   00000088   040000EA           B        ??MULTIPAGE__CalcClientRect_2
   \                     ??MULTIPAGE__CalcClientRect_3:
   \   0000008C   ........           BL       GUI_GetYSizeOfFont
   \   00000090   F210D4E1           LDRSH    R1,[R4, #+2]
   \   00000094   060080E2           ADD      R0,R0,#+6
   \   00000098   010080E0           ADD      R0,R0,R1
   \   0000009C   B200C4E1           STRH     R0,[R4, #+2]
    836            GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE__CalcClientRect_2:
   \   000000A0   04D08DE2           ADD      SP,SP,#+4
   \   000000A4   3040BDE8           POP      {R4,R5,LR}
   \   000000A8   ........           B        GUI_ALLOC_UnlockH  ;; tailcall
    837          }
    838          
    839          /*********************************************************************
    840          *
    841          *       MULTIPAGE__DeleteScrollbar
    842          */

   \                                 In section .text, align 4, keep-with-next
    843          void MULTIPAGE__DeleteScrollbar(MULTIPAGE_Handle hObj) {
   \                     MULTIPAGE__DeleteScrollbar:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    844            MULTIPAGE_Obj * pObj;
    845            WM_DeleteWindow(_GetScrollbarH(hObj));
   \   00000008   ........           BL       GUI_ALLOC_LockH
   \   0000000C   1C5090E5           LDR      R5,[R0, #+28]
   \   00000010   0060A0E3           MOV      R6,#+0
   \   00000014   020000EA           B        ??MULTIPAGE__DeleteScrollbar_0
   \                     ??MULTIPAGE__DeleteScrollbar_1:
   \   00000018   0500A0E1           MOV      R0,R5
   \   0000001C   ........           BL       GUI_ALLOC_h2p
   \   00000020   205090E5           LDR      R5,[R0, #+32]
   \                     ??MULTIPAGE__DeleteScrollbar_0:
   \   00000024   000055E3           CMP      R5,#+0
   \   00000028   0400000A           BEQ      ??MULTIPAGE__DeleteScrollbar_2
   \   0000002C   0500A0E1           MOV      R0,R5
   \   00000030   ........           BL       WM_GetId
   \   00000034   FF0050E3           CMP      R0,#+255
   \   00000038   F6FFFF1A           BNE      ??MULTIPAGE__DeleteScrollbar_1
   \   0000003C   0560A0E1           MOV      R6,R5
   \                     ??MULTIPAGE__DeleteScrollbar_2:
   \   00000040   ........           BL       GUI_ALLOC_UnlockH
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   ........           BL       WM_DeleteWindow
    846            pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000004C   0400A0E1           MOV      R0,R4
   \   00000050   ........           BL       GUI_ALLOC_LockH
    847            pObj->Widget.State &= ~MULTIPAGE_STATE_SCROLLMODE;
   \   00000054   B213D0E1           LDRH     R1,[R0, #+50]
   \   00000058   401FC1E3           BIC      R1,R1,#0x100
   \   0000005C   B213C0E1           STRH     R1,[R0, #+50]
    848            GUI_UNLOCK_H(pObj);
   \   00000060   7040BDE8           POP      {R4-R6,LR}
   \   00000064   ........           B        GUI_ALLOC_UnlockH  ;; tailcall
    849          }
    850          
    851          /*********************************************************************
    852          *
    853          *       MULTIPAGE_LockH
    854          */
    855          #if GUI_DEBUG_LEVEL >= GUI_DEBUG_LEVEL_CHECK_ALL
    856          MULTIPAGE_Obj * MULTIPAGE_LockH(MULTIPAGE_Handle h) {
    857            MULTIPAGE_Obj * p = (MULTIPAGE_Obj *)GUI_LOCK_H(h);
    858            if (p) {
    859              if (p->DebugId != MULTIPAGE_ID) {
    860                GUI_DEBUG_ERROROUT("MULTIPAGE.c: Wrong handle type or Object not init'ed");
    861                return 0;
    862              }
    863            }
    864            return p;
    865          }
    866          #endif
    867          
    868          /*********************************************************************
    869          *
    870          *       Exported routines:  Callback
    871          *
    872          **********************************************************************
    873          */
    874          /*********************************************************************
    875          *
    876          *       MULTIPAGE_Callback
    877          */

   \                                 In section .text, align 4, keep-with-next
    878          void MULTIPAGE_Callback(WM_MESSAGE * pMsg) {
   \                     MULTIPAGE_Callback:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   04D04DE2           SUB      SP,SP,#+4
    879            MULTIPAGE_Handle hObj = pMsg->hWin;
   \   0000000C   045094E5           LDR      R5,[R4, #+4]
    880            MULTIPAGE_Obj * pObj;
    881            int Handled;
    882            WM_LOCK();
   \   00000010   ........           BL       GUI_Lock
    883            Handled = WIDGET_HandleActive(hObj, pMsg);
   \   00000014   0410A0E1           MOV      R1,R4
   \   00000018   0500A0E1           MOV      R0,R5
   \   0000001C   ........           BL       WIDGET_HandleActive
   \   00000020   0060A0E1           MOV      R6,R0
    884            switch (pMsg->MsgId) {
   \   00000024   000094E5           LDR      R0,[R4, #+0]
   \   00000028   050050E3           CMP      R0,#+5
   \   0000002C   6700000A           BEQ      ??MULTIPAGE_Callback_0
   \   00000030   0B0050E3           CMP      R0,#+11
   \   00000034   6800000A           BEQ      ??MULTIPAGE_Callback_1
   \   00000038   0C0050E3           CMP      R0,#+12
   \   0000003C   0D00000A           BEQ      ??MULTIPAGE_Callback_2
   \   00000040   0F0050E3           CMP      R0,#+15
   \   00000044   0800000A           BEQ      ??MULTIPAGE_Callback_3
   \   00000048   140050E3           CMP      R0,#+20
   \   0000004C   2400000A           BEQ      ??MULTIPAGE_Callback_4
   \   00000050   170050E3           CMP      R0,#+23
   \   00000054   1C00000A           BEQ      ??MULTIPAGE_Callback_5
   \   00000058   260050E3           CMP      R0,#+38
   \   0000005C   0900000A           BEQ      ??MULTIPAGE_Callback_6
   \   00000060   C00F50E3           CMP      R0,#+768
   \   00000064   4600000A           BEQ      ??MULTIPAGE_Callback_7
   \   00000068   600000EA           B        ??MULTIPAGE_Callback_8
    885            case WM_PAINT:
    886              _Paint(hObj);
   \                     ??MULTIPAGE_Callback_3:
   \   0000006C   0500A0E1           MOV      R0,R5
   \   00000070   ........           BL       _Paint
    887              break;
   \   00000074   610000EA           B        ??MULTIPAGE_Callback_9
    888            case WM_TOUCH:
    889              _OnTouch(hObj, pMsg);
   \                     ??MULTIPAGE_Callback_2:
   \   00000078   0410A0E1           MOV      R1,R4
   \   0000007C   0500A0E1           MOV      R0,R5
   \   00000080   ........           BL       _OnTouch
    890              break;
   \   00000084   5D0000EA           B        ??MULTIPAGE_Callback_9
    891            case WM_NOTIFY_PARENT:
    892              if (pMsg->Data.v == WM_NOTIFICATION_VALUE_CHANGED) {
   \                     ??MULTIPAGE_Callback_6:
   \   00000088   0C0094E5           LDR      R0,[R4, #+12]
   \   0000008C   050050E3           CMP      R0,#+5
   \   00000090   5A00001A           BNE      ??MULTIPAGE_Callback_9
    893                if (WM_GetId(pMsg->hWinSrc) == GUI_ID_HSCROLL) {
   \   00000094   080094E5           LDR      R0,[R4, #+8]
   \   00000098   ........           BL       WM_GetId
   \   0000009C   FF0050E3           CMP      R0,#+255
   \   000000A0   5600001A           BNE      ??MULTIPAGE_Callback_9
    894                  pObj = MULTIPAGE_LOCK_H(hObj);
   \   000000A4   0500A0E1           MOV      R0,R5
   \   000000A8   ........           BL       GUI_ALLOC_LockH
   \   000000AC   0060A0E1           MOV      R6,R0
    895                  pObj->ScrollState = SCROLLBAR_GetValue(pMsg->hWinSrc);
   \   000000B0   080094E5           LDR      R0,[R4, #+8]
   \   000000B4   ........           BL       SCROLLBAR_GetValue
   \   000000B8   400086E5           STR      R0,[R6, #+64]
    896                  GUI_UNLOCK_H(pObj);
   \   000000BC   ........           BL       GUI_ALLOC_UnlockH
    897                  WM_InvalidateWindow(hObj);
   \   000000C0   0500A0E1           MOV      R0,R5
   \   000000C4   ........           BL       WM_InvalidateWindow
   \   000000C8   4C0000EA           B        ??MULTIPAGE_Callback_9
    898                }
    899              }
    900              break;
    901            case WM_GET_CLIENT_WINDOW:
    902              pObj = MULTIPAGE_LOCK_H(hObj);
    903              pMsg->Data.v = (int)pObj->hClient;
   \                     ??MULTIPAGE_Callback_5:
   \   000000CC   0500A0E1           MOV      R0,R5
   \   000000D0   ........           BL       GUI_ALLOC_LockH
   \   000000D4   340090E5           LDR      R0,[R0, #+52]
   \   000000D8   0C0084E5           STR      R0,[R4, #+12]
    904              GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE_Callback_10:
   \   000000DC   ........           BL       GUI_ALLOC_UnlockH
    905              break;
   \   000000E0   460000EA           B        ??MULTIPAGE_Callback_9
    906            case WM_GET_INSIDE_RECT:
    907              MULTIPAGE__CalcClientRect(hObj, (GUI_RECT *)(pMsg->Data.p));
   \                     ??MULTIPAGE_Callback_4:
   \   000000E4   0C4094E5           LDR      R4,[R4, #+12]
   \   000000E8   0500A0E1           MOV      R0,R5
   \   000000EC   ........           BL       GUI_ALLOC_LockH
   \   000000F0   0050A0E1           MOV      R5,R0
   \   000000F4   0410A0E1           MOV      R1,R4
   \   000000F8   ........           BL       WIDGET__GetInsideRect
   \   000000FC   4800D5E5           LDRB     R0,[R5, #+72]
   \   00000100   3220D5E5           LDRB     R2,[R5, #+50]
   \   00000104   041000E2           AND      R1,R0,#0x4
   \   00000108   440095E5           LDR      R0,[R5, #+68]
   \   0000010C   080012E3           TST      R2,#0x8
   \   00000110   0D00000A           BEQ      ??MULTIPAGE_Callback_11
   \   00000114   000051E3           CMP      R1,#+0
   \   00000118   0500000A           BEQ      ??MULTIPAGE_Callback_12
   \   0000011C   ........           BL       GUI_GetYSizeOfFont
   \   00000120   F010D4E1           LDRSH    R1,[R4, #+0]
   \   00000124   060080E2           ADD      R0,R0,#+6
   \   00000128   010080E0           ADD      R0,R0,R1
   \   0000012C   B000C4E1           STRH     R0,[R4, #+0]
   \   00000130   E9FFFFEA           B        ??MULTIPAGE_Callback_10
   \                     ??MULTIPAGE_Callback_12:
   \   00000134   ........           BL       GUI_GetYSizeOfFont
   \   00000138   F410D4E1           LDRSH    R1,[R4, #+4]
   \   0000013C   000041E0           SUB      R0,R1,R0
   \   00000140   060040E2           SUB      R0,R0,#+6
   \   00000144   B400C4E1           STRH     R0,[R4, #+4]
   \   00000148   E3FFFFEA           B        ??MULTIPAGE_Callback_10
   \                     ??MULTIPAGE_Callback_11:
   \   0000014C   000051E3           CMP      R1,#+0
   \   00000150   0500000A           BEQ      ??MULTIPAGE_Callback_13
   \   00000154   ........           BL       GUI_GetYSizeOfFont
   \   00000158   F610D4E1           LDRSH    R1,[R4, #+6]
   \   0000015C   000041E0           SUB      R0,R1,R0
   \   00000160   060040E2           SUB      R0,R0,#+6
   \   00000164   B600C4E1           STRH     R0,[R4, #+6]
   \   00000168   DBFFFFEA           B        ??MULTIPAGE_Callback_10
   \                     ??MULTIPAGE_Callback_13:
   \   0000016C   ........           BL       GUI_GetYSizeOfFont
   \   00000170   F210D4E1           LDRSH    R1,[R4, #+2]
   \   00000174   060080E2           ADD      R0,R0,#+6
   \   00000178   010080E0           ADD      R0,R0,R1
   \   0000017C   B200C4E1           STRH     R0,[R4, #+2]
   \   00000180   D5FFFFEA           B        ??MULTIPAGE_Callback_10
    908              break;
    909            case WM_WIDGET_SET_EFFECT:
    910              WIDGET_SetEffect(_GetScrollbarH(hObj), (WIDGET_EFFECT const *)pMsg->Data.p);
   \                     ??MULTIPAGE_Callback_7:
   \   00000184   0500A0E1           MOV      R0,R5
   \   00000188   ........           BL       GUI_ALLOC_LockH
   \   0000018C   1C6090E5           LDR      R6,[R0, #+28]
   \   00000190   0070A0E3           MOV      R7,#+0
   \   00000194   020000EA           B        ??MULTIPAGE_Callback_14
   \                     ??MULTIPAGE_Callback_15:
   \   00000198   0600A0E1           MOV      R0,R6
   \   0000019C   ........           BL       GUI_ALLOC_h2p
   \   000001A0   206090E5           LDR      R6,[R0, #+32]
   \                     ??MULTIPAGE_Callback_14:
   \   000001A4   000056E3           CMP      R6,#+0
   \   000001A8   0400000A           BEQ      ??MULTIPAGE_Callback_16
   \   000001AC   0600A0E1           MOV      R0,R6
   \   000001B0   ........           BL       WM_GetId
   \   000001B4   FF0050E3           CMP      R0,#+255
   \   000001B8   F6FFFF1A           BNE      ??MULTIPAGE_Callback_15
   \   000001BC   0670A0E1           MOV      R7,R6
   \                     ??MULTIPAGE_Callback_16:
   \   000001C0   ........           BL       GUI_ALLOC_UnlockH
   \   000001C4   0C1094E5           LDR      R1,[R4, #+12]
   \   000001C8   0700A0E1           MOV      R0,R7
   \   000001CC   ........           BL       WIDGET_SetEffect
    911            case WM_SIZE:
    912              MULTIPAGE__UpdatePositions(hObj);
   \                     ??MULTIPAGE_Callback_0:
   \   000001D0   0500A0E1           MOV      R0,R5
   \   000001D4   ........           BL       MULTIPAGE__UpdatePositions
    913              break;
   \   000001D8   080000EA           B        ??MULTIPAGE_Callback_9
    914            case WM_DELETE:
    915              pObj = MULTIPAGE_LOCK_H(hObj);
   \                     ??MULTIPAGE_Callback_1:
   \   000001DC   0500A0E1           MOV      R0,R5
   \   000001E0   ........           BL       GUI_ALLOC_LockH
    916              GUI_ARRAY_Delete(pObj->Handles);
   \   000001E4   380090E5           LDR      R0,[R0, #+56]
   \   000001E8   ........           BL       GUI_ARRAY_Delete
    917              GUI_UNLOCK_H(pObj);
   \   000001EC   ........           BL       GUI_ALLOC_UnlockH
    918              /* No break here ... WM_DefaultProc needs to be called */
    919            default:
    920              /* Let widget handle the standard messages */
    921              if (Handled) {
   \                     ??MULTIPAGE_Callback_8:
   \   000001F0   000056E3           CMP      R6,#+0
   \   000001F4   0100000A           BEQ      ??MULTIPAGE_Callback_9
    922                WM_DefaultProc(pMsg);
   \   000001F8   0400A0E1           MOV      R0,R4
   \   000001FC   ........           BL       WM_DefaultProc
    923              }
    924            }
    925            WM_UNLOCK();
   \                     ??MULTIPAGE_Callback_9:
   \   00000200   04D08DE2           ADD      SP,SP,#+4
   \   00000204   F040BDE8           POP      {R4-R7,LR}
   \   00000208   ........           B        GUI_Unlock       ;; tailcall
    926          }
    927          
    928          /*********************************************************************
    929          *
    930          *       Exported routines:  Create
    931          *
    932          **********************************************************************
    933          */
    934          
    935          /* Note: the parameters to a create function may vary.
    936                   Some widgets may have multiple create functions */
    937          
    938          /*********************************************************************
    939          *
    940          *       MULTIPAGE_CreateEx
    941          */

   \                                 In section .text, align 4, keep-with-next
    942          MULTIPAGE_Handle MULTIPAGE_CreateEx(int x0, int y0, int xsize, int ysize, WM_HWIN hParent,
    943                                              int WinFlags, int ExFlags, int Id)
    944          {
   \                     MULTIPAGE_CreateEx:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   1CD04DE2           SUB      SP,SP,#+28
    945            MULTIPAGE_Handle hObj;
    946            /* Create the window */
    947            #if WM_SUPPORT_TRANSPARENCY
    948              WinFlags |= WM_CF_HASTRANS;
    949            #endif
    950            hObj = WM_CreateWindowAsChild(x0, y0, xsize, ysize, hParent, WinFlags, &MULTIPAGE_Callback,
    951                                          sizeof(MULTIPAGE_Obj) - sizeof(WM_Obj));
   \   00000008   3440A0E3           MOV      R4,#+52
   \   0000000C   3CE09DE5           LDR      LR,[SP, #+60]
   \   00000010   0C408DE5           STR      R4,[SP, #+12]
   \   00000014   38C09DE5           LDR      R12,[SP, #+56]
   \   00000018   ........           LDR      R4,??DataTable3
   \   0000001C   01E08EE3           ORR      LR,LR,#0x1
   \   00000020   40509DE5           LDR      R5,[SP, #+64]
   \   00000024   44609DE5           LDR      R6,[SP, #+68]
   \   00000028   08408DE5           STR      R4,[SP, #+8]
   \   0000002C   04E08DE5           STR      LR,[SP, #+4]
   \   00000030   00C08DE5           STR      R12,[SP, #+0]
   \   00000034   ........           BL       WM_CreateWindowAsChild
   \   00000038   0040B0E1           MOVS     R4,R0
    952            if (hObj) {
   \   0000003C   5800000A           BEQ      ??MULTIPAGE_CreateEx_0
    953              U16 InitState;
    954              MULTIPAGE_Obj * pObj;
    955              GUI_RECT rClient;
    956              int Flags;
    957              GUI_ARRAY Handles;
    958              WM_HWIN hClient;
    959              Handles = GUI_ARRAY_Create();
   \   00000040   ........           BL       GUI_ARRAY_Create
   \   00000044   0090B0E1           MOVS     R9,R0
    960              if (Handles) {
   \   00000048   5500000A           BEQ      ??MULTIPAGE_CreateEx_0
    961                WM_LOCK();
   \   0000004C   ........           BL       GUI_Lock
    962                pObj = (MULTIPAGE_Obj *)GUI_LOCK_H(hObj);
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   ........           BL       GUI_ALLOC_LockH
   \   00000058   0070A0E1           MOV      R7,R0
    963                /* Handle SpecialFlags */
    964                InitState = 0;
   \   0000005C   0020A0E3           MOV      R2,#+0
    965                if (ExFlags & WIDGET_STATE_VERTICAL) {
   \   00000060   080015E3           TST      R5,#0x8
   \   00000064   0080A0E3           MOV      R8,#+0
    966                  InitState |= WIDGET_STATE_VERTICAL;
   \   00000068   0820A013           MOVNE    R2,#+8
    967                }
    968                /* Init sub-classes */
    969                pObj->Handles = Handles;
   \   0000006C   389087E5           STR      R9,[R7, #+56]
    970                /* Init widget specific variables */
    971                WIDGET__Init(&pObj->Widget, Id, InitState);
   \   00000070   0610A0E1           MOV      R1,R6
   \   00000074   ........           BL       WIDGET__Init
    972                /* Init member variables */
    973                MULTIPAGE_INIT_ID(pObj);
    974                pObj->Props           = MULTIPAGE__DefaultProps;
   \   00000078   ........           LDR      R1,??DataTable3_1
   \   0000007C   440087E2           ADD      R0,R7,#+68
   \   00000080   6C50B1E8           LDM      R1!,{R2,R3,R5,R6,R12,LR}
   \   00000084   6C50A0E8           STM      R0!,{R2,R3,R5,R6,R12,LR}
    975                pObj->Selection       = 0xffff;
   \   00000088   FF00A0E3           MOV      R0,#+255
   \   0000008C   FF0C80E3           ORR      R0,R0,#0xFF00
   \   00000090   3C0087E5           STR      R0,[R7, #+60]
    976                pObj->ScrollState     = 0;
    977                pObj->pfDrawTextItem  = MULTIPAGE__DrawTextItemH;
   \   00000094   ........           LDR      R0,??DataTable3_2
   \   00000098   408087E5           STR      R8,[R7, #+64]
   \   0000009C   5C0087E5           STR      R0,[R7, #+92]
    978                MULTIPAGE__CalcClientRect(hObj, &rClient);
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   ........           BL       GUI_ALLOC_LockH
   \   000000A8   0050A0E1           MOV      R5,R0
   \   000000AC   10108DE2           ADD      R1,SP,#+16
   \   000000B0   ........           BL       WIDGET__GetInsideRect
   \   000000B4   4800D5E5           LDRB     R0,[R5, #+72]
   \   000000B8   3220D5E5           LDRB     R2,[R5, #+50]
   \   000000BC   041000E2           AND      R1,R0,#0x4
   \   000000C0   440095E5           LDR      R0,[R5, #+68]
   \   000000C4   080012E3           TST      R2,#0x8
   \   000000C8   0D00000A           BEQ      ??MULTIPAGE_CreateEx_1
   \   000000CC   000051E3           CMP      R1,#+0
   \   000000D0   0500000A           BEQ      ??MULTIPAGE_CreateEx_2
   \   000000D4   ........           BL       GUI_GetYSizeOfFont
   \   000000D8   F011DDE1           LDRSH    R1,[SP, #+16]
   \   000000DC   060080E2           ADD      R0,R0,#+6
   \   000000E0   010080E0           ADD      R0,R0,R1
   \   000000E4   B001CDE1           STRH     R0,[SP, #+16]
   \   000000E8   120000EA           B        ??MULTIPAGE_CreateEx_3
   \                     ??MULTIPAGE_CreateEx_2:
   \   000000EC   ........           BL       GUI_GetYSizeOfFont
   \   000000F0   F411DDE1           LDRSH    R1,[SP, #+20]
   \   000000F4   000041E0           SUB      R0,R1,R0
   \   000000F8   060040E2           SUB      R0,R0,#+6
   \   000000FC   B401CDE1           STRH     R0,[SP, #+20]
   \   00000100   0C0000EA           B        ??MULTIPAGE_CreateEx_3
   \                     ??MULTIPAGE_CreateEx_1:
   \   00000104   000051E3           CMP      R1,#+0
   \   00000108   0500000A           BEQ      ??MULTIPAGE_CreateEx_4
   \   0000010C   ........           BL       GUI_GetYSizeOfFont
   \   00000110   F611DDE1           LDRSH    R1,[SP, #+22]
   \   00000114   000041E0           SUB      R0,R1,R0
   \   00000118   060040E2           SUB      R0,R0,#+6
   \   0000011C   B601CDE1           STRH     R0,[SP, #+22]
   \   00000120   040000EA           B        ??MULTIPAGE_CreateEx_3
   \                     ??MULTIPAGE_CreateEx_4:
   \   00000124   ........           BL       GUI_GetYSizeOfFont
   \   00000128   F211DDE1           LDRSH    R1,[SP, #+18]
   \   0000012C   060080E2           ADD      R0,R0,#+6
   \   00000130   010080E0           ADD      R0,R0,R1
   \   00000134   B201CDE1           STRH     R0,[SP, #+18]
   \                     ??MULTIPAGE_CreateEx_3:
   \   00000138   ........           BL       GUI_ALLOC_UnlockH
    979                GUI_UNLOCK_H(pObj);
   \   0000013C   ........           BL       GUI_ALLOC_UnlockH
    980                Flags = WM_CF_SHOW | WM_CF_ANCHOR_LEFT | WM_CF_ANCHOR_RIGHT | WM_CF_ANCHOR_TOP | WM_CF_ANCHOR_BOTTOM;
    981                hClient = WM_CreateWindowAsChild(rClient.x0, rClient.y0,
    982                                                 rClient.x1 - rClient.x0 + 1,
    983                                                 rClient.y1 - rClient.y0 + 1,
    984                                                 hObj, Flags, &_ClientCallback, 0);
   \   00000140   ........           LDR      R2,??DataTable3_3
   \   00000144   F211DDE1           LDRSH    R1,[SP, #+18]
   \   00000148   08208DE5           STR      R2,[SP, #+8]
   \   0000014C   8220A0E3           MOV      R2,#+130
   \   00000150   702E82E3           ORR      R2,R2,#0x700
   \   00000154   04208DE5           STR      R2,[SP, #+4]
   \   00000158   F621DDE1           LDRSH    R2,[SP, #+22]
   \   0000015C   F001DDE1           LDRSH    R0,[SP, #+16]
   \   00000160   0C808DE5           STR      R8,[SP, #+12]
   \   00000164   012042E0           SUB      R2,R2,R1
   \   00000168   013082E2           ADD      R3,R2,#+1
   \   0000016C   F421DDE1           LDRSH    R2,[SP, #+20]
   \   00000170   00408DE5           STR      R4,[SP, #+0]
   \   00000174   002042E0           SUB      R2,R2,R0
   \   00000178   012082E2           ADD      R2,R2,#+1
   \   0000017C   ........           BL       WM_CreateWindowAsChild
   \   00000180   0050B0E1           MOVS     R5,R0
    985                if (hClient) {
   \   00000184   0300000A           BEQ      ??MULTIPAGE_CreateEx_5
    986                  pObj = MULTIPAGE_LOCK_H(hObj);
    987                  pObj->hClient = hClient;
   \   00000188   0400A0E1           MOV      R0,R4
   \   0000018C   ........           BL       GUI_ALLOC_LockH
   \   00000190   345080E5           STR      R5,[R0, #+52]
    988                  GUI_UNLOCK_H(pObj);
   \   00000194   ........           BL       GUI_ALLOC_UnlockH
    989                }
    990                MULTIPAGE__UpdatePositions(hObj);
   \                     ??MULTIPAGE_CreateEx_5:
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   ........           BL       MULTIPAGE__UpdatePositions
    991                WM_UNLOCK();
   \   000001A0   ........           BL       GUI_Unlock
    992              }
    993            } else {
    994              GUI_DEBUG_ERROROUT_IF(hObj==0, "MULTIPAGE_Create failed")
    995            }
    996            return hObj;
   \                     ??MULTIPAGE_CreateEx_0:
   \   000001A4   0400A0E1           MOV      R0,R4
   \   000001A8   1CD08DE2           ADD      SP,SP,#+28
   \   000001AC   F083BDE8           POP      {R4-R9,PC}       ;; return
    997          }
    998          
    999          /*********************************************************************
   1000          *
   1001          *       Exported routines:  Page management
   1002          *
   1003          **********************************************************************
   1004          */
   1005          /*********************************************************************
   1006          *
   1007          *       MULTIPAGE_AddPage
   1008          */

   \                                 In section .text, align 4, keep-with-next
   1009          void MULTIPAGE_AddPage(MULTIPAGE_Handle hObj, WM_HWIN hWin ,const char * pText) {
   \                     MULTIPAGE_AddPage:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0CD04DE2           SUB      SP,SP,#+12
   \   0000000C   0170A0E1           MOV      R7,R1
   \   00000010   0250A0E1           MOV      R5,R2
   1010            MULTIPAGE_Obj * pObj;
   1011            int NumItems;
   1012            GUI_ARRAY Handles;
   1013            WM_HWIN hClient;
   1014            if (hObj) {
   \   00000014   000054E3           CMP      R4,#+0
   \   00000018   5000000A           BEQ      ??MULTIPAGE_AddPage_0
   1015              WM_LOCK();
   \   0000001C   ........           BL       GUI_Lock
   1016              pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   ........           BL       GUI_ALLOC_LockH
   1017              Handles = pObj->Handles;
   \   00000028   386090E5           LDR      R6,[R0, #+56]
   1018              hClient = pObj->hClient;
   \   0000002C   348090E5           LDR      R8,[R0, #+52]
   1019              GUI_UNLOCK_H(pObj);
   \   00000030   ........           BL       GUI_ALLOC_UnlockH
   1020              if (hWin == 0) {
   \   00000034   000057E3           CMP      R7,#+0
   \   00000038   1E00001A           BNE      ??MULTIPAGE_AddPage_1
   1021                /* If we get no handle we must find it. To do this, we search      */
   1022                /* all children until we found one that has not yet become a page. */
   1023                MULTIPAGE_PAGE * pPage;
   1024                WM_HWIN hChild;
   1025                WM_Obj * pChild;
   1026                WM_Obj * pClient;
   1027                int i;
   1028                pClient = (WM_Obj *)GUI_LOCK_H(hClient);
   1029                hChild = pClient->hFirstChild;
   \   0000003C   0800A0E1           MOV      R0,R8
   \   00000040   ........           BL       GUI_ALLOC_LockH
   \   00000044   1C8090E5           LDR      R8,[R0, #+28]
   1030                GUI_UNLOCK_H(pClient);
   \   00000048   050000EA           B        ??MULTIPAGE_AddPage_2
   1031                while (hChild && (hWin == 0)) {
   1032                  hWin = hChild;
   1033                  NumItems = GUI_ARRAY_GetNumItems(Handles);
   1034                  for (i = 0; i < NumItems; i++) {
   \                     ??MULTIPAGE_AddPage_3:
   \   0000004C   019089E2           ADD      R9,R9,#+1
   \   00000050   0A0059E1           CMP      R9,R10
   \   00000054   0E0000BA           BLT      ??MULTIPAGE_AddPage_4
   1035                    WM_HWIN hPageWin;
   1036                    pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, i);
   1037                    hPageWin = pPage->hWin;
   1038                    GUI_UNLOCK_H(pPage);
   1039                    if (hPageWin == hChild) {
   1040                      hWin = 0;
   1041                      break;
   1042                    }
   1043                  }
   1044                  pChild = (WM_Obj *)GUI_LOCK_H(hChild);
   1045                  hChild = pChild->hNext;
   \                     ??MULTIPAGE_AddPage_5:
   \   00000058   0800A0E1           MOV      R0,R8
   \   0000005C   ........           BL       GUI_ALLOC_LockH
   \   00000060   208090E5           LDR      R8,[R0, #+32]
   1046                  GUI_UNLOCK_H(pChild);
   \                     ??MULTIPAGE_AddPage_2:
   \   00000064   ........           BL       GUI_ALLOC_UnlockH
   \   00000068   000058E3           CMP      R8,#+0
   \   0000006C   1700000A           BEQ      ??MULTIPAGE_AddPage_6
   \   00000070   000057E3           CMP      R7,#+0
   \   00000074   1500001A           BNE      ??MULTIPAGE_AddPage_6
   \   00000078   0870A0E1           MOV      R7,R8
   \   0000007C   0600A0E1           MOV      R0,R6
   \   00000080   ........           BL       GUI_ARRAY_GetNumItems
   \   00000084   00A0A0E1           MOV      R10,R0
   \   00000088   0090A0E3           MOV      R9,#+0
   \   0000008C   01005AE3           CMP      R10,#+1
   \   00000090   F0FFFFBA           BLT      ??MULTIPAGE_AddPage_5
   \                     ??MULTIPAGE_AddPage_4:
   \   00000094   0910A0E1           MOV      R1,R9
   \   00000098   0600A0E1           MOV      R0,R6
   \   0000009C   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000A0   00B090E5           LDR      R11,[R0, #+0]
   \   000000A4   ........           BL       GUI_ALLOC_UnlockH
   \   000000A8   08005BE1           CMP      R11,R8
   \   000000AC   E6FFFF1A           BNE      ??MULTIPAGE_AddPage_3
   \   000000B0   0070A0E3           MOV      R7,#+0
   \   000000B4   E7FFFFEA           B        ??MULTIPAGE_AddPage_5
   1047                }
   1048              } else {
   1049                /* If we get a handle we must ensure that it was attached to the multipage */
   1050                WM_AttachWindowAt(hWin, hClient, 0, 0);
   \                     ??MULTIPAGE_AddPage_1:
   \   000000B8   0030A0E3           MOV      R3,#+0
   \   000000BC   0020A0E3           MOV      R2,#+0
   \   000000C0   0810A0E1           MOV      R1,R8
   \   000000C4   0700A0E1           MOV      R0,R7
   \   000000C8   ........           BL       WM_AttachWindowAt
   \   000000CC   010000EA           B        ??MULTIPAGE_AddPage_7
   1051              }
   1052              if (hWin) {
   \                     ??MULTIPAGE_AddPage_6:
   \   000000D0   000057E3           CMP      R7,#+0
   \   000000D4   2000000A           BEQ      ??MULTIPAGE_AddPage_8
   1053                MULTIPAGE_PAGE Page;
   1054                char NullByte = 0;
   \                     ??MULTIPAGE_AddPage_7:
   \   000000D8   0010A0E3           MOV      R1,#+0
   \   000000DC   0010CDE5           STRB     R1,[SP, #+0]
   1055                if (!pText) {
   \   000000E0   000055E3           CMP      R5,#+0
   1056                  pText = &NullByte;
   \   000000E4   0D50A001           MOVEQ    R5,SP
   1057                }
   1058                Page.hWin   = hWin;
   1059                Page.Status = MULTIPAGE_STATE_ENABLED;
   \   000000E8   0110A0E3           MOV      R1,#+1
   \   000000EC   04708DE5           STR      R7,[SP, #+4]
   \   000000F0   0810CDE5           STRB     R1,[SP, #+8]
   1060                if (GUI_ARRAY_AddItem(Handles, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText)) == 0) {
   \   000000F4   0500A0E1           MOV      R0,R5
   \   000000F8   ........           BL       strlen
   \   000000FC   082080E2           ADD      R2,R0,#+8
   \   00000100   04108DE2           ADD      R1,SP,#+4
   \   00000104   0600A0E1           MOV      R0,R6
   \   00000108   ........           BL       GUI_ARRAY_AddItem
   \   0000010C   000050E3           CMP      R0,#+0
   \   00000110   0C00001A           BNE      ??MULTIPAGE_AddPage_9
   1061                  MULTIPAGE_PAGE * pPage;
   1062                  NumItems = GUI_ARRAY_GetNumItems(Handles);
   \   00000114   0600A0E1           MOV      R0,R6
   \   00000118   ........           BL       GUI_ARRAY_GetNumItems
   1063                  pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, NumItems - 1);
   \   0000011C   011040E2           SUB      R1,R0,#+1
   \   00000120   0600A0E1           MOV      R0,R6
   \   00000124   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000128   0070A0E1           MOV      R7,R0
   1064                  GUI_MEMCPY(&pPage->acText, pText, strlen(pText) + 1);
   \   0000012C   0500A0E1           MOV      R0,R5
   \   00000130   ........           BL       strlen
   \   00000134   012080E2           ADD      R2,R0,#+1
   \   00000138   0510A0E1           MOV      R1,R5
   \   0000013C   050087E2           ADD      R0,R7,#+5
   \   00000140   ........           BL       __aeabi_memcpy
   1065                  GUI_UNLOCK_H(pPage);
   \   00000144   ........           BL       GUI_ALLOC_UnlockH
   1066                }
   1067                NumItems = GUI_ARRAY_GetNumItems(Handles);
   \                     ??MULTIPAGE_AddPage_9:
   \   00000148   0600A0E1           MOV      R0,R6
   \   0000014C   ........           BL       GUI_ARRAY_GetNumItems
   1068                MULTIPAGE_SelectPage(hObj, NumItems - 1);
   \   00000150   011040E2           SUB      R1,R0,#+1
   \   00000154   0400A0E1           MOV      R0,R4
   \   00000158   ........           BL       MULTIPAGE_SelectPage
   1069              }
   1070              WM_UNLOCK();
   \                     ??MULTIPAGE_AddPage_8:
   \   0000015C   ........           BL       GUI_Unlock
   1071            }
   1072          }
   \                     ??MULTIPAGE_AddPage_0:
   \   00000160   0CD08DE2           ADD      SP,SP,#+12       ;; stack cleaning
   \   00000164   F08FBDE8           POP      {R4-R11,PC}      ;; return
   1073          
   1074          /*********************************************************************
   1075          *
   1076          *       MULTIPAGE_DeletePage
   1077          */

   \                                 In section .text, align 4, keep-with-next
   1078          void MULTIPAGE_DeletePage(MULTIPAGE_Handle hObj, unsigned Index, int Delete) {
   \                     MULTIPAGE_DeletePage:
   \   00000000   F44F2DE9           PUSH     {R2,R4-R11,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   08D04DE2           SUB      SP,SP,#+8
   \   0000000C   0150A0E1           MOV      R5,R1
   1079            if (hObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   7400000A           BEQ      ??MULTIPAGE_DeletePage_0
   1080              MULTIPAGE_Obj * pObj;
   1081              unsigned NumItems;
   1082              unsigned Selection;
   1083              GUI_ARRAY Handles;
   1084              if (hObj) {
   1085                WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
   1086                pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
   1087                Selection = pObj->Selection;
   \   00000024   3C8090E5           LDR      R8,[R0, #+60]
   1088                Handles = pObj->Handles;
   \   00000028   380090E5           LDR      R0,[R0, #+56]
   \   0000002C   00008DE5           STR      R0,[SP, #+0]
   1089                NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   00000030   ........           BL       GUI_ARRAY_GetNumItems
   \   00000034   0090A0E1           MOV      R9,R0
   1090                GUI_UNLOCK_H(pObj);
   \   00000038   ........           BL       GUI_ALLOC_UnlockH
   1091                if (Index < NumItems) {
   \   0000003C   090055E1           CMP      R5,R9
   \   00000040   6800002A           BCS      ??MULTIPAGE_DeletePage_1
   1092                  int Add = 0;
   \   00000044   0070A0E3           MOV      R7,#+0
   1093                  WM_HWIN hWin;
   1094                  MULTIPAGE_PAGE * pPage;
   1095                  pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, Index);
   1096                  hWin = pPage->hWin;
   \   00000048   0510A0E1           MOV      R1,R5
   \   0000004C   00009DE5           LDR      R0,[SP, #+0]
   \   00000050   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000054   006090E5           LDR      R6,[R0, #+0]
   1097                  GUI_UNLOCK_H(pPage);
   \   00000058   ........           BL       GUI_ALLOC_UnlockH
   1098                  /* Remove the page from the multipage object */
   1099                  if (Index == Selection) {
   \   0000005C   080055E1           CMP      R5,R8
   \   00000060   4F00001A           BNE      ??MULTIPAGE_DeletePage_2
   1100                    if (Index == (NumItems - 1)) {
   \   00000064   010049E2           SUB      R0,R9,#+1
   \   00000068   000055E1           CMP      R5,R0
   \   0000006C   2600001A           BNE      ??MULTIPAGE_DeletePage_3
   1101                      _ShowPage(hObj, Index - 1);
   \   00000070   017045E2           SUB      R7,R5,#+1
   \   00000074   0080A0E3           MOV      R8,#+0
   \   00000078   0400A0E1           MOV      R0,R4
   \   0000007C   ........           BL       GUI_ALLOC_LockH
   \   00000080   349090E5           LDR      R9,[R0, #+52]
   \   00000084   38A090E5           LDR      R10,[R0, #+56]
   \   00000088   ........           BL       GUI_ALLOC_UnlockH
   \   0000008C   0900A0E1           MOV      R0,R9
   \   00000090   ........           BL       GUI_ALLOC_LockH
   \   00000094   0090A0E1           MOV      R9,R0
   \   00000098   0A00A0E1           MOV      R0,R10
   \   0000009C   ........           BL       GUI_ARRAY_GetNumItems
   \   000000A0   000057E1           CMP      R7,R0
   \   000000A4   0400002A           BCS      ??MULTIPAGE_DeletePage_4
   \   000000A8   0710A0E1           MOV      R1,R7
   \   000000AC   0A00A0E1           MOV      R0,R10
   \   000000B0   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000B4   008090E5           LDR      R8,[R0, #+0]
   \   000000B8   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE_DeletePage_4:
   \   000000BC   1C7099E5           LDR      R7,[R9, #+28]
   \   000000C0   ........           BL       GUI_ALLOC_UnlockH
   \   000000C4   000057E3           CMP      R7,#+0
   \   000000C8   0D00000A           BEQ      ??MULTIPAGE_DeletePage_5
   \                     ??MULTIPAGE_DeletePage_6:
   \   000000CC   080057E1           CMP      R7,R8
   \   000000D0   0700A0E1           MOV      R0,R7
   \   000000D4   0100000A           BEQ      ??MULTIPAGE_DeletePage_7
   \   000000D8   ........           BL       WM_HideWindow
   \   000000DC   020000EA           B        ??MULTIPAGE_DeletePage_8
   \                     ??MULTIPAGE_DeletePage_7:
   \   000000E0   ........           BL       WM_ShowWindow
   \   000000E4   0700A0E1           MOV      R0,R7
   \   000000E8   ........           BL       WM_SetFocus
   \                     ??MULTIPAGE_DeletePage_8:
   \   000000EC   0700A0E1           MOV      R0,R7
   \   000000F0   ........           BL       GUI_ALLOC_LockH
   \   000000F4   207090E5           LDR      R7,[R0, #+32]
   \   000000F8   ........           BL       GUI_ALLOC_UnlockH
   \   000000FC   000057E3           CMP      R7,#+0
   \   00000100   F1FFFF1A           BNE      ??MULTIPAGE_DeletePage_6
   1102                      Add = -1;
   \                     ??MULTIPAGE_DeletePage_5:
   \   00000104   0070E0E3           MVN      R7,#+0
   \   00000108   260000EA           B        ??MULTIPAGE_DeletePage_9
   1103                    } else {
   1104                      _ShowPage(hObj, Index + 1);
   \                     ??MULTIPAGE_DeletePage_3:
   \   0000010C   018085E2           ADD      R8,R5,#+1
   \   00000110   0090A0E3           MOV      R9,#+0
   \   00000114   0400A0E1           MOV      R0,R4
   \   00000118   ........           BL       GUI_ALLOC_LockH
   \   0000011C   34A090E5           LDR      R10,[R0, #+52]
   \   00000120   38B090E5           LDR      R11,[R0, #+56]
   \   00000124   ........           BL       GUI_ALLOC_UnlockH
   \   00000128   0A00A0E1           MOV      R0,R10
   \   0000012C   ........           BL       GUI_ALLOC_LockH
   \   00000130   00A0A0E1           MOV      R10,R0
   \   00000134   0B00A0E1           MOV      R0,R11
   \   00000138   ........           BL       GUI_ARRAY_GetNumItems
   \   0000013C   000058E1           CMP      R8,R0
   \   00000140   0400002A           BCS      ??MULTIPAGE_DeletePage_10
   \   00000144   0810A0E1           MOV      R1,R8
   \   00000148   0B00A0E1           MOV      R0,R11
   \   0000014C   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000150   009090E5           LDR      R9,[R0, #+0]
   \   00000154   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE_DeletePage_10:
   \   00000158   1C809AE5           LDR      R8,[R10, #+28]
   \   0000015C   ........           BL       GUI_ALLOC_UnlockH
   \   00000160   000058E3           CMP      R8,#+0
   \   00000164   0F00000A           BEQ      ??MULTIPAGE_DeletePage_9
   \                     ??MULTIPAGE_DeletePage_11:
   \   00000168   090058E1           CMP      R8,R9
   \   0000016C   0800A0E1           MOV      R0,R8
   \   00000170   0100000A           BEQ      ??MULTIPAGE_DeletePage_12
   \   00000174   ........           BL       WM_HideWindow
   \   00000178   020000EA           B        ??MULTIPAGE_DeletePage_13
   \                     ??MULTIPAGE_DeletePage_12:
   \   0000017C   ........           BL       WM_ShowWindow
   \   00000180   0800A0E1           MOV      R0,R8
   \   00000184   ........           BL       WM_SetFocus
   \                     ??MULTIPAGE_DeletePage_13:
   \   00000188   0800A0E1           MOV      R0,R8
   \   0000018C   ........           BL       GUI_ALLOC_LockH
   \   00000190   208090E5           LDR      R8,[R0, #+32]
   \   00000194   ........           BL       GUI_ALLOC_UnlockH
   \   00000198   000058E3           CMP      R8,#+0
   \   0000019C   F1FFFF1A           BNE      ??MULTIPAGE_DeletePage_11
   \   000001A0   000000EA           B        ??MULTIPAGE_DeletePage_9
   1105                    }
   1106                  } else {
   1107                    if (Index < Selection) {
   1108                      Add = -1;
   \                     ??MULTIPAGE_DeletePage_2:
   \   000001A4   0770E031           MVNCC    R7,R7
   1109                    }
   1110                  }
   1111                  pObj = MULTIPAGE_LOCK_H(hObj);
   \                     ??MULTIPAGE_DeletePage_9:
   \   000001A8   0400A0E1           MOV      R0,R4
   \   000001AC   ........           BL       GUI_ALLOC_LockH
   1112                  pObj->Selection += Add;
   \   000001B0   3C1090E5           LDR      R1,[R0, #+60]
   \   000001B4   011087E0           ADD      R1,R7,R1
   \   000001B8   3C1080E5           STR      R1,[R0, #+60]
   1113                  GUI_UNLOCK_H(pObj);
   \   000001BC   ........           BL       GUI_ALLOC_UnlockH
   1114                  GUI_ARRAY_DeleteItem(Handles, Index);
   \   000001C0   0510A0E1           MOV      R1,R5
   \   000001C4   00009DE5           LDR      R0,[SP, #+0]
   \   000001C8   ........           BL       GUI_ARRAY_DeleteItem
   1115                  MULTIPAGE__UpdatePositions(hObj);
   \   000001CC   0400A0E1           MOV      R0,R4
   \   000001D0   ........           BL       MULTIPAGE__UpdatePositions
   1116                  /* Delete the window of the page */
   1117                  if (Delete) {
   \   000001D4   08009DE5           LDR      R0,[SP, #+8]
   \   000001D8   000050E3           CMP      R0,#+0
   \   000001DC   0100000A           BEQ      ??MULTIPAGE_DeletePage_1
   1118                    WM_DeleteWindow(hWin);
   \   000001E0   0600A0E1           MOV      R0,R6
   \   000001E4   ........           BL       WM_DeleteWindow
   1119                  }
   1120                }
   1121                WM_UNLOCK();
   \                     ??MULTIPAGE_DeletePage_1:
   \   000001E8   ........           BL       GUI_Unlock
   1122              }
   1123            }
   1124          }
   \                     ??MULTIPAGE_DeletePage_0:
   \   000001EC   0CD08DE2           ADD      SP,SP,#+12       ;; stack cleaning
   \   000001F0   F08FBDE8           POP      {R4-R11,PC}      ;; return
   1125          
   1126          /*********************************************************************
   1127          *
   1128          *       MULTIPAGE_SelectPage
   1129          */

   \                                 In section .text, align 4, keep-with-next
   1130          void MULTIPAGE_SelectPage(MULTIPAGE_Handle hObj, unsigned Index) {
   \                     MULTIPAGE_SelectPage:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1131            if (hObj) {
   \   0000000C   000054E3           CMP      R4,#+0
   \   00000010   5000000A           BEQ      ??MULTIPAGE_SelectPage_0
   1132              MULTIPAGE_Obj * pObj;
   1133              unsigned NumItems;
   1134              unsigned Selection;
   1135              GUI_ARRAY Handles;
   1136              if (hObj) {
   1137                WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
   1138                pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   1139                Selection = pObj->Selection;
   1140                Handles = pObj->Handles;
   \   00000020   388090E5           LDR      R8,[R0, #+56]
   \   00000024   3C6090E5           LDR      R6,[R0, #+60]
   1141                NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   00000028   0800A0E1           MOV      R0,R8
   \   0000002C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000030   0090A0E1           MOV      R9,R0
   1142                GUI_UNLOCK_H(pObj);
   \   00000034   ........           BL       GUI_ALLOC_UnlockH
   1143                if (Index < NumItems) {
   \   00000038   090055E1           CMP      R5,R9
   \   0000003C   4400002A           BCS      ??MULTIPAGE_SelectPage_1
   1144                  if (_GetEnable(hObj, Index)) {
   \   00000040   0090A0E3           MOV      R9,#+0
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   ........           BL       GUI_ALLOC_LockH
   \   0000004C   00A0A0E1           MOV      R10,R0
   \   00000050   38009AE5           LDR      R0,[R10, #+56]
   \   00000054   ........           BL       GUI_ARRAY_GetNumItems
   \   00000058   000055E1           CMP      R5,R0
   \   0000005C   0500002A           BCS      ??MULTIPAGE_SelectPage_2
   \   00000060   0510A0E1           MOV      R1,R5
   \   00000064   38009AE5           LDR      R0,[R10, #+56]
   \   00000068   ........           BL       GUI_ARRAY_GetpItemLocked
   \   0000006C   0400D0E5           LDRB     R0,[R0, #+4]
   \   00000070   019000E2           AND      R9,R0,#0x1
   \   00000074   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE_SelectPage_2:
   \   00000078   ........           BL       GUI_ALLOC_UnlockH
   \   0000007C   000059E3           CMP      R9,#+0
   \   00000080   3300000A           BEQ      ??MULTIPAGE_SelectPage_1
   1145                    if (Index != Selection) {
   \   00000084   060055E1           CMP      R5,R6
   \   00000088   2A00000A           BEQ      ??MULTIPAGE_SelectPage_3
   1146                      /* Switch to page */
   1147                      _ShowPage(hObj, Index);
   \   0000008C   0060A0E3           MOV      R6,#+0
   \   00000090   0400A0E1           MOV      R0,R4
   \   00000094   ........           BL       GUI_ALLOC_LockH
   \   00000098   347090E5           LDR      R7,[R0, #+52]
   \   0000009C   388090E5           LDR      R8,[R0, #+56]
   \   000000A0   ........           BL       GUI_ALLOC_UnlockH
   \   000000A4   0700A0E1           MOV      R0,R7
   \   000000A8   ........           BL       GUI_ALLOC_LockH
   \   000000AC   0070A0E1           MOV      R7,R0
   \   000000B0   0800A0E1           MOV      R0,R8
   \   000000B4   ........           BL       GUI_ARRAY_GetNumItems
   \   000000B8   000055E1           CMP      R5,R0
   \   000000BC   0400002A           BCS      ??MULTIPAGE_SelectPage_4
   \   000000C0   0510A0E1           MOV      R1,R5
   \   000000C4   0800A0E1           MOV      R0,R8
   \   000000C8   ........           BL       GUI_ARRAY_GetpItemLocked
   \   000000CC   006090E5           LDR      R6,[R0, #+0]
   \   000000D0   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE_SelectPage_4:
   \   000000D4   1C7097E5           LDR      R7,[R7, #+28]
   \   000000D8   ........           BL       GUI_ALLOC_UnlockH
   \   000000DC   000057E3           CMP      R7,#+0
   \   000000E0   0D00000A           BEQ      ??MULTIPAGE_SelectPage_5
   \                     ??MULTIPAGE_SelectPage_6:
   \   000000E4   060057E1           CMP      R7,R6
   \   000000E8   0700A0E1           MOV      R0,R7
   \   000000EC   0100000A           BEQ      ??MULTIPAGE_SelectPage_7
   \   000000F0   ........           BL       WM_HideWindow
   \   000000F4   020000EA           B        ??MULTIPAGE_SelectPage_8
   \                     ??MULTIPAGE_SelectPage_7:
   \   000000F8   ........           BL       WM_ShowWindow
   \   000000FC   0700A0E1           MOV      R0,R7
   \   00000100   ........           BL       WM_SetFocus
   \                     ??MULTIPAGE_SelectPage_8:
   \   00000104   0700A0E1           MOV      R0,R7
   \   00000108   ........           BL       GUI_ALLOC_LockH
   \   0000010C   207090E5           LDR      R7,[R0, #+32]
   \   00000110   ........           BL       GUI_ALLOC_UnlockH
   \   00000114   000057E3           CMP      R7,#+0
   \   00000118   F1FFFF1A           BNE      ??MULTIPAGE_SelectPage_6
   1148                      pObj = MULTIPAGE_LOCK_H(hObj);
   1149                      pObj->Selection = Index;
   \                     ??MULTIPAGE_SelectPage_5:
   \   0000011C   0400A0E1           MOV      R0,R4
   \   00000120   ........           BL       GUI_ALLOC_LockH
   \   00000124   3C5080E5           STR      R5,[R0, #+60]
   1150                      GUI_UNLOCK_H(pObj);
   \   00000128   ........           BL       GUI_ALLOC_UnlockH
   1151                      MULTIPAGE__UpdatePositions(hObj);
   \   0000012C   0400A0E1           MOV      R0,R4
   \   00000130   ........           BL       MULTIPAGE__UpdatePositions
   \   00000134   060000EA           B        ??MULTIPAGE_SelectPage_1
   1152                    } else {
   1153                      /* Page is already visible, so move at least the input focus to the page */
   1154                      MULTIPAGE_PAGE * pPage;
   1155                      WM_HWIN hPageWin;
   1156                      pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, Index);
   1157                      hPageWin = pPage->hWin;
   \                     ??MULTIPAGE_SelectPage_3:
   \   00000138   0510A0E1           MOV      R1,R5
   \   0000013C   0800A0E1           MOV      R0,R8
   \   00000140   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000144   004090E5           LDR      R4,[R0, #+0]
   1158                      GUI_UNLOCK_H(pPage);
   \   00000148   ........           BL       GUI_ALLOC_UnlockH
   1159                      WM_SetFocus(hPageWin);
   \   0000014C   0400A0E1           MOV      R0,R4
   \   00000150   ........           BL       WM_SetFocus
   1160                    }
   1161                  }
   1162                }
   1163                WM_UNLOCK();
   \                     ??MULTIPAGE_SelectPage_1:
   \   00000154   ........           BL       GUI_Unlock
   1164              }
   1165            }
   1166          }
   \                     ??MULTIPAGE_SelectPage_0:
   \   00000158   F087BDE8           POP      {R4-R10,PC}      ;; return
   1167          
   1168          /*********************************************************************
   1169          *
   1170          *       MULTIPAGE_DisablePage
   1171          */

   \                                 In section .text, align 4, keep-with-next
   1172          void MULTIPAGE_DisablePage(MULTIPAGE_Handle hObj, unsigned Index) {
   \                     MULTIPAGE_DisablePage:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1173            if (hObj) {
   \   0000000C   000054E3           CMP      R4,#+0
   \   00000010   1300000A           BEQ      ??MULTIPAGE_DisablePage_0
   1174              MULTIPAGE_Obj * pObj;
   1175              WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
   1176              pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   \   00000020   0060B0E1           MOVS     R6,R0
   1177              if (pObj) {
   \   00000024   0C00000A           BEQ      ??MULTIPAGE_DisablePage_1
   1178                _SetEnable(pObj, Index, 0);
   \   00000028   380096E5           LDR      R0,[R6, #+56]
   \   0000002C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000030   000055E1           CMP      R5,R0
   \   00000034   0600002A           BCS      ??MULTIPAGE_DisablePage_2
   \   00000038   0510A0E1           MOV      R1,R5
   \   0000003C   380096E5           LDR      R0,[R6, #+56]
   \   00000040   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000044   0410D0E5           LDRB     R1,[R0, #+4]
   \   00000048   FE1001E2           AND      R1,R1,#0xFE
   \   0000004C   0410C0E5           STRB     R1,[R0, #+4]
   \   00000050   ........           BL       GUI_ALLOC_UnlockH
   1179                WM_InvalidateWindow(hObj);
   \                     ??MULTIPAGE_DisablePage_2:
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   ........           BL       WM_InvalidateWindow
   1180              }
   1181              GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE_DisablePage_1:
   \   0000005C   ........           BL       GUI_ALLOC_UnlockH
   1182              WM_UNLOCK();
   \   00000060   ........           BL       GUI_Unlock
   1183            }
   1184          }
   \                     ??MULTIPAGE_DisablePage_0:
   \   00000064   7080BDE8           POP      {R4-R6,PC}       ;; return
   1185          
   1186          /*********************************************************************
   1187          *
   1188          *       MULTIPAGE_EnablePage
   1189          */

   \                                 In section .text, align 4, keep-with-next
   1190          void MULTIPAGE_EnablePage(MULTIPAGE_Handle hObj, unsigned Index) {
   \                     MULTIPAGE_EnablePage:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1191            if (hObj) {
   \   0000000C   000054E3           CMP      R4,#+0
   \   00000010   1300000A           BEQ      ??MULTIPAGE_EnablePage_0
   1192              MULTIPAGE_Obj * pObj;
   1193              WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
   1194              pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   \   00000020   0060B0E1           MOVS     R6,R0
   1195              if (pObj) {
   \   00000024   0C00000A           BEQ      ??MULTIPAGE_EnablePage_1
   1196                _SetEnable(pObj, Index, 1);
   \   00000028   380096E5           LDR      R0,[R6, #+56]
   \   0000002C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000030   000055E1           CMP      R5,R0
   \   00000034   0600002A           BCS      ??MULTIPAGE_EnablePage_2
   \   00000038   0510A0E1           MOV      R1,R5
   \   0000003C   380096E5           LDR      R0,[R6, #+56]
   \   00000040   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000044   0410D0E5           LDRB     R1,[R0, #+4]
   \   00000048   011081E3           ORR      R1,R1,#0x1
   \   0000004C   0410C0E5           STRB     R1,[R0, #+4]
   \   00000050   ........           BL       GUI_ALLOC_UnlockH
   1197                WM_InvalidateWindow(hObj);
   \                     ??MULTIPAGE_EnablePage_2:
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   ........           BL       WM_InvalidateWindow
   1198              }
   1199              GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE_EnablePage_1:
   \   0000005C   ........           BL       GUI_ALLOC_UnlockH
   1200              WM_UNLOCK();
   \   00000060   ........           BL       GUI_Unlock
   1201            }
   1202          }
   \                     ??MULTIPAGE_EnablePage_0:
   \   00000064   7080BDE8           POP      {R4-R6,PC}       ;; return
   1203          
   1204          /*********************************************************************
   1205          *
   1206          *       Exported routines:  Various methods
   1207          *
   1208          **********************************************************************
   1209          */
   1210          /*********************************************************************
   1211          *
   1212          *       MULTIPAGE_SetText
   1213          */

   \                                 In section .text, align 4, keep-with-next
   1214          void MULTIPAGE_SetText(MULTIPAGE_Handle hObj, const char * pText, unsigned Index) {
   \                     MULTIPAGE_SetText:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1215            MULTIPAGE_Obj * pObj;
   1216            unsigned NumItems;
   1217            GUI_ARRAY Handles;
   1218            if (hObj && pText) {
   \   0000000C   000054E3           CMP      R4,#+0
   \   00000010   08D04DE2           SUB      SP,SP,#+8
   \   00000014   0260A0E1           MOV      R6,R2
   \   00000018   00005513           CMPNE    R5,#+0
   \   0000001C   2800000A           BEQ      ??MULTIPAGE_SetText_0
   1219              WM_LOCK();
   \   00000020   ........           BL       GUI_Lock
   1220              pObj = MULTIPAGE_LOCK_H(hObj);
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           BL       GUI_ALLOC_LockH
   1221              Handles = pObj->Handles;
   \   0000002C   387090E5           LDR      R7,[R0, #+56]
   1222              NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   \   00000030   0700A0E1           MOV      R0,R7
   \   00000034   ........           BL       GUI_ARRAY_GetNumItems
   \   00000038   0080A0E1           MOV      R8,R0
   1223              GUI_UNLOCK_H(pObj);
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
   1224              if (Index < NumItems) {
   \   00000040   080056E1           CMP      R6,R8
   \   00000044   1D00002A           BCS      ??MULTIPAGE_SetText_1
   1225                MULTIPAGE_PAGE * pPage;
   1226                MULTIPAGE_PAGE Page;
   1227                pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, Index);
   \   00000048   0610A0E1           MOV      R1,R6
   \   0000004C   0700A0E1           MOV      R0,R7
   \   00000050   ........           BL       GUI_ARRAY_GetpItemLocked
   1228                Page.hWin   = pPage->hWin;
   \   00000054   002090E5           LDR      R2,[R0, #+0]
   \   00000058   00208DE5           STR      R2,[SP, #+0]
   1229                Page.Status = pPage->Status;
   \   0000005C   0400D0E5           LDRB     R0,[R0, #+4]
   \   00000060   0400CDE5           STRB     R0,[SP, #+4]
   1230                GUI_UNLOCK_H(pPage);
   \   00000064   ........           BL       GUI_ALLOC_UnlockH
   1231                if (GUI_ARRAY_SetItem(Handles, Index, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText))) {
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   ........           BL       strlen
   \   00000070   083080E2           ADD      R3,R0,#+8
   \   00000074   0D20A0E1           MOV      R2,SP
   \   00000078   0610A0E1           MOV      R1,R6
   \   0000007C   0700A0E1           MOV      R0,R7
   \   00000080   ........           BL       GUI_ARRAY_SetItem
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   0C00000A           BEQ      ??MULTIPAGE_SetText_1
   1232                  pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(Handles, Index);
   \   0000008C   0610A0E1           MOV      R1,R6
   \   00000090   0700A0E1           MOV      R0,R7
   \   00000094   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000098   0060A0E1           MOV      R6,R0
   1233                  GUI_MEMCPY(&pPage->acText, pText, strlen(pText) + 1);          
   \   0000009C   0500A0E1           MOV      R0,R5
   \   000000A0   ........           BL       strlen
   \   000000A4   012080E2           ADD      R2,R0,#+1
   \   000000A8   0510A0E1           MOV      R1,R5
   \   000000AC   050086E2           ADD      R0,R6,#+5
   \   000000B0   ........           BL       __aeabi_memcpy
   1234                  GUI_UNLOCK_H(pPage);
   \   000000B4   ........           BL       GUI_ALLOC_UnlockH
   1235                  MULTIPAGE__UpdatePositions(hObj);
   \   000000B8   0400A0E1           MOV      R0,R4
   \   000000BC   ........           BL       MULTIPAGE__UpdatePositions
   1236                }
   1237              }
   1238              WM_UNLOCK();
   \                     ??MULTIPAGE_SetText_1:
   \   000000C0   ........           BL       GUI_Unlock
   1239            }
   1240          }
   \                     ??MULTIPAGE_SetText_0:
   \   000000C4   08D08DE2           ADD      SP,SP,#+8        ;; stack cleaning
   \   000000C8   F081BDE8           POP      {R4-R8,PC}       ;; return
   1241          
   1242          /*********************************************************************
   1243          *
   1244          *       MULTIPAGE_SetBkColor
   1245          */

   \                                 In section .text, align 4, keep-with-next
   1246          void MULTIPAGE_SetBkColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
   \                     MULTIPAGE_SetBkColor:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   \   0000000C   0260A0E1           MOV      R6,R2
   1247            MULTIPAGE_Obj * pObj;
   1248            if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??MULTIPAGE_SetBkColor_0
   \   00000018   020056E3           CMP      R6,#+2
   \   0000001C   080000AA           BGE      ??MULTIPAGE_SetBkColor_0
   1249              WM_LOCK();
   \   00000020   ........           BL       GUI_Lock
   1250              pObj = MULTIPAGE_LOCK_H(hObj);
   1251              pObj->Props.aBkColor[Index] = Color;
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           BL       GUI_ALLOC_LockH
   \   0000002C   060180E0           ADD      R0,R0,R6, LSL #+2
   \   00000030   4C5080E5           STR      R5,[R0, #+76]
   1252              WM_InvalidateWindow(hObj);
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   ........           BL       WM_InvalidateWindow
   1253              GUI_UNLOCK_H(pObj);
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
   1254              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
   1255            }
   1256          }
   \                     ??MULTIPAGE_SetBkColor_0:
   \   00000044   7080BDE8           POP      {R4-R6,PC}       ;; return
   1257          
   1258          /*********************************************************************
   1259          *
   1260          *       MULTIPAGE_SetTextColor
   1261          */

   \                                 In section .text, align 4, keep-with-next
   1262          void MULTIPAGE_SetTextColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
   \                     MULTIPAGE_SetTextColor:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   \   0000000C   0260A0E1           MOV      R6,R2
   1263            MULTIPAGE_Obj * pObj;
   1264            if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0A00000A           BEQ      ??MULTIPAGE_SetTextColor_0
   \   00000018   020056E3           CMP      R6,#+2
   \   0000001C   080000AA           BGE      ??MULTIPAGE_SetTextColor_0
   1265              WM_LOCK();
   \   00000020   ........           BL       GUI_Lock
   1266              pObj = MULTIPAGE_LOCK_H(hObj);
   1267              pObj->Props.aTextColor[Index] = Color;
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           BL       GUI_ALLOC_LockH
   \   0000002C   060180E0           ADD      R0,R0,R6, LSL #+2
   \   00000030   545080E5           STR      R5,[R0, #+84]
   1268              WM_InvalidateWindow(hObj);
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   ........           BL       WM_InvalidateWindow
   1269              GUI_UNLOCK_H(pObj);
   \   0000003C   ........           BL       GUI_ALLOC_UnlockH
   1270              WM_UNLOCK();
   \   00000040   ........           BL       GUI_Unlock
   1271            }
   1272          }
   \                     ??MULTIPAGE_SetTextColor_0:
   \   00000044   7080BDE8           POP      {R4-R6,PC}       ;; return
   1273          
   1274          /*********************************************************************
   1275          *
   1276          *       MULTIPAGE_SetFont
   1277          */

   \                                 In section .text, align 4, keep-with-next
   1278          void MULTIPAGE_SetFont(MULTIPAGE_Handle hObj, const GUI_FONT GUI_UNI_PTR * pFont) {
   \                     MULTIPAGE_SetFont:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1279            MULTIPAGE_Obj * pObj;
   1280            if (hObj && pFont) {
   \   0000000C   000054E3           CMP      R4,#+0
   \   00000010   04D04DE2           SUB      SP,SP,#+4
   \   00000014   00005513           CMPNE    R5,#+0
   \   00000018   0700000A           BEQ      ??MULTIPAGE_SetFont_0
   1281              WM_LOCK();
   \   0000001C   ........           BL       GUI_Lock
   1282              pObj = MULTIPAGE_LOCK_H(hObj);
   1283              pObj->Props.pFont = pFont;
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   ........           BL       GUI_ALLOC_LockH
   \   00000028   445080E5           STR      R5,[R0, #+68]
   1284              GUI_UNLOCK_H(pObj);
   \   0000002C   ........           BL       GUI_ALLOC_UnlockH
   1285              MULTIPAGE__UpdatePositions(hObj);
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   ........           BL       MULTIPAGE__UpdatePositions
   1286              WM_UNLOCK();
   \   00000038   ........           BL       GUI_Unlock
   1287            }
   1288          }
   \                     ??MULTIPAGE_SetFont_0:
   \   0000003C   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000040   3080BDE8           POP      {R4,R5,PC}       ;; return
   1289          
   1290          /*********************************************************************
   1291          *
   1292          *       MULTIPAGE_SetAlign
   1293          */

   \                                 In section .text, align 4, keep-with-next
   1294          void MULTIPAGE_SetAlign(MULTIPAGE_Handle hObj, unsigned Align) {
   \                     MULTIPAGE_SetAlign:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   08D04DE2           SUB      SP,SP,#+8
   \   0000000C   0160A0E1           MOV      R6,R1
   1295            MULTIPAGE_Obj * pObj;
   1296            GUI_RECT rClient;
   1297            if (hObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   3700000A           BEQ      ??MULTIPAGE_SetAlign_0
   1298              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
   1299              pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   0050A0E1           MOV      R5,R0
   1300              pObj->Props.Align = Align;
   \   00000028   486085E5           STR      R6,[R5, #+72]
   1301              MULTIPAGE__CalcClientRect(hObj, &rClient);
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   ........           BL       GUI_ALLOC_LockH
   \   00000034   0060A0E1           MOV      R6,R0
   \   00000038   0D10A0E1           MOV      R1,SP
   \   0000003C   ........           BL       WIDGET__GetInsideRect
   \   00000040   4800D6E5           LDRB     R0,[R6, #+72]
   \   00000044   3220D6E5           LDRB     R2,[R6, #+50]
   \   00000048   041000E2           AND      R1,R0,#0x4
   \   0000004C   440096E5           LDR      R0,[R6, #+68]
   \   00000050   080012E3           TST      R2,#0x8
   \   00000054   0D00000A           BEQ      ??MULTIPAGE_SetAlign_1
   \   00000058   000051E3           CMP      R1,#+0
   \   0000005C   0500000A           BEQ      ??MULTIPAGE_SetAlign_2
   \   00000060   ........           BL       GUI_GetYSizeOfFont
   \   00000064   F010DDE1           LDRSH    R1,[SP, #+0]
   \   00000068   060080E2           ADD      R0,R0,#+6
   \   0000006C   010080E0           ADD      R0,R0,R1
   \   00000070   B000CDE1           STRH     R0,[SP, #+0]
   \   00000074   120000EA           B        ??MULTIPAGE_SetAlign_3
   \                     ??MULTIPAGE_SetAlign_2:
   \   00000078   ........           BL       GUI_GetYSizeOfFont
   \   0000007C   F410DDE1           LDRSH    R1,[SP, #+4]
   \   00000080   000041E0           SUB      R0,R1,R0
   \   00000084   060040E2           SUB      R0,R0,#+6
   \   00000088   B400CDE1           STRH     R0,[SP, #+4]
   \   0000008C   0C0000EA           B        ??MULTIPAGE_SetAlign_3
   \                     ??MULTIPAGE_SetAlign_1:
   \   00000090   000051E3           CMP      R1,#+0
   \   00000094   0500000A           BEQ      ??MULTIPAGE_SetAlign_4
   \   00000098   ........           BL       GUI_GetYSizeOfFont
   \   0000009C   F610DDE1           LDRSH    R1,[SP, #+6]
   \   000000A0   000041E0           SUB      R0,R1,R0
   \   000000A4   060040E2           SUB      R0,R0,#+6
   \   000000A8   B600CDE1           STRH     R0,[SP, #+6]
   \   000000AC   040000EA           B        ??MULTIPAGE_SetAlign_3
   \                     ??MULTIPAGE_SetAlign_4:
   \   000000B0   ........           BL       GUI_GetYSizeOfFont
   \   000000B4   F210DDE1           LDRSH    R1,[SP, #+2]
   \   000000B8   060080E2           ADD      R0,R0,#+6
   \   000000BC   010080E0           ADD      R0,R0,R1
   \   000000C0   B200CDE1           STRH     R0,[SP, #+2]
   \                     ??MULTIPAGE_SetAlign_3:
   \   000000C4   ........           BL       GUI_ALLOC_UnlockH
   1302              WM_MoveTo(pObj->hClient, rClient.x0 + pObj->Widget.Win.Rect.x0,
   1303                                       rClient.y0 + pObj->Widget.Win.Rect.y0);
   \   000000C8   F200DDE1           LDRSH    R0,[SP, #+2]
   \   000000CC   F210D5E1           LDRSH    R1,[R5, #+2]
   \   000000D0   002081E0           ADD      R2,R1,R0
   \   000000D4   F000DDE1           LDRSH    R0,[SP, #+0]
   \   000000D8   F010D5E1           LDRSH    R1,[R5, #+0]
   \   000000DC   001081E0           ADD      R1,R1,R0
   \   000000E0   340095E5           LDR      R0,[R5, #+52]
   \   000000E4   ........           BL       WM_MoveTo
   1304              GUI_UNLOCK_H(pObj);
   \   000000E8   ........           BL       GUI_ALLOC_UnlockH
   1305              MULTIPAGE__UpdatePositions(hObj);
   \   000000EC   0400A0E1           MOV      R0,R4
   \   000000F0   ........           BL       MULTIPAGE__UpdatePositions
   1306              WM_UNLOCK();
   \   000000F4   ........           BL       GUI_Unlock
   1307            }
   1308          }
   \                     ??MULTIPAGE_SetAlign_0:
   \   000000F8   08D08DE2           ADD      SP,SP,#+8        ;; stack cleaning
   \   000000FC   7080BDE8           POP      {R4-R6,PC}       ;; return
   1309          
   1310          /*********************************************************************
   1311          *
   1312          *       MULTIPAGE_GetSelection
   1313          */

   \                                 In section .text, align 4, keep-with-next
   1314          int MULTIPAGE_GetSelection(MULTIPAGE_Handle hObj) {
   \                     MULTIPAGE_GetSelection:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040B0E1           MOVS     R4,R0
   1315            int r = 0;
   \   0000000C   0050A0E3           MOV      R5,#+0
   1316            if (hObj) {
   \   00000010   0500000A           BEQ      ??MULTIPAGE_GetSelection_0
   1317              MULTIPAGE_Obj * pObj;
   1318              WM_LOCK();
   \   00000014   ........           BL       GUI_Lock
   1319              pObj = MULTIPAGE_LOCK_H(hObj);
   1320              r = pObj->Selection;
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       GUI_ALLOC_LockH
   \   00000020   3C5090E5           LDR      R5,[R0, #+60]
   1321              GUI_UNLOCK_H(pObj);
   \   00000024   ........           BL       GUI_ALLOC_UnlockH
   1322              WM_UNLOCK();
   \   00000028   ........           BL       GUI_Unlock
   1323            }
   1324            return r;
   \                     ??MULTIPAGE_GetSelection_0:
   \   0000002C   0500A0E1           MOV      R0,R5
   \   00000030   04D08DE2           ADD      SP,SP,#+4
   \   00000034   3080BDE8           POP      {R4,R5,PC}       ;; return
   1325          }
   1326          
   1327          /*********************************************************************
   1328          *
   1329          *       MULTIPAGE_GetWindow
   1330          */

   \                                 In section .text, align 4, keep-with-next
   1331          WM_HWIN MULTIPAGE_GetWindow(MULTIPAGE_Handle hObj, unsigned Index) {
   \                     MULTIPAGE_GetWindow:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1332            WM_HWIN r = 0;
   \   0000000C   0060A0E3           MOV      R6,#+0
   1333            unsigned NumItems;
   1334            if (hObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0E00000A           BEQ      ??MULTIPAGE_GetWindow_0
   1335              MULTIPAGE_Obj * pObj;
   1336              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
   1337              pObj = MULTIPAGE_LOCK_H(hObj);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   0040A0E1           MOV      R4,R0
   1338              NumItems = GUI_ARRAY_GetNumItems(pObj->Handles);
   1339              if (Index < NumItems) {
   \   00000028   380094E5           LDR      R0,[R4, #+56]
   \   0000002C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000030   000055E1           CMP      R5,R0
   \   00000034   0400002A           BCS      ??MULTIPAGE_GetWindow_1
   1340                MULTIPAGE_PAGE * pPage;
   1341                pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItemLocked(pObj->Handles, Index);
   1342                r = pPage->hWin;
   \   00000038   0510A0E1           MOV      R1,R5
   \   0000003C   380094E5           LDR      R0,[R4, #+56]
   \   00000040   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000044   006090E5           LDR      R6,[R0, #+0]
   1343                GUI_UNLOCK_H(pPage);
   \   00000048   ........           BL       GUI_ALLOC_UnlockH
   1344              }
   1345              GUI_UNLOCK_H(pObj);
   \                     ??MULTIPAGE_GetWindow_1:
   \   0000004C   ........           BL       GUI_ALLOC_UnlockH
   1346              WM_UNLOCK();
   \   00000050   ........           BL       GUI_Unlock
   1347            }
   1348            return r;
   \                     ??MULTIPAGE_GetWindow_0:
   \   00000054   0600A0E1           MOV      R0,R6
   \   00000058   7080BDE8           POP      {R4-R6,PC}       ;; return
   1349          }
   1350          
   1351          /*********************************************************************
   1352          *
   1353          *       MULTIPAGE_IsPageEnabled
   1354          */

   \                                 In section .text, align 4, keep-with-next
   1355          int MULTIPAGE_IsPageEnabled(MULTIPAGE_Handle hObj, unsigned Index) {
   \                     MULTIPAGE_IsPageEnabled:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1356            int r = 0;
   \   0000000C   0060A0E3           MOV      R6,#+0
   1357            if (hObj) {
   \   00000010   000054E3           CMP      R4,#+0
   \   00000014   0F00000A           BEQ      ??MULTIPAGE_IsPageEnabled_0
   1358              WM_LOCK();
   \   00000018   ........           BL       GUI_Lock
   1359              r = _GetEnable(hObj, Index);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       GUI_ALLOC_LockH
   \   00000024   0040A0E1           MOV      R4,R0
   \   00000028   380094E5           LDR      R0,[R4, #+56]
   \   0000002C   ........           BL       GUI_ARRAY_GetNumItems
   \   00000030   000055E1           CMP      R5,R0
   \   00000034   0500002A           BCS      ??MULTIPAGE_IsPageEnabled_1
   \   00000038   0510A0E1           MOV      R1,R5
   \   0000003C   380094E5           LDR      R0,[R4, #+56]
   \   00000040   ........           BL       GUI_ARRAY_GetpItemLocked
   \   00000044   0400D0E5           LDRB     R0,[R0, #+4]
   \   00000048   016000E2           AND      R6,R0,#0x1
   \   0000004C   ........           BL       GUI_ALLOC_UnlockH
   \                     ??MULTIPAGE_IsPageEnabled_1:
   \   00000050   ........           BL       GUI_ALLOC_UnlockH
   1360              WM_UNLOCK();
   \   00000054   ........           BL       GUI_Unlock
   1361            }
   1362            return r;
   \                     ??MULTIPAGE_IsPageEnabled_0:
   \   00000058   0600A0E1           MOV      R0,R6
   \   0000005C   7080BDE8           POP      {R4-R6,PC}       ;; return
   1363          }
   1364          
   1365          /*********************************************************************
   1366          *
   1367          *       MULTIPAGE_SetEffectColor
   1368          */

   \                                 In section .text, align 4, keep-with-next
   1369          void MULTIPAGE_SetEffectColor(unsigned Index, GUI_COLOR Color) {
   1370            if (Index < GUI_COUNTOF(MULTIPAGE__aEffectColor)) {
   \                     MULTIPAGE_SetEffectColor:
   \   00000000   020050E3           CMP      R0,#+2
   1371              MULTIPAGE__aEffectColor[Index] = Color;
   \   00000004   ........           LDRCC    R2,??DataTable3_4
   \   00000008   00118237           STRCC    R1,[R2, +R0, LSL #+2]
   1372            }
   1373          }
   \   0000000C   1EFF2FE1           BX       LR               ;; return
   1374          
   1375          /*********************************************************************
   1376          *
   1377          *       MULTIPAGE_GetEffectColor
   1378          */

   \                                 In section .text, align 4, keep-with-next
   1379          GUI_COLOR MULTIPAGE_GetEffectColor(unsigned Index) {
   1380            GUI_COLOR Color;
   1381            Color = 0;
   \                     MULTIPAGE_GetEffectColor:
   \   00000000   0010A0E3           MOV      R1,#+0
   1382            if (Index < GUI_COUNTOF(MULTIPAGE__aEffectColor)) {
   \   00000004   020050E3           CMP      R0,#+2
   1383              Color = MULTIPAGE__aEffectColor[Index];
   \   00000008   ........           LDRCC    R1,??DataTable3_4
   \   0000000C   00119137           LDRCC    R1,[R1, +R0, LSL #+2]
   1384            }
   1385            return Color;
   \   00000010   0100A0E1           MOV      R0,R1
   \   00000014   1EFF2FE1           BX       LR               ;; return
   1386          }
   1387          
   1388          /*********************************************************************
   1389          *
   1390          *       MULTIPAGE_GetNumEffectColors
   1391          */

   \                                 In section .text, align 4, keep-with-next
   1392          int MULTIPAGE_GetNumEffectColors(void) {
   1393            return GUI_COUNTOF(MULTIPAGE__aEffectColor);
   \                     MULTIPAGE_GetNumEffectColors:
   \   00000000   0200A0E3           MOV      R0,#+2
   \   00000004   1EFF2FE1           BX       LR               ;; return
   1394          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32     MULTIPAGE__aEffectColor

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32     MULTIPAGE_Callback

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   ........           DC32     MULTIPAGE__DefaultProps

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   ........           DC32     MULTIPAGE__DrawTextItemH

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   ........           DC32     _ClientCallback

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   ........           DC32     MULTIPAGE__aEffectColor
   1395          
   1396          #else /* avoid empty object files */
   1397          
   1398          void MULTIPAGE_C(void);
   1399          void MULTIPAGE_C(void){}
   1400          
   1401          #endif  /* #if GUI_WINSUPPORT */
   1402          
   1403          
   1404          

   Maximum stack usage in bytes:

     Function                     .cstack
     --------                     -------
     MULTIPAGE_AddPage                48
     MULTIPAGE_Callback               24
     MULTIPAGE_CreateEx               56
     MULTIPAGE_DeletePage             48
     MULTIPAGE_DisablePage            16
     MULTIPAGE_EnablePage             16
     MULTIPAGE_GetEffectColor          0
     MULTIPAGE_GetNumEffectColors      0
     MULTIPAGE_GetSelection           16
     MULTIPAGE_GetWindow              16
     MULTIPAGE_IsPageEnabled          16
     MULTIPAGE_SelectPage             32
     MULTIPAGE_SetAlign               24
     MULTIPAGE_SetBkColor             16
     MULTIPAGE_SetEffectColor          0
     MULTIPAGE_SetFont                16
     MULTIPAGE_SetText                32
     MULTIPAGE_SetTextColor           16
     MULTIPAGE__CalcClientRect        16
     MULTIPAGE__DeleteScrollbar       16
     MULTIPAGE__DrawTextItemH         40
     MULTIPAGE__UpdatePositions       56
     _AddScrollbar                    56
     _ClickedOnMultipage              56
     _ClientCallback                  16
     _GetTextRect                     48
     _MoveSel                         48
     _OnTouch                         32
     _Paint                           72


   Section sizes:

     Function/Label               Bytes
     --------------               -----
     MULTIPAGE__aEffectColor         8
     MULTIPAGE__DefaultProps        24
     _AddScrollbar                 260
     _GetTextRect                 1020
     _Paint                        908
     _ClickedOnMultipage          1104
     _OnTouch                      224
     _MoveSel                      308
     _ClientCallback               232
     MULTIPAGE__DrawTextItemH      408
     MULTIPAGE__UpdatePositions   1392
     MULTIPAGE__CalcClientRect     172
     MULTIPAGE__DeleteScrollbar    104
     MULTIPAGE_Callback            524
     MULTIPAGE_CreateEx            432
     MULTIPAGE_AddPage             360
     MULTIPAGE_DeletePage          500
     MULTIPAGE_SelectPage          348
     MULTIPAGE_DisablePage         104
     MULTIPAGE_EnablePage          104
     MULTIPAGE_SetText             204
     MULTIPAGE_SetBkColor           72
     MULTIPAGE_SetTextColor         72
     MULTIPAGE_SetFont              68
     MULTIPAGE_SetAlign            256
     MULTIPAGE_GetSelection         56
     MULTIPAGE_GetWindow            92
     MULTIPAGE_IsPageEnabled        96
     MULTIPAGE_SetEffectColor       16
     MULTIPAGE_GetEffectColor       24
     MULTIPAGE_GetNumEffectColors    8
     ??DataTable1                    4
     ??DataTable3                    4
     ??DataTable3_1                  4
     ??DataTable3_2                  4
     ??DataTable3_3                  4
     ??DataTable3_4                  4

 
    32 bytes in section .data
 9 492 bytes in section .text
 
 9 492 bytes of CODE memory
    32 bytes of DATA memory

Errors: none
Warnings: none
